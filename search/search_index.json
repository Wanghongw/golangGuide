{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Golang\u670d\u52a1\u7aef\u5165\u95e8\u4e0e\u8fdb\u9636\u6307\u5357 \u7f16\u8005\u6309 \u672c\u6587\u6863\u662f\u7b14\u8005\u5728\u5b66\u4e60\u4e0e\u5b9e\u9645\u4f7f\u7528Golang\u8fdb\u884c\u5f00\u53d1\u7684\u8fc7\u7a0b\u4e2d\u6240\u505a\u7684\u7b14\u8bb0\u6216\u8005\u5199\u7684\u4e00\u4e9bdemo\u6c47\u96c6\u800c\u6210\u7684\u7efc\u5408\u6027\u7684\u6307\u5357\u3002\u6700\u8fd1\u81ea\u5df1\u4e5f\u82b1\u4e86\u4e00\u4e9b\u65f6\u95f4\u5c06\u96f6\u6563\u7684\u7b14\u8bb0\u6216\u535a\u5ba2\u6574\u5408\u4e86\u4e00\u4e0b\uff0c\u91cc\u9762\u7684\u6848\u4f8b\u57fa\u672c\u90fd\u662f\u81ea\u5df1\u5e73\u65f6\u5199\u4e1a\u52a1\u4ee3\u7801\u8e29\u8fc7\u7684\u5751\u6216\u8005\u603b\u7ed3\u7684\u6bd4\u8f83\u597d\u7684issue\uff0c\u5e0c\u671b\u5bf9\u4ece\u4e8bGolang\u5f00\u53d1\u5de5\u4f5c\u7684\u8bfb\u8005\u4eec\u6709\u6240\u5e2e\u52a9\u3002 \u672c\u6587\u6863\u4f7f\u7528\u4e86 mkdocs \u8fdb\u884c\u64b0\u5199\u5e76\u6258\u7ba1\u5230github\u4e0a\u514d\u8d39\u90e8\u7f72\u4e0a\u7ebf\uff0c\u5982\u679c\u4f60\u4e5f\u6709\u5174\u8da3\u81ea\u5df1\u5199\u4e00\u4e2a\u6587\u6863\u53ef\u4ee5\u53c2\u8003\u7b14\u8005\u7684\u8fd9\u7bc7\u535a\u5ba2\uff1a \u4f7f\u7528mkdocs\u64b0\u5199\u6280\u672f\u6587\u6863\u5e76\u514d\u8d39\u90e8\u7f72\u4e0a\u7ebf \u672c\u6587\u6863\u5171\u5206\u4e3a3\u90e8\u5206\uff1a \u7b2c\u4e00\u90e8\u5206\u662f\u7b14\u8005\u4e2a\u4eba\u5728\u5de5\u4f5c\u5b9e\u8df5\u4e2d\u603b\u7ed3\u7684\u4e00\u4e9b\u77e5\u8bc6\u70b9\u3001\u8e29\u8fc7\u7684\u5751\u4ee5\u53ca\u5c01\u88c5\u7684\u4e00\u4e9b\u65b9\u4fbf\u7684\u529f\u80fd\uff1b \u7b2c\u4e8c\u90e8\u5206\u662f\u521a\u521a\u63a5\u89e6Go\u8bed\u8a00\u8bfb\u4e66\u3001\u8bfb\u6587\u6863\u3001\u67e5\u8d44\u6599\u5bf9\u4e00\u4e9b\u5341\u5206\u57fa\u7840\u7684\u77e5\u8bc6\u70b9\u7684\u603b\u7ed3\u4ee5\u53ca\u4eb2\u624b\u5b9e\u8df5\uff0c\u5c5e\u4e8e\u6bd4\u8f83\u57fa\u7840\u7684\u90e8\u5206\uff1b \u7b2c\u4e09\u90e8\u5206\u662f\u7b14\u8005\u9605\u8bfb\u300a The Go Programming Language \u300b\u505a\u7684\u4e00\u4e9b\u7b14\u8bb0\uff0c\u5176\u4e2d\u6587\u7248\u9879\u76ee\u662f Go\u8bed\u8a00\u5723\u7ecf\uff08\u4e2d\u6587\u7248\uff09 \uff0c\u4e2a\u4eba\u8ba4\u4e3a\u8fd9\u672c\u4e66\u662f\u6bcf\u4e00\u4f4d\u5165\u95e8Golang\u7684Golanger\u5fc5\u8bfb\u7684\u7ecf\u5178\u4e66\u7c4d\uff0c\u4e66\u4e2d\u7531\u6d45\u5165\u6df1\u5730\u5bf9Golang\u6bcf\u4e00\u4e2a\u77e5\u8bc6\u70b9\u8fdb\u884c\u4e86\u4ee3\u7801\u8be0\u91ca\uff0c\u5e76\u4e14\u7f57\u5217\u51fa\u4e86\u4e00\u4e9b\u5f00\u53d1\u8005\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u5e38\u89c1\u7684\u9519\u8bef\u3001\u9519\u8bef\u539f\u56e0\u4e0e\u89e3\u51b3\u65b9\u6848\u3002 \u5982\u679c\u60a8\u89c9\u5f97\u672c\u6307\u5357\u5bf9\u60a8\u6709\u5e2e\u52a9\uff0c\u53ef\u4ee5\u6253\u8d4f\u652f\u6301\u4f5c\u8005\uff0c\u611f\u8c22\u60a8\u7684\u652f\u6301\uff01","title":"Home"},{"location":"#golang","text":"","title":"Golang\u670d\u52a1\u7aef\u5165\u95e8\u4e0e\u8fdb\u9636\u6307\u5357"},{"location":"#_1","text":"\u672c\u6587\u6863\u662f\u7b14\u8005\u5728\u5b66\u4e60\u4e0e\u5b9e\u9645\u4f7f\u7528Golang\u8fdb\u884c\u5f00\u53d1\u7684\u8fc7\u7a0b\u4e2d\u6240\u505a\u7684\u7b14\u8bb0\u6216\u8005\u5199\u7684\u4e00\u4e9bdemo\u6c47\u96c6\u800c\u6210\u7684\u7efc\u5408\u6027\u7684\u6307\u5357\u3002\u6700\u8fd1\u81ea\u5df1\u4e5f\u82b1\u4e86\u4e00\u4e9b\u65f6\u95f4\u5c06\u96f6\u6563\u7684\u7b14\u8bb0\u6216\u535a\u5ba2\u6574\u5408\u4e86\u4e00\u4e0b\uff0c\u91cc\u9762\u7684\u6848\u4f8b\u57fa\u672c\u90fd\u662f\u81ea\u5df1\u5e73\u65f6\u5199\u4e1a\u52a1\u4ee3\u7801\u8e29\u8fc7\u7684\u5751\u6216\u8005\u603b\u7ed3\u7684\u6bd4\u8f83\u597d\u7684issue\uff0c\u5e0c\u671b\u5bf9\u4ece\u4e8bGolang\u5f00\u53d1\u5de5\u4f5c\u7684\u8bfb\u8005\u4eec\u6709\u6240\u5e2e\u52a9\u3002 \u672c\u6587\u6863\u4f7f\u7528\u4e86 mkdocs \u8fdb\u884c\u64b0\u5199\u5e76\u6258\u7ba1\u5230github\u4e0a\u514d\u8d39\u90e8\u7f72\u4e0a\u7ebf\uff0c\u5982\u679c\u4f60\u4e5f\u6709\u5174\u8da3\u81ea\u5df1\u5199\u4e00\u4e2a\u6587\u6863\u53ef\u4ee5\u53c2\u8003\u7b14\u8005\u7684\u8fd9\u7bc7\u535a\u5ba2\uff1a \u4f7f\u7528mkdocs\u64b0\u5199\u6280\u672f\u6587\u6863\u5e76\u514d\u8d39\u90e8\u7f72\u4e0a\u7ebf \u672c\u6587\u6863\u5171\u5206\u4e3a3\u90e8\u5206\uff1a \u7b2c\u4e00\u90e8\u5206\u662f\u7b14\u8005\u4e2a\u4eba\u5728\u5de5\u4f5c\u5b9e\u8df5\u4e2d\u603b\u7ed3\u7684\u4e00\u4e9b\u77e5\u8bc6\u70b9\u3001\u8e29\u8fc7\u7684\u5751\u4ee5\u53ca\u5c01\u88c5\u7684\u4e00\u4e9b\u65b9\u4fbf\u7684\u529f\u80fd\uff1b \u7b2c\u4e8c\u90e8\u5206\u662f\u521a\u521a\u63a5\u89e6Go\u8bed\u8a00\u8bfb\u4e66\u3001\u8bfb\u6587\u6863\u3001\u67e5\u8d44\u6599\u5bf9\u4e00\u4e9b\u5341\u5206\u57fa\u7840\u7684\u77e5\u8bc6\u70b9\u7684\u603b\u7ed3\u4ee5\u53ca\u4eb2\u624b\u5b9e\u8df5\uff0c\u5c5e\u4e8e\u6bd4\u8f83\u57fa\u7840\u7684\u90e8\u5206\uff1b \u7b2c\u4e09\u90e8\u5206\u662f\u7b14\u8005\u9605\u8bfb\u300a The Go Programming Language \u300b\u505a\u7684\u4e00\u4e9b\u7b14\u8bb0\uff0c\u5176\u4e2d\u6587\u7248\u9879\u76ee\u662f Go\u8bed\u8a00\u5723\u7ecf\uff08\u4e2d\u6587\u7248\uff09 \uff0c\u4e2a\u4eba\u8ba4\u4e3a\u8fd9\u672c\u4e66\u662f\u6bcf\u4e00\u4f4d\u5165\u95e8Golang\u7684Golanger\u5fc5\u8bfb\u7684\u7ecf\u5178\u4e66\u7c4d\uff0c\u4e66\u4e2d\u7531\u6d45\u5165\u6df1\u5730\u5bf9Golang\u6bcf\u4e00\u4e2a\u77e5\u8bc6\u70b9\u8fdb\u884c\u4e86\u4ee3\u7801\u8be0\u91ca\uff0c\u5e76\u4e14\u7f57\u5217\u51fa\u4e86\u4e00\u4e9b\u5f00\u53d1\u8005\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u5e38\u89c1\u7684\u9519\u8bef\u3001\u9519\u8bef\u539f\u56e0\u4e0e\u89e3\u51b3\u65b9\u6848\u3002 \u5982\u679c\u60a8\u89c9\u5f97\u672c\u6307\u5357\u5bf9\u60a8\u6709\u5e2e\u52a9\uff0c\u53ef\u4ee5\u6253\u8d4f\u652f\u6301\u4f5c\u8005\uff0c\u611f\u8c22\u60a8\u7684\u652f\u6301\uff01","title":"\u7f16\u8005\u6309"},{"location":"go%E5%9C%A3%E7%BB%8F/1%E5%B9%B6%E5%8F%91/","text":"8.1 Goroutines \u5728Go\u8bed\u8a00\u4e2d\uff0c\u6bcf\u4e00\u4e2a\u5e76\u53d1\u7684\u6267\u884c\u5355\u5143\u53eb\u4f5c\u4e00\u4e2agoroutine\u3002\u8bbe\u60f3\u8fd9\u91cc\u7684\u4e00\u4e2a\u7a0b\u5e8f\u6709\u4e24\u4e2a\u51fd\u6570\uff0c\u4e00\u4e2a\u51fd\u6570\u505a\u8ba1\u7b97\uff0c\u53e6\u4e00\u4e2a\u8f93\u51fa\u7ed3\u679c\uff0c\u5047\u8bbe\u4e24\u4e2a\u51fd\u6570\u6ca1\u6709\u76f8\u4e92\u4e4b\u95f4\u7684\u8c03\u7528\u5173\u7cfb\u3002\u4e00\u4e2a\u7ebf\u6027\u7684\u7a0b\u5e8f\u4f1a\u5148\u8c03\u7528\u5176\u4e2d\u7684\u4e00\u4e2a\u51fd\u6570\uff0c\u7136\u540e\u518d\u8c03\u7528\u53e6\u4e00\u4e2a\u3002\u5982\u679c\u7a0b\u5e8f\u4e2d\u5305\u542b\u591a\u4e2agoroutine\uff0c\u5bf9\u4e24\u4e2a\u51fd\u6570\u7684\u8c03\u7528\u5219\u53ef\u80fd\u53d1\u751f\u5728\u540c\u4e00\u65f6\u523b\u3002\u9a6c\u4e0a\u5c31\u4f1a\u770b\u5230\u8fd9\u6837\u7684\u4e00\u4e2a\u7a0b\u5e8f\u3002 \u5982\u679c\u4f60\u4f7f\u7528\u8fc7\u64cd\u4f5c\u7cfb\u7edf\u6216\u8005\u5176\u5b83\u8bed\u8a00\u63d0\u4f9b\u7684\u7ebf\u7a0b\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5\u7b80\u5355\u5730\u628agoroutine\u7c7b\u6bd4\u4f5c\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u8fd9\u6837\u4f60\u5c31\u53ef\u4ee5\u5199\u51fa\u4e00\u4e9b\u6b63\u786e\u7684\u7a0b\u5e8f\u4e86\u3002goroutine\u548c\u7ebf\u7a0b\u7684\u672c\u8d28\u533a\u522b\u4f1a\u57289.8\u8282\u4e2d\u8bb2\u3002 \u5f53\u4e00\u4e2a\u7a0b\u5e8f\u542f\u52a8\u65f6\uff0c\u5176\u4e3b\u51fd\u6570\u5373\u5728\u4e00\u4e2a\u5355\u72ec\u7684goroutine\u4e2d\u8fd0\u884c\uff0c\u6211\u4eec\u53eb\u5b83main goroutine\u3002\u65b0\u7684goroutine\u4f1a\u7528go\u8bed\u53e5\u6765\u521b\u5efa\u3002\u5728\u8bed\u6cd5\u4e0a\uff0cgo\u8bed\u53e5\u662f\u4e00\u4e2a\u666e\u901a\u7684\u51fd\u6570\u6216\u65b9\u6cd5\u8c03\u7528\u524d\u52a0\u4e0a\u5173\u952e\u5b57go\u3002 go\u8bed\u53e5\u4f1a\u4f7f\u5176\u8bed\u53e5\u4e2d\u7684\u51fd\u6570\u5728\u4e00\u4e2a\u65b0\u521b\u5efa\u7684goroutine\u4e2d\u8fd0\u884c\u3002\u800cgo\u8bed\u53e5\u672c\u8eab\u4f1a\u8fc5\u901f\u5730\u5b8c\u6210\u3002 package main import ( \"fmt\" \"time\" ) func main(){ // \u4e0emain goroutine \u540c\u65f6\u6267\u884c\uff0c\u4e3bgoroutine\u7ed3\u675f\u5b83\u4e5f\u8ddf\u7740\u7ed3\u675f\u4e86 go spinner(time.Millisecond * 100) const n = 45 fibN := fib(n) fmt.Printf(\"fib(%d): %d\\n\",n , fibN) } // \u6253\u5370\u7b49\u5f85\u7684\u56fe\u6807 func spinner(delay time.Duration){ for { for _, r := range `-\\|/`{ fmt.Printf(\"\\r%c\", r) time.Sleep(delay) } } } // \u8ba1\u7b97\u6590\u6ce2\u90a3\u5951\u6570\u5217\u7b2cn\u4e2a\u503c func fib(x int) int{ if x < 2{ return x } return fib(x-1) + fib(x-2) } \u4e3b\u51fd\u6570\u8fd4\u56de\u65f6\uff0c\u6240\u6709\u7684goroutine\u90fd\u4f1a\u88ab\u76f4\u63a5\u6253\u65ad\uff0c\u7a0b\u5e8f\u9000\u51fa\u3002 \u2757\ufe0f\u9664\u4e86\u4ece\u4e3b\u51fd\u6570\u9000\u51fa\u6216\u8005\u76f4\u63a5\u7ec8\u6b62\u7a0b\u5e8f\u4e4b\u5916\uff0c\u6ca1\u6709\u5176\u5b83\u7684\u7f16\u7a0b\u65b9\u6cd5\u80fd\u591f\u8ba9\u4e00\u4e2agoroutine\u6765\u6253\u65ad\u53e6\u4e00\u4e2a\u7684\u6267\u884c\u3002 \u2757\ufe0f\u4f46\u662f\u4e4b\u540e\u53ef\u4ee5\u770b\u5230\u4e00\u79cd\u65b9\u5f0f\u6765\u5b9e\u73b0\u8fd9\u4e2a\u76ee\u7684\uff0c\u901a\u8fc7goroutine\u4e4b\u95f4\u7684\u901a\u4fe1\u6765\u8ba9\u4e00\u4e2agoroutine\u8bf7\u6c42\u5176\u5b83\u7684goroutine\uff0c\u5e76\u8ba9\u88ab\u8bf7\u6c42\u7684goroutine\u81ea\u884c\u7ed3\u675f\u6267\u884c\u3002 8.2 \u793a\u4f8b:\u5e76\u53d1\u7684clock\u670d\u52a1\u2753 ... 8.3 \u793a\u4f8b:\u5e76\u53d1\u7684echo\u670d\u52a1\u2753 ... 8.4\u2728 Channels \u5982\u679c\u8bf4goroutine\u662fGo\u8bed\u8a00\u7a0b\u5e8f\u7684\u5e76\u53d1\u4f53\u7684\u8bdd\uff0c\u90a3\u4e48channels\u5219\u662f\u5b83\u4eec\u4e4b\u95f4\u7684\u901a\u4fe1\u673a\u5236\u3002 \u4e00\u4e2achannel\u662f\u4e00\u4e2a\u901a\u4fe1\u673a\u5236\uff0c\u5b83\u53ef\u4ee5\u8ba9\u4e00\u4e2agoroutine\u901a\u8fc7\u5b83\u7ed9\u53e6\u4e00\u4e2agoroutine\u53d1\u9001\u503c\u4fe1\u606f\u3002 \u6bcf\u4e2achannel\u90fd\u6709\u4e00\u4e2a\u7279\u6b8a\u7684\u7c7b\u578b\uff0c\u4e5f\u5c31\u662fchannels\u53ef\u53d1\u9001\u6570\u636e\u7684\u7c7b\u578b\u3002 \u4e00\u4e2a\u53ef\u4ee5\u53d1\u9001string\u7c7b\u578b\u6570\u636e\u7684channel\u4e00\u822c\u5199\u4e3achan string\u3002 \u521b\u5efachannel ch := make(chan string) channel\u7684\u7c7b\u578b\u53ca\u6bd4\u8f83 \u548cmap\u7c7b\u4f3c\uff0cchannel\u4e5f\u5bf9\u5e94\u4e00\u4e2amake\u521b\u5efa\u7684\u5e95\u5c42\u6570\u636e\u7ed3\u6784\u7684\u5f15\u7528\u3002 \u2757\ufe0f\u5f53\u6211\u4eec\u590d\u5236\u4e00\u4e2achannel\u6216\u7528\u4e8e\u51fd\u6570\u53c2\u6570\u4f20\u9012\u65f6\uff0c\u6211\u4eec\u53ea\u662f\u62f7\u8d1d\u4e86\u4e00\u4e2achannel\u5f15\u7528\uff0c\u56e0\u6b64\u8c03\u7528\u8005\u548c\u88ab\u8c03\u7528\u8005\u5c06\u5f15\u7528\u540c\u4e00\u4e2achannel\u5bf9\u8c61\u3002 \u548c\u5176\u5b83\u7684\u5f15\u7528\u7c7b\u578b\u4e00\u6837\uff0cchannel\u7684\u96f6\u503c\u4e5f\u662fnil\u3002 \u4e24\u4e2a\u76f8\u540c\u7c7b\u578b\u7684channel\u53ef\u4ee5\u4f7f\u7528==\u8fd0\u7b97\u7b26\u6bd4\u8f83\u3002\u5982\u679c\u4e24\u4e2achannel\u5f15\u7528\u7684\u662f\u76f8\u540c\u7684\u5bf9\u8c61\uff0c\u90a3\u4e48\u6bd4\u8f83\u7684\u7ed3\u679c\u4e3a\u771f\u3002\u4e00\u4e2achannel\u4e5f\u53ef\u4ee5\u548cnil\u8fdb\u884c\u6bd4\u8f83\u3002 channel\u7684\u53d1\u9001\u4e0e\u63a5\u6536 \u4e00\u4e2achannel\u6709\u53d1\u9001\u548c\u63a5\u53d7\u4e24\u4e2a\u4e3b\u8981\u64cd\u4f5c\uff0c\u90fd\u662f\u901a\u4fe1\u884c\u4e3a\u3002 \u4e00\u4e2a\u53d1\u9001\u8bed\u53e5\u5c06\u4e00\u4e2a\u503c\u4ece\u4e00\u4e2agoroutine\u901a\u8fc7channel\u53d1\u9001\u5230\u53e6\u4e00\u4e2a\u6267\u884c\u63a5\u6536\u64cd\u4f5c\u7684goroutine\u3002 \u53d1\u9001\u548c\u63a5\u6536\u4e24\u4e2a\u64cd\u4f5c\u90fd\u4f7f\u7528 <- \u8fd0\u7b97\u7b26\u3002 \u5728\u53d1\u9001\u8bed\u53e5\u4e2d\uff0c <- \u8fd0\u7b97\u7b26\u5206\u5272channel\u548c\u8981\u53d1\u9001\u7684\u503c\u3002 \u5728\u63a5\u6536\u8bed\u53e5\u4e2d\uff0c <- \u8fd0\u7b97\u7b26\u5199\u5728channel\u5bf9\u8c61\u4e4b\u524d\u3002 \u4e00\u4e2a\u4e0d\u4f7f\u7528\u63a5\u6536\u7ed3\u679c\u7684\u63a5\u6536\u64cd\u4f5c\u4e5f\u662f\u5408\u6cd5\u7684\u3002 ch <- x // a send statement x = <-ch // a receive expression in an assignment statement <-ch // a receive statement; result is discarded(\u4e22\u5f03) \u5173\u95edchannel Channel\u8fd8\u652f\u6301close\u64cd\u4f5c\uff0c\u7528\u4e8e\u5173\u95edchannel\uff0c\u968f\u540e\u5bf9\u57fa\u4e8e\u8be5channel\u7684\u4efb\u4f55 \u53d1\u9001 \u64cd\u4f5c\u90fd\u5c06\u5bfc\u81f4panic\u5f02\u5e38\u3002 \u5bf9\u4e00\u4e2a\u5df2\u7ecf\u88abclose\u8fc7\u7684channel\u8fdb\u884c \u63a5\u6536 \u64cd\u4f5c\u4f9d\u7136\u53ef\u4ee5\u63a5\u53d7\u5230\u4e4b\u524d\u5df2\u7ecf\u6210\u529f\u53d1\u9001\u7684\u6570\u636e\uff1b \u5982\u679cchannel\u4e2d\u5df2\u7ecf\u6ca1\u6709\u6570\u636e\u7684\u8bdd\u5c06\u4ea7\u751f\u4e00\u4e2a \u96f6\u503c \u7684\u6570\u636e\u3002 \u4f7f\u7528\u5185\u7f6e\u7684close\u51fd\u6570\u5c31\u53ef\u4ee5\u5173\u95ed\u4e00\u4e2achannel\uff1a close(ch) buffered\u4e0eunbuffered channel \u4ee5\u6700\u7b80\u5355\u65b9\u5f0f\u8c03\u7528make\u51fd\u6570\u521b\u5efa\u7684\u662f\u4e00\u4e2a\u65e0\u7f13\u5b58\u7684channel\uff0c\u4f46\u662f\u6211\u4eec\u4e5f\u53ef\u4ee5\u6307\u5b9a\u7b2c\u4e8c\u4e2a\u6574\u578b\u53c2\u6570\uff0c\u5bf9\u5e94channel\u7684\u5bb9\u91cf\u3002\u5982\u679cchannel\u7684\u5bb9\u91cf\u5927\u4e8e\u96f6\uff0c\u90a3\u4e48\u8be5channel\u5c31\u662f\u5e26\u7f13\u5b58\u7684channel\u3002 ch := make(chan int) // unbuffered channel ch := make(chan int, 0) // unbuffered channel ch := make(chan int, 3) // buffered channel with capacity 3 8.4.1\u2728 \u4e0d\u5e26\u7f13\u5b58\u7684channel \u91cd\u8981\u7279\u6027 \u2757\ufe0f\u4e00\u4e2a\u57fa\u4e8e\u65e0\u7f13\u5b58Channels\u7684\u53d1\u9001\u64cd\u4f5c\u5c06\u5bfc\u81f4\u53d1\u9001\u8005goroutine\u963b\u585e\uff0c\u76f4\u5230\u53e6\u4e00\u4e2agoroutine\u5728\u76f8\u540c\u7684Channels\u4e0a\u6267\u884c\u63a5\u6536\u64cd\u4f5c\uff0c\u5f53\u53d1\u9001\u7684\u503c\u901a\u8fc7Channels\u6210\u529f\u4f20\u8f93\u4e4b\u540e\uff0c\u4e24\u4e2agoroutine\u53ef\u4ee5\u7ee7\u7eed\u6267\u884c\u540e\u9762\u7684\u8bed\u53e5\u3002\u53cd\u4e4b\uff0c\u5982\u679c\u63a5\u6536\u64cd\u4f5c\u5148\u53d1\u751f\uff0c\u90a3\u4e48\u63a5\u6536\u8005goroutine\u4e5f\u5c06\u963b\u585e\uff0c\u76f4\u5230\u6709\u53e6\u4e00\u4e2agoroutine\u5728\u76f8\u540c\u7684Channels\u4e0a\u6267\u884c\u53d1\u9001\u64cd\u4f5c\u3002 \u57fa\u4e8e\u65e0\u7f13\u5b58Channels\u7684\u53d1\u9001\u548c\u63a5\u6536\u64cd\u4f5c\u5c06\u5bfc\u81f4\u4e24\u4e2agoroutine\u505a\u4e00\u6b21 \u540c\u6b65 \u64cd\u4f5c\u3002\u56e0\u4e3a\u8fd9\u4e2a\u539f\u56e0\uff0c\u65e0\u7f13\u5b58Channels\u6709\u65f6\u5019\u4e5f\u88ab\u79f0\u4e3a \u540c\u6b65Channels \u3002 \u5f53\u901a\u8fc7\u4e00\u4e2a\u65e0\u7f13\u5b58Channels\u53d1\u9001\u6570\u636e\u65f6\uff0c\u63a5\u6536\u8005\u6536\u5230\u6570\u636e\u53d1\u751f\u5728\u518d\u6b21\u5524\u9192\u53d1\u9001\u8005goroutine\u4e4b\u524d\uff08\u8bd1\u6ce8\uff1a happens before \uff0c\u8fd9\u662fGo\u8bed\u8a00\u5e76\u53d1\u5185\u5b58\u6a21\u578b\u7684\u4e00\u4e2a\u5173\u952e\u672f\u8bed\uff01\uff09\u3002 happens before \u5728\u8ba8\u8bba\u5e76\u53d1\u7f16\u7a0b\u65f6\uff0c\u5f53\u6211\u4eec\u8bf4x\u4e8b\u4ef6\u5728y\u4e8b\u4ef6\u4e4b\u524d\u53d1\u751f\uff08 happens before \uff09\uff0c\u6211\u4eec\u5e76\u4e0d\u662f\u8bf4x\u4e8b\u4ef6\u5728\u65f6\u95f4\u4e0a\u6bd4y\u65f6\u95f4\u66f4\u65e9\uff1b\u6211\u4eec\u8981\u8868\u8fbe\u7684\u610f\u601d\u662f\u8981\u4fdd\u8bc1 \u5728\u6b64\u4e4b\u524d\u7684\u4e8b\u4ef6\u90fd\u5df2\u7ecf\u5b8c\u6210\u4e86 \uff0c\u4f8b\u5982\u5728\u6b64\u4e4b\u524d\u7684\u66f4\u65b0\u67d0\u4e9b\u53d8\u91cf\u7684\u64cd\u4f5c\u5df2\u7ecf\u5b8c\u6210\uff0c\u4f60\u53ef\u4ee5\u653e\u5fc3\u4f9d\u8d56\u8fd9\u4e9b\u5df2\u5b8c\u6210\u7684\u4e8b\u4ef6\u4e86\u3002 \u5f53\u6211\u4eec\u8bf4x\u4e8b\u4ef6\u65e2\u4e0d\u662f\u5728y\u4e8b\u4ef6\u4e4b\u524d\u53d1\u751f\u4e5f\u4e0d\u662f\u5728y\u4e8b\u4ef6\u4e4b\u540e\u53d1\u751f\uff0c\u6211\u4eec\u5c31\u8bf4x\u4e8b\u4ef6\u548cy\u4e8b\u4ef6\u662f\u5e76\u53d1\u7684\u3002\u8fd9\u5e76\u4e0d\u662f\u610f\u5473\u7740x\u4e8b\u4ef6\u548cy\u4e8b\u4ef6\u5c31\u4e00\u5b9a\u662f\u540c\u65f6\u53d1\u751f\u7684\uff0c\u6211\u4eec\u53ea\u662f\u4e0d\u80fd\u786e\u5b9a\u8fd9\u4e24\u4e2a\u4e8b\u4ef6\u53d1\u751f\u7684\u5148\u540e\u987a\u5e8f\u3002 \u5728\u4e0b\u4e00\u7ae0\u4e2d\u6211\u4eec\u5c06\u770b\u5230\uff0c\u5f53\u4e24\u4e2agoroutine\u5e76\u53d1\u8bbf\u95ee\u4e86\u76f8\u540c\u7684\u53d8\u91cf\u65f6\uff0c\u6211\u4eec\u6709\u5fc5\u8981\u4fdd\u8bc1\u67d0\u4e9b\u4e8b\u4ef6\u7684\u6267\u884c\u987a\u5e8f\uff0c\u4ee5\u907f\u514d\u51fa\u73b0\u67d0\u4e9b\u5e76\u53d1\u95ee\u9898\u3002 \u540c\u6b65channel\u7684\u793a\u4f8b \u57288.3\u8282\u7684\u5ba2\u6237\u7aef\u7a0b\u5e8f\uff0c\u5b83\u5728 \u4e3bgoroutine \u4e2d\uff08\u8bd1\u6ce8\uff1a\u5c31\u662f \u6267\u884cmain\u51fd\u6570\u7684goroutine \uff09\u5c06\u6807\u51c6\u8f93\u5165\u590d\u5236\u5230server\uff0c\u56e0\u6b64\u5f53\u5ba2\u6237\u7aef\u7a0b\u5e8f\u5173\u95ed\u6807\u51c6\u8f93\u5165\u65f6\uff0c\u540e\u53f0goroutine\u53ef\u80fd\u4f9d\u7136\u5728\u5de5\u4f5c\u3002\u6211\u4eec\u9700\u8981\u8ba9\u4e3bgoroutine\u7b49\u5f85\u540e\u53f0goroutine\u5b8c\u6210\u5de5\u4f5c\u540e\u518d\u9000\u51fa\uff0c\u6211\u4eec\u4f7f\u7528\u4e86\u4e00\u4e2achannel\u6765\u540c\u6b65\u4e24\u4e2agoroutine\uff1a package main import ( \"log\" ) func main() { // \u5b9a\u4e49\u4e00\u4e2a\u65e0\u7f13\u5b58\u7684channel done := make(chan string) // \u5b50goroutine go func(){ log.Println(\"son goroutine has done...\") // send done <- \"fucking done!\" // signal the main goroutine }() // \u4e0b\u9762\u7684\u6253\u5370\u8bed\u53e5\u4e0e\u5b50goroutine\u540c\u65f6\u6267\u884c\uff01 log.Println(\"main goroutine1.....\") <- done // \u7b49\u5f85\u540e\u53f0\u5b50goroutine\u6267\u884c\u5b8c\u624d\u6267\u884c\u4e0b\u9762\u7684\u6253\u5370\u8bed\u53e5\uff01 log.Println(\"main goroutine2.....\") } \u57fa\u4e8echannels\u53d1\u9001\u6d88\u606f\u6709\u4e24\u4e2a\u91cd\u8981\u65b9\u9762\u3002\u9996\u5148\u6bcf\u4e2a\u6d88\u606f\u90fd\u6709\u4e00\u4e2a\u503c\uff0c\u4f46\u662f\u6709\u65f6\u5019\u901a\u8baf\u7684 \u4e8b\u5b9e \u548c \u53d1\u751f\u7684\u65f6\u523b \u4e5f\u540c\u6837\u91cd\u8981\u3002 \u5f53\u6211\u4eec\u66f4\u5e0c\u671b\u5f3a\u8c03\u901a\u8baf\u53d1\u751f\u7684\u65f6\u523b\u65f6\uff0c\u6211\u4eec\u5c06\u5b83\u79f0\u4e3a \u6d88\u606f\u4e8b\u4ef6 \u3002 \u6709\u4e9b\u6d88\u606f\u4e8b\u4ef6\u5e76\u4e0d\u643a\u5e26\u989d\u5916\u7684\u4fe1\u606f\uff0c\u5b83\u4ec5\u4ec5\u662f\u7528\u4f5c\u4e24\u4e2agoroutine\u4e4b\u95f4\u7684\u540c\u6b65\uff0c\u8fd9\u65f6\u5019\u6211\u4eec\u53ef\u4ee5\u7528 struct{} \u7a7a\u7ed3\u6784\u4f53\u4f5c\u4e3achannels\u5143\u7d20\u7684\u7c7b\u578b\uff0c\u867d\u7136\u4e5f\u53ef\u4ee5\u4f7f\u7528bool\u6216int\u7c7b\u578b\u5b9e\u73b0\u540c\u6837\u7684\u529f\u80fd\uff0c done <- 1 \u8bed\u53e5\u4e5f\u6bd4 done <- struct{}{} \u66f4\u77ed\u3002 8.4.2\u2728 \u4e32\u8054\u7684channel(pipeline) Channels\u4e5f\u53ef\u4ee5\u7528\u4e8e\u5c06\u591a\u4e2agoroutine\u8fde\u63a5\u5728\u4e00\u8d77\uff0c\u4e00\u4e2aChannel\u7684\u8f93\u51fa\u4f5c\u4e3a\u4e0b\u4e00\u4e2aChannel\u7684\u8f93\u5165\u3002\u8fd9\u79cd\u4e32\u8054\u7684Channels\u5c31\u662f\u6240\u8c13\u7684\u7ba1\u9053\uff08pipeline\uff09\u3002\u4e0b\u9762\u7684\u7a0b\u5e8f\u7528\u4e24\u4e2achannels\u5c06\u4e09\u4e2agoroutine\u4e32\u8054\u8d77\u6765\uff1a \u7b2c\u4e00\u4e2agoroutine\u662f\u4e00\u4e2a\u8ba1\u6570\u5668\uff0c\u7528\u4e8e\u751f\u62100\u30011\u30012\u3001\u2026\u2026\u5f62\u5f0f\u7684\u6574\u6570\u5e8f\u5217\uff0c\u7136\u540e\u901a\u8fc7channel\u5c06\u8be5\u6574\u6570\u5e8f\u5217\u53d1\u9001\u7ed9\u7b2c\u4e8c\u4e2agoroutine\uff1b\u7b2c\u4e8c\u4e2agoroutine\u662f\u4e00\u4e2a\u6c42\u5e73\u65b9\u7684\u7a0b\u5e8f\uff0c\u5bf9\u6536\u5230\u7684\u6bcf\u4e2a\u6574\u6570\u6c42\u5e73\u65b9\uff0c\u7136\u540e\u5c06\u5e73\u65b9\u540e\u7684\u7ed3\u679c\u901a\u8fc7\u7b2c\u4e8c\u4e2achannel\u53d1\u9001\u7ed9\u7b2c\u4e09\u4e2agoroutine\uff1b\u7b2c\u4e09\u4e2agoroutine\u662f\u4e00\u4e2a\u6253\u5370\u7a0b\u5e8f\uff0c\u6253\u5370\u6536\u5230\u7684\u6bcf\u4e2a\u6574\u6570\u3002\u4e3a\u4e86\u4fdd\u6301\u4f8b\u5b50\u6e05\u6670\uff0c\u6211\u4eec\u6709\u610f\u9009\u62e9\u4e86\u975e\u5e38\u7b80\u5355\u7684\u51fd\u6570\uff0c\u5f53\u7136\u4e09\u4e2agoroutine\u7684\u8ba1\u7b97\u5f88\u7b80\u5355\uff0c\u5728\u73b0\u5b9e\u4e2d\u786e\u5b9e\u6ca1\u6709\u5fc5\u8981\u4e3a\u5982\u6b64\u7b80\u5355\u7684\u8fd0\u7b97\u6784\u5efa\u4e09\u4e2agoroutine\uff1a package main import \"fmt\" func main() { naturals := make(chan int) squares := make(chan int) // Counter go func(){ // \u65e0\u9650\u5f80\u91cc\u9762\u52a0 for x := 0; ; x++{ naturals <- x } }() // Squarer go func(){ for { x := <- naturals squares <- x * x } }() // Printer for{ y := <- squares // \u9650\u5236... if y > 10000{ // \u5173\u95ed close(naturals) close(squares) fmt.Println(y) return } fmt.Println(y) } } \u2757\ufe0f\u5f53\u4e00\u4e2achannel\u88ab\u5173\u95ed\u540e\uff0c\u518d\u5411\u8be5channel\u53d1\u9001\u6570\u636e\u5c06\u5bfc\u81f4panic\u5f02\u5e38\u3002 \u2757\ufe0f\u5f53\u4e00\u4e2a\u88ab\u5173\u95ed\u7684channel\u4e2d\u5df2\u7ecf\u53d1\u9001\u7684\u6570\u636e\u90fd\u88ab\u6210\u529f\u63a5\u6536\u540e\uff0c\u540e\u7eed\u7684\u63a5\u6536\u64cd\u4f5c\u5c06\u4e0d\u518d\u963b\u585e\uff0c\u5b83\u4eec\u4f1a\u7acb\u5373\u8fd4\u56de\u4e00\u4e2a\u96f6\u503c\u3002 \u5173\u95ed\u4e0a\u9762\u4f8b\u5b50\u4e2d\u7684naturals\u53d8\u91cf\u5bf9\u5e94\u7684channel\u5e76\u4e0d\u80fd\u7ec8\u6b62\u5faa\u73af\uff0c\u5b83\u4f9d\u7136\u4f1a\u6536\u5230\u4e00\u4e2a\u6c38\u65e0\u4f11\u6b62\u7684\u96f6\u503c\u5e8f\u5217\uff0c\u7136\u540e\u5c06\u5b83\u4eec\u53d1\u9001\u7ed9\u6253\u5370\u8005goroutine\u3002 \u63a5\u6536\u64cd\u4f5c\u7684\u53d8\u4f53 \u6ca1\u6709\u529e\u6cd5\u76f4\u63a5\u6d4b\u8bd5\u4e00\u4e2achannel\u662f\u5426\u88ab\u5173\u95ed\uff0c\u4f46\u662f\u63a5\u6536\u64cd\u4f5c\u6709\u4e00\u4e2a\u53d8\u4f53\u5f62\u5f0f\uff1a\u5b83\u591a\u63a5\u6536\u4e00\u4e2a\u7ed3\u679c\uff0c\u591a\u63a5\u6536\u7684\u7b2c\u4e8c\u4e2a\u7ed3\u679c\u662f\u4e00\u4e2a\u5e03\u5c14\u503cok\uff0cture\u8868\u793a\u6210\u529f\u4ecechannels\u63a5\u6536\u5230\u503c\uff0cfalse\u8868\u793achannels\u5df2\u7ecf\u88ab\u5173\u95ed\u5e76\u4e14\u91cc\u9762\u6ca1\u6709\u503c\u53ef\u63a5\u6536\u3002 \u4f7f\u7528\u8fd9\u4e2a\u7279\u6027\uff0c\u6211\u4eec\u53ef\u4ee5\u4fee\u6539squarer\u51fd\u6570\u4e2d\u7684\u5faa\u73af\u4ee3\u7801\uff0c\u5f53naturals\u5bf9\u5e94\u7684channel\u88ab\u5173\u95ed\u5e76\u6ca1\u6709\u503c\u53ef\u63a5\u6536\u65f6\u8df3\u51fa\u5faa\u73af\uff0c\u5e76\u4e14\u4e5f\u5173\u95edsquares\u5bf9\u5e94\u7684channel. // Squarer go func(){ for { x, ok := <- naturals if !ok{ break // channel was closed and drained } squares <- x * x } close(squares) }() \u2757\ufe0f\u4f7f\u7528range\u63a5\u6536 \u56e0\u4e3a\u4e0a\u9762\u7684\u8bed\u6cd5\u662f\u7b28\u62d9\u7684\uff0c\u800c\u4e14\u8fd9\u79cd\u5904\u7406\u6a21\u5f0f\u5f88\u5e38\u89c1\uff0c\u56e0\u6b64Go\u8bed\u8a00\u7684range\u5faa\u73af\u53ef\u76f4\u63a5\u5728channels\u4e0a\u9762\u8fed\u4ee3\u3002 \u4f7f\u7528range\u5faa\u73af\u662f\u4e0a\u9762\u5904\u7406\u6a21\u5f0f\u7684\u7b80\u6d01\u8bed\u6cd5\uff0c\u5b83 \u4f9d\u6b21\u4ecechannel\u63a5\u6536\u6570\u636e \uff0c \u5f53channel\u88ab\u5173\u95ed\u5e76\u4e14\u6ca1\u6709\u503c\u53ef\u63a5\u6536\u65f6\u8df3\u51fa\u5faa\u73af \u3002 package main import \"fmt\" func main() { naturals := make(chan int) squares := make(chan int) // Counter go func(){ // 100\u4e2a for x := 0; x<100; x++{ naturals <- x } // close close(naturals) }() // Squarer go func(){ // for ... range \u7684\u65b9\u5f0f for x := range naturals{ squares <- x * x } // close close(squares) }() // Printer \u4e3bgoroutine\u4e2d for x := range squares{ fmt.Println(\"x: \", x) } } \u91cd\u8981\u6982\u5ff5 \u2757\ufe0f\u5176\u5b9e\u4f60\u5e76\u4e0d\u9700\u8981\u5173\u95ed\u6bcf\u4e00\u4e2achannel\u3002\u53ea\u6709\u5f53\u9700\u8981\u544a\u8bc9\u63a5\u6536\u8005goroutine\uff0c\u6240\u6709\u7684\u6570\u636e\u5df2\u7ecf\u5168\u90e8\u53d1\u9001\u65f6\u624d\u9700\u8981\u5173\u95edchannel\u3002 \u2757\ufe0f\u4e0d\u7ba1\u4e00\u4e2achannel\u662f\u5426\u88ab\u5173\u95ed\uff0c\u5f53\u5b83\u6ca1\u6709\u88ab\u5f15\u7528\u65f6\u5c06\u4f1a\u88abGo\u8bed\u8a00\u7684\u5783\u573e\u81ea\u52a8\u56de\u6536\u5668\u56de\u6536\u3002 \u4e0d\u8981\u5c06\u5173\u95ed\u4e00\u4e2a\u6253\u5f00\u6587\u4ef6\u7684\u64cd\u4f5c\u548c\u5173\u95ed\u4e00\u4e2achannel\u64cd\u4f5c\u6df7\u6dc6\u3002\u5bf9\u4e8e\u6bcf\u4e2a\u6253\u5f00\u7684\u6587\u4ef6\uff0c\u90fd\u9700\u8981\u5728\u4e0d\u4f7f\u7528\u7684\u65f6\u5019\u8c03\u7528\u5bf9\u5e94\u7684Close\u65b9\u6cd5\u6765\u5173\u95ed\u6587\u4ef6\u3002 \u8bd5\u56fe\u91cd\u590d\u5173\u95ed\u4e00\u4e2achannel\u5c06\u5bfc\u81f4panic\u5f02\u5e38\uff0c\u8bd5\u56fe\u5173\u95ed\u4e00\u4e2anil\u503c\u7684channel\u4e5f\u5c06\u5bfc\u81f4panic\u5f02\u5e38\u3002\u5173\u95ed\u4e00\u4e2achannels\u8fd8\u4f1a\u89e6\u53d1\u4e00\u4e2a\u5e7f\u64ad\u673a\u5236\u3002 8.4.3\u2728 \u5355\u65b9\u5411\u7684channel 8.4.4\u2728 \u5e26\u7f13\u5b58\u7684channel","title":"01 goroutine\u4e0echannels"},{"location":"go%E5%9C%A3%E7%BB%8F/1%E5%B9%B6%E5%8F%91/#_1","text":"","title":""},{"location":"go%E5%9C%A3%E7%BB%8F/1%E5%B9%B6%E5%8F%91/#81-goroutines","text":"\u5728Go\u8bed\u8a00\u4e2d\uff0c\u6bcf\u4e00\u4e2a\u5e76\u53d1\u7684\u6267\u884c\u5355\u5143\u53eb\u4f5c\u4e00\u4e2agoroutine\u3002\u8bbe\u60f3\u8fd9\u91cc\u7684\u4e00\u4e2a\u7a0b\u5e8f\u6709\u4e24\u4e2a\u51fd\u6570\uff0c\u4e00\u4e2a\u51fd\u6570\u505a\u8ba1\u7b97\uff0c\u53e6\u4e00\u4e2a\u8f93\u51fa\u7ed3\u679c\uff0c\u5047\u8bbe\u4e24\u4e2a\u51fd\u6570\u6ca1\u6709\u76f8\u4e92\u4e4b\u95f4\u7684\u8c03\u7528\u5173\u7cfb\u3002\u4e00\u4e2a\u7ebf\u6027\u7684\u7a0b\u5e8f\u4f1a\u5148\u8c03\u7528\u5176\u4e2d\u7684\u4e00\u4e2a\u51fd\u6570\uff0c\u7136\u540e\u518d\u8c03\u7528\u53e6\u4e00\u4e2a\u3002\u5982\u679c\u7a0b\u5e8f\u4e2d\u5305\u542b\u591a\u4e2agoroutine\uff0c\u5bf9\u4e24\u4e2a\u51fd\u6570\u7684\u8c03\u7528\u5219\u53ef\u80fd\u53d1\u751f\u5728\u540c\u4e00\u65f6\u523b\u3002\u9a6c\u4e0a\u5c31\u4f1a\u770b\u5230\u8fd9\u6837\u7684\u4e00\u4e2a\u7a0b\u5e8f\u3002 \u5982\u679c\u4f60\u4f7f\u7528\u8fc7\u64cd\u4f5c\u7cfb\u7edf\u6216\u8005\u5176\u5b83\u8bed\u8a00\u63d0\u4f9b\u7684\u7ebf\u7a0b\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5\u7b80\u5355\u5730\u628agoroutine\u7c7b\u6bd4\u4f5c\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u8fd9\u6837\u4f60\u5c31\u53ef\u4ee5\u5199\u51fa\u4e00\u4e9b\u6b63\u786e\u7684\u7a0b\u5e8f\u4e86\u3002goroutine\u548c\u7ebf\u7a0b\u7684\u672c\u8d28\u533a\u522b\u4f1a\u57289.8\u8282\u4e2d\u8bb2\u3002 \u5f53\u4e00\u4e2a\u7a0b\u5e8f\u542f\u52a8\u65f6\uff0c\u5176\u4e3b\u51fd\u6570\u5373\u5728\u4e00\u4e2a\u5355\u72ec\u7684goroutine\u4e2d\u8fd0\u884c\uff0c\u6211\u4eec\u53eb\u5b83main goroutine\u3002\u65b0\u7684goroutine\u4f1a\u7528go\u8bed\u53e5\u6765\u521b\u5efa\u3002\u5728\u8bed\u6cd5\u4e0a\uff0cgo\u8bed\u53e5\u662f\u4e00\u4e2a\u666e\u901a\u7684\u51fd\u6570\u6216\u65b9\u6cd5\u8c03\u7528\u524d\u52a0\u4e0a\u5173\u952e\u5b57go\u3002 go\u8bed\u53e5\u4f1a\u4f7f\u5176\u8bed\u53e5\u4e2d\u7684\u51fd\u6570\u5728\u4e00\u4e2a\u65b0\u521b\u5efa\u7684goroutine\u4e2d\u8fd0\u884c\u3002\u800cgo\u8bed\u53e5\u672c\u8eab\u4f1a\u8fc5\u901f\u5730\u5b8c\u6210\u3002 package main import ( \"fmt\" \"time\" ) func main(){ // \u4e0emain goroutine \u540c\u65f6\u6267\u884c\uff0c\u4e3bgoroutine\u7ed3\u675f\u5b83\u4e5f\u8ddf\u7740\u7ed3\u675f\u4e86 go spinner(time.Millisecond * 100) const n = 45 fibN := fib(n) fmt.Printf(\"fib(%d): %d\\n\",n , fibN) } // \u6253\u5370\u7b49\u5f85\u7684\u56fe\u6807 func spinner(delay time.Duration){ for { for _, r := range `-\\|/`{ fmt.Printf(\"\\r%c\", r) time.Sleep(delay) } } } // \u8ba1\u7b97\u6590\u6ce2\u90a3\u5951\u6570\u5217\u7b2cn\u4e2a\u503c func fib(x int) int{ if x < 2{ return x } return fib(x-1) + fib(x-2) } \u4e3b\u51fd\u6570\u8fd4\u56de\u65f6\uff0c\u6240\u6709\u7684goroutine\u90fd\u4f1a\u88ab\u76f4\u63a5\u6253\u65ad\uff0c\u7a0b\u5e8f\u9000\u51fa\u3002 \u2757\ufe0f\u9664\u4e86\u4ece\u4e3b\u51fd\u6570\u9000\u51fa\u6216\u8005\u76f4\u63a5\u7ec8\u6b62\u7a0b\u5e8f\u4e4b\u5916\uff0c\u6ca1\u6709\u5176\u5b83\u7684\u7f16\u7a0b\u65b9\u6cd5\u80fd\u591f\u8ba9\u4e00\u4e2agoroutine\u6765\u6253\u65ad\u53e6\u4e00\u4e2a\u7684\u6267\u884c\u3002 \u2757\ufe0f\u4f46\u662f\u4e4b\u540e\u53ef\u4ee5\u770b\u5230\u4e00\u79cd\u65b9\u5f0f\u6765\u5b9e\u73b0\u8fd9\u4e2a\u76ee\u7684\uff0c\u901a\u8fc7goroutine\u4e4b\u95f4\u7684\u901a\u4fe1\u6765\u8ba9\u4e00\u4e2agoroutine\u8bf7\u6c42\u5176\u5b83\u7684goroutine\uff0c\u5e76\u8ba9\u88ab\u8bf7\u6c42\u7684goroutine\u81ea\u884c\u7ed3\u675f\u6267\u884c\u3002","title":"8.1 Goroutines"},{"location":"go%E5%9C%A3%E7%BB%8F/1%E5%B9%B6%E5%8F%91/#82-clock","text":"...","title":"8.2 \u793a\u4f8b:\u5e76\u53d1\u7684clock\u670d\u52a1\u2753"},{"location":"go%E5%9C%A3%E7%BB%8F/1%E5%B9%B6%E5%8F%91/#83-echo","text":"...","title":"8.3 \u793a\u4f8b:\u5e76\u53d1\u7684echo\u670d\u52a1\u2753"},{"location":"go%E5%9C%A3%E7%BB%8F/1%E5%B9%B6%E5%8F%91/#84-channels","text":"\u5982\u679c\u8bf4goroutine\u662fGo\u8bed\u8a00\u7a0b\u5e8f\u7684\u5e76\u53d1\u4f53\u7684\u8bdd\uff0c\u90a3\u4e48channels\u5219\u662f\u5b83\u4eec\u4e4b\u95f4\u7684\u901a\u4fe1\u673a\u5236\u3002 \u4e00\u4e2achannel\u662f\u4e00\u4e2a\u901a\u4fe1\u673a\u5236\uff0c\u5b83\u53ef\u4ee5\u8ba9\u4e00\u4e2agoroutine\u901a\u8fc7\u5b83\u7ed9\u53e6\u4e00\u4e2agoroutine\u53d1\u9001\u503c\u4fe1\u606f\u3002 \u6bcf\u4e2achannel\u90fd\u6709\u4e00\u4e2a\u7279\u6b8a\u7684\u7c7b\u578b\uff0c\u4e5f\u5c31\u662fchannels\u53ef\u53d1\u9001\u6570\u636e\u7684\u7c7b\u578b\u3002 \u4e00\u4e2a\u53ef\u4ee5\u53d1\u9001string\u7c7b\u578b\u6570\u636e\u7684channel\u4e00\u822c\u5199\u4e3achan string\u3002","title":"8.4\u2728 Channels"},{"location":"go%E5%9C%A3%E7%BB%8F/1%E5%B9%B6%E5%8F%91/#channel","text":"ch := make(chan string)","title":"\u521b\u5efachannel"},{"location":"go%E5%9C%A3%E7%BB%8F/1%E5%B9%B6%E5%8F%91/#channel_1","text":"\u548cmap\u7c7b\u4f3c\uff0cchannel\u4e5f\u5bf9\u5e94\u4e00\u4e2amake\u521b\u5efa\u7684\u5e95\u5c42\u6570\u636e\u7ed3\u6784\u7684\u5f15\u7528\u3002 \u2757\ufe0f\u5f53\u6211\u4eec\u590d\u5236\u4e00\u4e2achannel\u6216\u7528\u4e8e\u51fd\u6570\u53c2\u6570\u4f20\u9012\u65f6\uff0c\u6211\u4eec\u53ea\u662f\u62f7\u8d1d\u4e86\u4e00\u4e2achannel\u5f15\u7528\uff0c\u56e0\u6b64\u8c03\u7528\u8005\u548c\u88ab\u8c03\u7528\u8005\u5c06\u5f15\u7528\u540c\u4e00\u4e2achannel\u5bf9\u8c61\u3002 \u548c\u5176\u5b83\u7684\u5f15\u7528\u7c7b\u578b\u4e00\u6837\uff0cchannel\u7684\u96f6\u503c\u4e5f\u662fnil\u3002 \u4e24\u4e2a\u76f8\u540c\u7c7b\u578b\u7684channel\u53ef\u4ee5\u4f7f\u7528==\u8fd0\u7b97\u7b26\u6bd4\u8f83\u3002\u5982\u679c\u4e24\u4e2achannel\u5f15\u7528\u7684\u662f\u76f8\u540c\u7684\u5bf9\u8c61\uff0c\u90a3\u4e48\u6bd4\u8f83\u7684\u7ed3\u679c\u4e3a\u771f\u3002\u4e00\u4e2achannel\u4e5f\u53ef\u4ee5\u548cnil\u8fdb\u884c\u6bd4\u8f83\u3002","title":"channel\u7684\u7c7b\u578b\u53ca\u6bd4\u8f83"},{"location":"go%E5%9C%A3%E7%BB%8F/1%E5%B9%B6%E5%8F%91/#channel_2","text":"\u4e00\u4e2achannel\u6709\u53d1\u9001\u548c\u63a5\u53d7\u4e24\u4e2a\u4e3b\u8981\u64cd\u4f5c\uff0c\u90fd\u662f\u901a\u4fe1\u884c\u4e3a\u3002 \u4e00\u4e2a\u53d1\u9001\u8bed\u53e5\u5c06\u4e00\u4e2a\u503c\u4ece\u4e00\u4e2agoroutine\u901a\u8fc7channel\u53d1\u9001\u5230\u53e6\u4e00\u4e2a\u6267\u884c\u63a5\u6536\u64cd\u4f5c\u7684goroutine\u3002 \u53d1\u9001\u548c\u63a5\u6536\u4e24\u4e2a\u64cd\u4f5c\u90fd\u4f7f\u7528 <- \u8fd0\u7b97\u7b26\u3002 \u5728\u53d1\u9001\u8bed\u53e5\u4e2d\uff0c <- \u8fd0\u7b97\u7b26\u5206\u5272channel\u548c\u8981\u53d1\u9001\u7684\u503c\u3002 \u5728\u63a5\u6536\u8bed\u53e5\u4e2d\uff0c <- \u8fd0\u7b97\u7b26\u5199\u5728channel\u5bf9\u8c61\u4e4b\u524d\u3002 \u4e00\u4e2a\u4e0d\u4f7f\u7528\u63a5\u6536\u7ed3\u679c\u7684\u63a5\u6536\u64cd\u4f5c\u4e5f\u662f\u5408\u6cd5\u7684\u3002 ch <- x // a send statement x = <-ch // a receive expression in an assignment statement <-ch // a receive statement; result is discarded(\u4e22\u5f03)","title":"channel\u7684\u53d1\u9001\u4e0e\u63a5\u6536"},{"location":"go%E5%9C%A3%E7%BB%8F/1%E5%B9%B6%E5%8F%91/#channel_3","text":"Channel\u8fd8\u652f\u6301close\u64cd\u4f5c\uff0c\u7528\u4e8e\u5173\u95edchannel\uff0c\u968f\u540e\u5bf9\u57fa\u4e8e\u8be5channel\u7684\u4efb\u4f55 \u53d1\u9001 \u64cd\u4f5c\u90fd\u5c06\u5bfc\u81f4panic\u5f02\u5e38\u3002 \u5bf9\u4e00\u4e2a\u5df2\u7ecf\u88abclose\u8fc7\u7684channel\u8fdb\u884c \u63a5\u6536 \u64cd\u4f5c\u4f9d\u7136\u53ef\u4ee5\u63a5\u53d7\u5230\u4e4b\u524d\u5df2\u7ecf\u6210\u529f\u53d1\u9001\u7684\u6570\u636e\uff1b \u5982\u679cchannel\u4e2d\u5df2\u7ecf\u6ca1\u6709\u6570\u636e\u7684\u8bdd\u5c06\u4ea7\u751f\u4e00\u4e2a \u96f6\u503c \u7684\u6570\u636e\u3002 \u4f7f\u7528\u5185\u7f6e\u7684close\u51fd\u6570\u5c31\u53ef\u4ee5\u5173\u95ed\u4e00\u4e2achannel\uff1a close(ch)","title":"\u5173\u95edchannel"},{"location":"go%E5%9C%A3%E7%BB%8F/1%E5%B9%B6%E5%8F%91/#bufferedunbuffered-channel","text":"\u4ee5\u6700\u7b80\u5355\u65b9\u5f0f\u8c03\u7528make\u51fd\u6570\u521b\u5efa\u7684\u662f\u4e00\u4e2a\u65e0\u7f13\u5b58\u7684channel\uff0c\u4f46\u662f\u6211\u4eec\u4e5f\u53ef\u4ee5\u6307\u5b9a\u7b2c\u4e8c\u4e2a\u6574\u578b\u53c2\u6570\uff0c\u5bf9\u5e94channel\u7684\u5bb9\u91cf\u3002\u5982\u679cchannel\u7684\u5bb9\u91cf\u5927\u4e8e\u96f6\uff0c\u90a3\u4e48\u8be5channel\u5c31\u662f\u5e26\u7f13\u5b58\u7684channel\u3002 ch := make(chan int) // unbuffered channel ch := make(chan int, 0) // unbuffered channel ch := make(chan int, 3) // buffered channel with capacity 3","title":"buffered\u4e0eunbuffered channel"},{"location":"go%E5%9C%A3%E7%BB%8F/1%E5%B9%B6%E5%8F%91/#841-channel","text":"","title":"8.4.1\u2728 \u4e0d\u5e26\u7f13\u5b58\u7684channel"},{"location":"go%E5%9C%A3%E7%BB%8F/1%E5%B9%B6%E5%8F%91/#_2","text":"\u2757\ufe0f\u4e00\u4e2a\u57fa\u4e8e\u65e0\u7f13\u5b58Channels\u7684\u53d1\u9001\u64cd\u4f5c\u5c06\u5bfc\u81f4\u53d1\u9001\u8005goroutine\u963b\u585e\uff0c\u76f4\u5230\u53e6\u4e00\u4e2agoroutine\u5728\u76f8\u540c\u7684Channels\u4e0a\u6267\u884c\u63a5\u6536\u64cd\u4f5c\uff0c\u5f53\u53d1\u9001\u7684\u503c\u901a\u8fc7Channels\u6210\u529f\u4f20\u8f93\u4e4b\u540e\uff0c\u4e24\u4e2agoroutine\u53ef\u4ee5\u7ee7\u7eed\u6267\u884c\u540e\u9762\u7684\u8bed\u53e5\u3002\u53cd\u4e4b\uff0c\u5982\u679c\u63a5\u6536\u64cd\u4f5c\u5148\u53d1\u751f\uff0c\u90a3\u4e48\u63a5\u6536\u8005goroutine\u4e5f\u5c06\u963b\u585e\uff0c\u76f4\u5230\u6709\u53e6\u4e00\u4e2agoroutine\u5728\u76f8\u540c\u7684Channels\u4e0a\u6267\u884c\u53d1\u9001\u64cd\u4f5c\u3002 \u57fa\u4e8e\u65e0\u7f13\u5b58Channels\u7684\u53d1\u9001\u548c\u63a5\u6536\u64cd\u4f5c\u5c06\u5bfc\u81f4\u4e24\u4e2agoroutine\u505a\u4e00\u6b21 \u540c\u6b65 \u64cd\u4f5c\u3002\u56e0\u4e3a\u8fd9\u4e2a\u539f\u56e0\uff0c\u65e0\u7f13\u5b58Channels\u6709\u65f6\u5019\u4e5f\u88ab\u79f0\u4e3a \u540c\u6b65Channels \u3002 \u5f53\u901a\u8fc7\u4e00\u4e2a\u65e0\u7f13\u5b58Channels\u53d1\u9001\u6570\u636e\u65f6\uff0c\u63a5\u6536\u8005\u6536\u5230\u6570\u636e\u53d1\u751f\u5728\u518d\u6b21\u5524\u9192\u53d1\u9001\u8005goroutine\u4e4b\u524d\uff08\u8bd1\u6ce8\uff1a happens before \uff0c\u8fd9\u662fGo\u8bed\u8a00\u5e76\u53d1\u5185\u5b58\u6a21\u578b\u7684\u4e00\u4e2a\u5173\u952e\u672f\u8bed\uff01\uff09\u3002","title":"\u91cd\u8981\u7279\u6027"},{"location":"go%E5%9C%A3%E7%BB%8F/1%E5%B9%B6%E5%8F%91/#happens-before","text":"\u5728\u8ba8\u8bba\u5e76\u53d1\u7f16\u7a0b\u65f6\uff0c\u5f53\u6211\u4eec\u8bf4x\u4e8b\u4ef6\u5728y\u4e8b\u4ef6\u4e4b\u524d\u53d1\u751f\uff08 happens before \uff09\uff0c\u6211\u4eec\u5e76\u4e0d\u662f\u8bf4x\u4e8b\u4ef6\u5728\u65f6\u95f4\u4e0a\u6bd4y\u65f6\u95f4\u66f4\u65e9\uff1b\u6211\u4eec\u8981\u8868\u8fbe\u7684\u610f\u601d\u662f\u8981\u4fdd\u8bc1 \u5728\u6b64\u4e4b\u524d\u7684\u4e8b\u4ef6\u90fd\u5df2\u7ecf\u5b8c\u6210\u4e86 \uff0c\u4f8b\u5982\u5728\u6b64\u4e4b\u524d\u7684\u66f4\u65b0\u67d0\u4e9b\u53d8\u91cf\u7684\u64cd\u4f5c\u5df2\u7ecf\u5b8c\u6210\uff0c\u4f60\u53ef\u4ee5\u653e\u5fc3\u4f9d\u8d56\u8fd9\u4e9b\u5df2\u5b8c\u6210\u7684\u4e8b\u4ef6\u4e86\u3002 \u5f53\u6211\u4eec\u8bf4x\u4e8b\u4ef6\u65e2\u4e0d\u662f\u5728y\u4e8b\u4ef6\u4e4b\u524d\u53d1\u751f\u4e5f\u4e0d\u662f\u5728y\u4e8b\u4ef6\u4e4b\u540e\u53d1\u751f\uff0c\u6211\u4eec\u5c31\u8bf4x\u4e8b\u4ef6\u548cy\u4e8b\u4ef6\u662f\u5e76\u53d1\u7684\u3002\u8fd9\u5e76\u4e0d\u662f\u610f\u5473\u7740x\u4e8b\u4ef6\u548cy\u4e8b\u4ef6\u5c31\u4e00\u5b9a\u662f\u540c\u65f6\u53d1\u751f\u7684\uff0c\u6211\u4eec\u53ea\u662f\u4e0d\u80fd\u786e\u5b9a\u8fd9\u4e24\u4e2a\u4e8b\u4ef6\u53d1\u751f\u7684\u5148\u540e\u987a\u5e8f\u3002 \u5728\u4e0b\u4e00\u7ae0\u4e2d\u6211\u4eec\u5c06\u770b\u5230\uff0c\u5f53\u4e24\u4e2agoroutine\u5e76\u53d1\u8bbf\u95ee\u4e86\u76f8\u540c\u7684\u53d8\u91cf\u65f6\uff0c\u6211\u4eec\u6709\u5fc5\u8981\u4fdd\u8bc1\u67d0\u4e9b\u4e8b\u4ef6\u7684\u6267\u884c\u987a\u5e8f\uff0c\u4ee5\u907f\u514d\u51fa\u73b0\u67d0\u4e9b\u5e76\u53d1\u95ee\u9898\u3002","title":"happens before"},{"location":"go%E5%9C%A3%E7%BB%8F/1%E5%B9%B6%E5%8F%91/#channel_4","text":"\u57288.3\u8282\u7684\u5ba2\u6237\u7aef\u7a0b\u5e8f\uff0c\u5b83\u5728 \u4e3bgoroutine \u4e2d\uff08\u8bd1\u6ce8\uff1a\u5c31\u662f \u6267\u884cmain\u51fd\u6570\u7684goroutine \uff09\u5c06\u6807\u51c6\u8f93\u5165\u590d\u5236\u5230server\uff0c\u56e0\u6b64\u5f53\u5ba2\u6237\u7aef\u7a0b\u5e8f\u5173\u95ed\u6807\u51c6\u8f93\u5165\u65f6\uff0c\u540e\u53f0goroutine\u53ef\u80fd\u4f9d\u7136\u5728\u5de5\u4f5c\u3002\u6211\u4eec\u9700\u8981\u8ba9\u4e3bgoroutine\u7b49\u5f85\u540e\u53f0goroutine\u5b8c\u6210\u5de5\u4f5c\u540e\u518d\u9000\u51fa\uff0c\u6211\u4eec\u4f7f\u7528\u4e86\u4e00\u4e2achannel\u6765\u540c\u6b65\u4e24\u4e2agoroutine\uff1a package main import ( \"log\" ) func main() { // \u5b9a\u4e49\u4e00\u4e2a\u65e0\u7f13\u5b58\u7684channel done := make(chan string) // \u5b50goroutine go func(){ log.Println(\"son goroutine has done...\") // send done <- \"fucking done!\" // signal the main goroutine }() // \u4e0b\u9762\u7684\u6253\u5370\u8bed\u53e5\u4e0e\u5b50goroutine\u540c\u65f6\u6267\u884c\uff01 log.Println(\"main goroutine1.....\") <- done // \u7b49\u5f85\u540e\u53f0\u5b50goroutine\u6267\u884c\u5b8c\u624d\u6267\u884c\u4e0b\u9762\u7684\u6253\u5370\u8bed\u53e5\uff01 log.Println(\"main goroutine2.....\") } \u57fa\u4e8echannels\u53d1\u9001\u6d88\u606f\u6709\u4e24\u4e2a\u91cd\u8981\u65b9\u9762\u3002\u9996\u5148\u6bcf\u4e2a\u6d88\u606f\u90fd\u6709\u4e00\u4e2a\u503c\uff0c\u4f46\u662f\u6709\u65f6\u5019\u901a\u8baf\u7684 \u4e8b\u5b9e \u548c \u53d1\u751f\u7684\u65f6\u523b \u4e5f\u540c\u6837\u91cd\u8981\u3002 \u5f53\u6211\u4eec\u66f4\u5e0c\u671b\u5f3a\u8c03\u901a\u8baf\u53d1\u751f\u7684\u65f6\u523b\u65f6\uff0c\u6211\u4eec\u5c06\u5b83\u79f0\u4e3a \u6d88\u606f\u4e8b\u4ef6 \u3002 \u6709\u4e9b\u6d88\u606f\u4e8b\u4ef6\u5e76\u4e0d\u643a\u5e26\u989d\u5916\u7684\u4fe1\u606f\uff0c\u5b83\u4ec5\u4ec5\u662f\u7528\u4f5c\u4e24\u4e2agoroutine\u4e4b\u95f4\u7684\u540c\u6b65\uff0c\u8fd9\u65f6\u5019\u6211\u4eec\u53ef\u4ee5\u7528 struct{} \u7a7a\u7ed3\u6784\u4f53\u4f5c\u4e3achannels\u5143\u7d20\u7684\u7c7b\u578b\uff0c\u867d\u7136\u4e5f\u53ef\u4ee5\u4f7f\u7528bool\u6216int\u7c7b\u578b\u5b9e\u73b0\u540c\u6837\u7684\u529f\u80fd\uff0c done <- 1 \u8bed\u53e5\u4e5f\u6bd4 done <- struct{}{} \u66f4\u77ed\u3002","title":"\u540c\u6b65channel\u7684\u793a\u4f8b"},{"location":"go%E5%9C%A3%E7%BB%8F/1%E5%B9%B6%E5%8F%91/#842-channelpipeline","text":"Channels\u4e5f\u53ef\u4ee5\u7528\u4e8e\u5c06\u591a\u4e2agoroutine\u8fde\u63a5\u5728\u4e00\u8d77\uff0c\u4e00\u4e2aChannel\u7684\u8f93\u51fa\u4f5c\u4e3a\u4e0b\u4e00\u4e2aChannel\u7684\u8f93\u5165\u3002\u8fd9\u79cd\u4e32\u8054\u7684Channels\u5c31\u662f\u6240\u8c13\u7684\u7ba1\u9053\uff08pipeline\uff09\u3002\u4e0b\u9762\u7684\u7a0b\u5e8f\u7528\u4e24\u4e2achannels\u5c06\u4e09\u4e2agoroutine\u4e32\u8054\u8d77\u6765\uff1a \u7b2c\u4e00\u4e2agoroutine\u662f\u4e00\u4e2a\u8ba1\u6570\u5668\uff0c\u7528\u4e8e\u751f\u62100\u30011\u30012\u3001\u2026\u2026\u5f62\u5f0f\u7684\u6574\u6570\u5e8f\u5217\uff0c\u7136\u540e\u901a\u8fc7channel\u5c06\u8be5\u6574\u6570\u5e8f\u5217\u53d1\u9001\u7ed9\u7b2c\u4e8c\u4e2agoroutine\uff1b\u7b2c\u4e8c\u4e2agoroutine\u662f\u4e00\u4e2a\u6c42\u5e73\u65b9\u7684\u7a0b\u5e8f\uff0c\u5bf9\u6536\u5230\u7684\u6bcf\u4e2a\u6574\u6570\u6c42\u5e73\u65b9\uff0c\u7136\u540e\u5c06\u5e73\u65b9\u540e\u7684\u7ed3\u679c\u901a\u8fc7\u7b2c\u4e8c\u4e2achannel\u53d1\u9001\u7ed9\u7b2c\u4e09\u4e2agoroutine\uff1b\u7b2c\u4e09\u4e2agoroutine\u662f\u4e00\u4e2a\u6253\u5370\u7a0b\u5e8f\uff0c\u6253\u5370\u6536\u5230\u7684\u6bcf\u4e2a\u6574\u6570\u3002\u4e3a\u4e86\u4fdd\u6301\u4f8b\u5b50\u6e05\u6670\uff0c\u6211\u4eec\u6709\u610f\u9009\u62e9\u4e86\u975e\u5e38\u7b80\u5355\u7684\u51fd\u6570\uff0c\u5f53\u7136\u4e09\u4e2agoroutine\u7684\u8ba1\u7b97\u5f88\u7b80\u5355\uff0c\u5728\u73b0\u5b9e\u4e2d\u786e\u5b9e\u6ca1\u6709\u5fc5\u8981\u4e3a\u5982\u6b64\u7b80\u5355\u7684\u8fd0\u7b97\u6784\u5efa\u4e09\u4e2agoroutine\uff1a package main import \"fmt\" func main() { naturals := make(chan int) squares := make(chan int) // Counter go func(){ // \u65e0\u9650\u5f80\u91cc\u9762\u52a0 for x := 0; ; x++{ naturals <- x } }() // Squarer go func(){ for { x := <- naturals squares <- x * x } }() // Printer for{ y := <- squares // \u9650\u5236... if y > 10000{ // \u5173\u95ed close(naturals) close(squares) fmt.Println(y) return } fmt.Println(y) } } \u2757\ufe0f\u5f53\u4e00\u4e2achannel\u88ab\u5173\u95ed\u540e\uff0c\u518d\u5411\u8be5channel\u53d1\u9001\u6570\u636e\u5c06\u5bfc\u81f4panic\u5f02\u5e38\u3002 \u2757\ufe0f\u5f53\u4e00\u4e2a\u88ab\u5173\u95ed\u7684channel\u4e2d\u5df2\u7ecf\u53d1\u9001\u7684\u6570\u636e\u90fd\u88ab\u6210\u529f\u63a5\u6536\u540e\uff0c\u540e\u7eed\u7684\u63a5\u6536\u64cd\u4f5c\u5c06\u4e0d\u518d\u963b\u585e\uff0c\u5b83\u4eec\u4f1a\u7acb\u5373\u8fd4\u56de\u4e00\u4e2a\u96f6\u503c\u3002 \u5173\u95ed\u4e0a\u9762\u4f8b\u5b50\u4e2d\u7684naturals\u53d8\u91cf\u5bf9\u5e94\u7684channel\u5e76\u4e0d\u80fd\u7ec8\u6b62\u5faa\u73af\uff0c\u5b83\u4f9d\u7136\u4f1a\u6536\u5230\u4e00\u4e2a\u6c38\u65e0\u4f11\u6b62\u7684\u96f6\u503c\u5e8f\u5217\uff0c\u7136\u540e\u5c06\u5b83\u4eec\u53d1\u9001\u7ed9\u6253\u5370\u8005goroutine\u3002","title":"8.4.2\u2728 \u4e32\u8054\u7684channel(pipeline)"},{"location":"go%E5%9C%A3%E7%BB%8F/1%E5%B9%B6%E5%8F%91/#_3","text":"\u6ca1\u6709\u529e\u6cd5\u76f4\u63a5\u6d4b\u8bd5\u4e00\u4e2achannel\u662f\u5426\u88ab\u5173\u95ed\uff0c\u4f46\u662f\u63a5\u6536\u64cd\u4f5c\u6709\u4e00\u4e2a\u53d8\u4f53\u5f62\u5f0f\uff1a\u5b83\u591a\u63a5\u6536\u4e00\u4e2a\u7ed3\u679c\uff0c\u591a\u63a5\u6536\u7684\u7b2c\u4e8c\u4e2a\u7ed3\u679c\u662f\u4e00\u4e2a\u5e03\u5c14\u503cok\uff0cture\u8868\u793a\u6210\u529f\u4ecechannels\u63a5\u6536\u5230\u503c\uff0cfalse\u8868\u793achannels\u5df2\u7ecf\u88ab\u5173\u95ed\u5e76\u4e14\u91cc\u9762\u6ca1\u6709\u503c\u53ef\u63a5\u6536\u3002 \u4f7f\u7528\u8fd9\u4e2a\u7279\u6027\uff0c\u6211\u4eec\u53ef\u4ee5\u4fee\u6539squarer\u51fd\u6570\u4e2d\u7684\u5faa\u73af\u4ee3\u7801\uff0c\u5f53naturals\u5bf9\u5e94\u7684channel\u88ab\u5173\u95ed\u5e76\u6ca1\u6709\u503c\u53ef\u63a5\u6536\u65f6\u8df3\u51fa\u5faa\u73af\uff0c\u5e76\u4e14\u4e5f\u5173\u95edsquares\u5bf9\u5e94\u7684channel. // Squarer go func(){ for { x, ok := <- naturals if !ok{ break // channel was closed and drained } squares <- x * x } close(squares) }()","title":"\u63a5\u6536\u64cd\u4f5c\u7684\u53d8\u4f53"},{"location":"go%E5%9C%A3%E7%BB%8F/1%E5%B9%B6%E5%8F%91/#range","text":"\u56e0\u4e3a\u4e0a\u9762\u7684\u8bed\u6cd5\u662f\u7b28\u62d9\u7684\uff0c\u800c\u4e14\u8fd9\u79cd\u5904\u7406\u6a21\u5f0f\u5f88\u5e38\u89c1\uff0c\u56e0\u6b64Go\u8bed\u8a00\u7684range\u5faa\u73af\u53ef\u76f4\u63a5\u5728channels\u4e0a\u9762\u8fed\u4ee3\u3002 \u4f7f\u7528range\u5faa\u73af\u662f\u4e0a\u9762\u5904\u7406\u6a21\u5f0f\u7684\u7b80\u6d01\u8bed\u6cd5\uff0c\u5b83 \u4f9d\u6b21\u4ecechannel\u63a5\u6536\u6570\u636e \uff0c \u5f53channel\u88ab\u5173\u95ed\u5e76\u4e14\u6ca1\u6709\u503c\u53ef\u63a5\u6536\u65f6\u8df3\u51fa\u5faa\u73af \u3002 package main import \"fmt\" func main() { naturals := make(chan int) squares := make(chan int) // Counter go func(){ // 100\u4e2a for x := 0; x<100; x++{ naturals <- x } // close close(naturals) }() // Squarer go func(){ // for ... range \u7684\u65b9\u5f0f for x := range naturals{ squares <- x * x } // close close(squares) }() // Printer \u4e3bgoroutine\u4e2d for x := range squares{ fmt.Println(\"x: \", x) } }","title":"\u2757\ufe0f\u4f7f\u7528range\u63a5\u6536"},{"location":"go%E5%9C%A3%E7%BB%8F/1%E5%B9%B6%E5%8F%91/#_4","text":"\u2757\ufe0f\u5176\u5b9e\u4f60\u5e76\u4e0d\u9700\u8981\u5173\u95ed\u6bcf\u4e00\u4e2achannel\u3002\u53ea\u6709\u5f53\u9700\u8981\u544a\u8bc9\u63a5\u6536\u8005goroutine\uff0c\u6240\u6709\u7684\u6570\u636e\u5df2\u7ecf\u5168\u90e8\u53d1\u9001\u65f6\u624d\u9700\u8981\u5173\u95edchannel\u3002 \u2757\ufe0f\u4e0d\u7ba1\u4e00\u4e2achannel\u662f\u5426\u88ab\u5173\u95ed\uff0c\u5f53\u5b83\u6ca1\u6709\u88ab\u5f15\u7528\u65f6\u5c06\u4f1a\u88abGo\u8bed\u8a00\u7684\u5783\u573e\u81ea\u52a8\u56de\u6536\u5668\u56de\u6536\u3002 \u4e0d\u8981\u5c06\u5173\u95ed\u4e00\u4e2a\u6253\u5f00\u6587\u4ef6\u7684\u64cd\u4f5c\u548c\u5173\u95ed\u4e00\u4e2achannel\u64cd\u4f5c\u6df7\u6dc6\u3002\u5bf9\u4e8e\u6bcf\u4e2a\u6253\u5f00\u7684\u6587\u4ef6\uff0c\u90fd\u9700\u8981\u5728\u4e0d\u4f7f\u7528\u7684\u65f6\u5019\u8c03\u7528\u5bf9\u5e94\u7684Close\u65b9\u6cd5\u6765\u5173\u95ed\u6587\u4ef6\u3002 \u8bd5\u56fe\u91cd\u590d\u5173\u95ed\u4e00\u4e2achannel\u5c06\u5bfc\u81f4panic\u5f02\u5e38\uff0c\u8bd5\u56fe\u5173\u95ed\u4e00\u4e2anil\u503c\u7684channel\u4e5f\u5c06\u5bfc\u81f4panic\u5f02\u5e38\u3002\u5173\u95ed\u4e00\u4e2achannels\u8fd8\u4f1a\u89e6\u53d1\u4e00\u4e2a\u5e7f\u64ad\u673a\u5236\u3002","title":"\u91cd\u8981\u6982\u5ff5"},{"location":"go%E5%9C%A3%E7%BB%8F/1%E5%B9%B6%E5%8F%91/#843-channel","text":"","title":"8.4.3\u2728 \u5355\u65b9\u5411\u7684channel"},{"location":"go%E5%9C%A3%E7%BB%8F/1%E5%B9%B6%E5%8F%91/#844-channel","text":"","title":"8.4.4\u2728 \u5e26\u7f13\u5b58\u7684channel"},{"location":"go%E5%9C%A3%E7%BB%8F/Go%E8%AF%AD%E8%A8%80%E5%9C%A3%E7%BB%8F--%E5%9F%BA%E7%A1%80/","text":"1\u3001\u5165\u95e8 1.1 hello world package main import \"fmt\" func main(){ fmt.Println(\"hello world\") } Go\u8bed\u8a00\u7684\u4ee3\u7801\u901a\u8fc7 \u5305 \uff08package\uff09\u7ec4\u7ec7\uff0c\u5305\u7c7b\u4f3c\u4e8e\u5176\u5b83\u8bed\u8a00\u91cc\u7684\u5e93\uff08libraries\uff09\u6216\u8005\u6a21\u5757\uff08modules\uff09\u3002\u4e00\u4e2a\u5305\u7531\u4f4d\u4e8e\u5355\u4e2a\u76ee\u5f55\u4e0b\u7684\u4e00\u4e2a\u6216\u591a\u4e2a.go\u6e90\u4ee3\u7801\u6587\u4ef6\u7ec4\u6210\uff0c\u76ee\u5f55\u5b9a\u4e49\u5305\u7684\u4f5c\u7528\u3002\u6bcf\u4e2a\u6e90\u6587\u4ef6\u90fd\u4ee5\u4e00\u6761 package \u58f0\u660e\u8bed\u53e5\u5f00\u59cb\uff0c\u8fd9\u4e2a\u4f8b\u5b50\u91cc\u5c31\u662f package main \uff0c\u8868\u793a\u8be5\u6587\u4ef6\u5c5e\u4e8e\u54ea\u4e2a\u5305\uff0c\u7d27\u8ddf\u7740\u4e00\u7cfb\u5217\u5bfc\u5165\uff08import\uff09\u7684\u5305\uff0c\u4e4b\u540e\u662f\u5b58\u50a8\u5728\u8fd9\u4e2a\u6587\u4ef6\u91cc\u7684\u7a0b\u5e8f\u8bed\u53e5\u3002 main \u5305\u6bd4\u8f83\u7279\u6b8a\u3002\u5b83\u5b9a\u4e49\u4e86\u4e00\u4e2a\u72ec\u7acb\u53ef\u6267\u884c\u7684\u7a0b\u5e8f\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u5e93\u3002\u5728 main \u91cc\u7684 main \u51fd\u6570 \u4e5f\u5f88\u7279\u6b8a\uff0c\u5b83\u662f\u6574\u4e2a\u7a0b\u5e8f\u6267\u884c\u65f6\u7684\u5165\u53e3\uff08\u8bd1\u6ce8\uff1aC\u7cfb\u8bed\u8a00\u5dee\u4e0d\u591a\u90fd\u8fd9\u6837\uff09\u3002 main \u51fd\u6570\u6240\u505a\u7684\u4e8b\u60c5\u5c31\u662f\u7a0b\u5e8f\u505a\u7684\u3002\u5f53\u7136\u4e86\uff0c main \u51fd\u6570\u4e00\u822c\u8c03\u7528\u5176\u5b83\u5305\u91cc\u7684\u51fd\u6570\u5b8c\u6210\u5f88\u591a\u5de5\u4f5c\uff08\u5982\uff1a fmt.Println \uff09\u3002 Go\u8bed\u8a00\u4e0d\u9700\u8981\u5728\u8bed\u53e5\u6216\u8005\u58f0\u660e\u7684\u672b\u5c3e\u6dfb\u52a0\u5206\u53f7\uff0c\u9664\u975e\u4e00\u884c\u4e0a\u6709\u591a\u6761\u8bed\u53e5\u3002\u5b9e\u9645\u4e0a\uff0c\u7f16\u8bd1\u5668\u4f1a\u4e3b\u52a8\u628a\u7279\u5b9a\u7b26\u53f7\u540e\u7684\u6362\u884c\u7b26\u8f6c\u6362\u4e3a\u5206\u53f7\uff0c\u56e0\u6b64\u6362\u884c\u7b26\u6dfb\u52a0\u7684\u4f4d\u7f6e\u4f1a\u5f71\u54cdGo\u4ee3\u7801\u7684\u6b63\u786e\u89e3\u6790\uff08\u8bd1\u6ce8\uff1a\u6bd4\u5982\u884c\u672b\u662f\u6807\u8bc6\u7b26\u3001\u6574\u6570\u3001\u6d6e\u70b9\u6570\u3001\u865a\u6570\u3001\u5b57\u7b26\u6216\u5b57\u7b26\u4e32\u6587\u5b57\u3001\u5173\u952e\u5b57 break \u3001 continue \u3001 fallthrough \u6216 return \u4e2d\u7684\u4e00\u4e2a\u3001\u8fd0\u7b97\u7b26\u548c\u5206\u9694\u7b26 ++ \u3001 -- \u3001 ) \u3001 ] \u6216 } \u4e2d\u7684\u4e00\u4e2a\uff09\u3002\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u51fd\u6570\u7684\u5de6\u62ec\u53f7 { \u5fc5\u987b\u548c func \u51fd\u6570\u58f0\u660e\u5728\u540c\u4e00\u884c\u4e0a\uff0c\u4e14\u4f4d\u4e8e\u672b\u5c3e\uff0c\u4e0d\u80fd\u72ec\u5360\u4e00\u884c\uff0c\u800c\u5728\u8868\u8fbe\u5f0f x + y \u4e2d\uff0c\u53ef\u5728 + \u540e\u6362\u884c\uff0c\u4e0d\u80fd\u5728 + \u524d\u6362\u884c\uff08\u8bd1\u6ce8\uff1a\u4ee5+\u7ed3\u5c3e\u7684\u8bdd\u4e0d\u4f1a\u88ab\u63d2\u5165\u5206\u53f7\u5206\u9694\u7b26\uff0c\u4f46\u662f\u4ee5x\u7ed3\u5c3e\u7684\u8bdd\u5219\u4f1a\u88ab\u5206\u53f7\u5206\u9694\u7b26\uff0c\u4ece\u800c\u5bfc\u81f4\u7f16\u8bd1\u9519\u8bef\uff09\u3002 1.2 \u547d\u4ee4\u884c\u53c2\u6570 os \u5305\u4ee5\u8de8\u5e73\u53f0\u7684\u65b9\u5f0f\uff0c\u63d0\u4f9b\u4e86\u4e00\u4e9b\u4e0e\u64cd\u4f5c\u7cfb\u7edf\u4ea4\u4e92\u7684\u51fd\u6570\u548c\u53d8\u91cf\u3002\u7a0b\u5e8f\u7684\u547d\u4ee4\u884c\u53c2\u6570\u53ef\u4eceos\u5305\u7684Args\u53d8\u91cf\u83b7\u53d6\uff1bos\u5305\u5916\u90e8\u4f7f\u7528os.Args\u8bbf\u95ee\u8be5\u53d8\u91cf\u3002 os.Args\u53d8\u91cf\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff08string\uff09\u7684 \u5207\u7247 \uff08slice\uff09\u3002 os.Args\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\uff1aos.Args[0]\uff0c\u662f\u547d\u4ee4\u672c\u8eab\u7684\u540d\u5b57\uff1b\u5176\u5b83\u7684\u5143\u7d20\u5219\u662f\u7a0b\u5e8f\u542f\u52a8\u65f6\u4f20\u7ed9\u5b83\u7684\u53c2\u6570\u3002 package main import ( \"fmt\" \"os\" ) func main() { var s, sep string //for i:=1; i < len(os.Args); i++{ for i, _ := range os.Args{ //if i == 1{ // continue //} s += sep + os.Args[i] sep = \"_\" } fmt.Println(s) } build\u4e00\u4e0b\u7136\u540e\u8fd0\u884c\uff1a // build go build main.go // \u8fd0\u884c ./main whw 666 // \u7ed3\u679c ./main_whw_666 1.3 \u67e5\u627e\u91cd\u590d\u7684\u884c *\u5bf9\u6587\u4ef6\u505a\u62f7\u8d1d\u3001\u6253\u5370\u3001\u641c\u7d22\u3001\u6392\u5e8f\u3001\u7edf\u8ba1\u6216\u7c7b\u4f3c\u4e8b\u60c5\u7684\u7a0b\u5e8f\u90fd\u6709\u4e00\u4e2a\u5dee\u4e0d\u591a\u7684\u7a0b\u5e8f\u7ed3\u6784\uff1a\u4e00\u4e2a\u5904\u7406\u8f93\u5165\u7684\u5faa\u73af\uff0c\u5728\u6bcf\u4e2a\u5143\u7d20\u4e0a\u6267\u884c\u8ba1\u7b97\u5904\u7406\uff0c\u5728\u5904\u7406\u7684\u540c\u65f6\u6216\u6700\u540e\u4ea7\u751f\u8f93\u51fa\u3002 \u7248\u672c1 dup \u7684\u7b2c\u4e00\u4e2a\u7248\u672c\u6253\u5370\u6807\u51c6\u8f93\u5165\u4e2d\u591a\u6b21\u51fa\u73b0\u7684\u884c\uff0c\u4ee5\u91cd\u590d\u6b21\u6570\u5f00\u5934\u3002\u8be5\u7a0b\u5e8f\u5c06\u5f15\u5165 if \u8bed\u53e5\uff0c map \u6570\u636e\u7c7b\u578b\u4ee5\u53ca bufio \u5305\uff1a package main import ( \"bufio\" \"fmt\" \"os\" \"strings\" ) func main() { counts := make(map[string]int) // \u6301\u7eed\u63a5\u6536\u7ec8\u7aef\u8f93\u5165\u7684\u6570\u636e input := bufio.NewScanner(os.Stdin) for input.Scan() { if strings.ToUpper(input.Text()) == \"Q\" { break } // \u7b49\u4ef7\u4e8e\u4e0b\u9762\u7684\u8bed\u53e5\uff1a /* line := input.Text() counts[line] = counts[line] + 1 */ counts[input.Text()]++ } fmt.Println(\"counts: \", counts) // NOTE: ignoring potential errors from input.Err() for line, n := range counts { fmt.Printf(\"%d(\u4e2a)%s \\n\", n, line) } } \u6267\u884c\u8fc7\u7a0b\u53ca\u7ed3\u679c\u5982\u4e0b\uff1a go run main.go 123 www www 222 q // \u8f93\u5165q\u65f6\u6253\u5370\u7ed3\u679c counts: map[123:1 222:1 www:2] 1(\u4e2a)123 2(\u4e2a)www 1(\u4e2a)222 1.4 GIF\u52a8\u753b \uff08\u7565\uff09 1.5 \u83b7\u53d6URL package main import ( \"fmt\" \"io/ioutil\" \"net/http\" \"os\" ) func main() { for _, url := range os.Args[1:] { resp, err := http.Get(url) if err != nil { fmt.Fprintf(os.Stderr, \"fetch: %v\\n\", err) os.Exit(1) } b, err := ioutil.ReadAll(resp.Body) defer resp.Body.Close() if err != nil { fmt.Fprintf(os.Stderr, \"fetch: reading %s: %v \\n\", url, err) os.Exit(1) } fmt.Println(\"b>>> \", b) } } build\u53ca\u6267\u884c\uff1a // build go build main.go // excute \uff08\u7ed3\u679c\u592a\u591a\uff0c\u7565\uff09 ./main https://www.baidu.com https://www.google.hk 1.6 \u5e76\u53d1\u83b7\u53d6\u591a\u4e2aURL","title":"\u57fa\u7840"},{"location":"go%E5%9C%A3%E7%BB%8F/Go%E8%AF%AD%E8%A8%80%E5%9C%A3%E7%BB%8F--%E5%9F%BA%E7%A1%80/#_1","text":"","title":""},{"location":"go%E5%9C%A3%E7%BB%8F/Go%E8%AF%AD%E8%A8%80%E5%9C%A3%E7%BB%8F--%E5%9F%BA%E7%A1%80/#1","text":"","title":"1\u3001\u5165\u95e8"},{"location":"go%E5%9C%A3%E7%BB%8F/Go%E8%AF%AD%E8%A8%80%E5%9C%A3%E7%BB%8F--%E5%9F%BA%E7%A1%80/#11-hello-world","text":"package main import \"fmt\" func main(){ fmt.Println(\"hello world\") } Go\u8bed\u8a00\u7684\u4ee3\u7801\u901a\u8fc7 \u5305 \uff08package\uff09\u7ec4\u7ec7\uff0c\u5305\u7c7b\u4f3c\u4e8e\u5176\u5b83\u8bed\u8a00\u91cc\u7684\u5e93\uff08libraries\uff09\u6216\u8005\u6a21\u5757\uff08modules\uff09\u3002\u4e00\u4e2a\u5305\u7531\u4f4d\u4e8e\u5355\u4e2a\u76ee\u5f55\u4e0b\u7684\u4e00\u4e2a\u6216\u591a\u4e2a.go\u6e90\u4ee3\u7801\u6587\u4ef6\u7ec4\u6210\uff0c\u76ee\u5f55\u5b9a\u4e49\u5305\u7684\u4f5c\u7528\u3002\u6bcf\u4e2a\u6e90\u6587\u4ef6\u90fd\u4ee5\u4e00\u6761 package \u58f0\u660e\u8bed\u53e5\u5f00\u59cb\uff0c\u8fd9\u4e2a\u4f8b\u5b50\u91cc\u5c31\u662f package main \uff0c\u8868\u793a\u8be5\u6587\u4ef6\u5c5e\u4e8e\u54ea\u4e2a\u5305\uff0c\u7d27\u8ddf\u7740\u4e00\u7cfb\u5217\u5bfc\u5165\uff08import\uff09\u7684\u5305\uff0c\u4e4b\u540e\u662f\u5b58\u50a8\u5728\u8fd9\u4e2a\u6587\u4ef6\u91cc\u7684\u7a0b\u5e8f\u8bed\u53e5\u3002 main \u5305\u6bd4\u8f83\u7279\u6b8a\u3002\u5b83\u5b9a\u4e49\u4e86\u4e00\u4e2a\u72ec\u7acb\u53ef\u6267\u884c\u7684\u7a0b\u5e8f\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u5e93\u3002\u5728 main \u91cc\u7684 main \u51fd\u6570 \u4e5f\u5f88\u7279\u6b8a\uff0c\u5b83\u662f\u6574\u4e2a\u7a0b\u5e8f\u6267\u884c\u65f6\u7684\u5165\u53e3\uff08\u8bd1\u6ce8\uff1aC\u7cfb\u8bed\u8a00\u5dee\u4e0d\u591a\u90fd\u8fd9\u6837\uff09\u3002 main \u51fd\u6570\u6240\u505a\u7684\u4e8b\u60c5\u5c31\u662f\u7a0b\u5e8f\u505a\u7684\u3002\u5f53\u7136\u4e86\uff0c main \u51fd\u6570\u4e00\u822c\u8c03\u7528\u5176\u5b83\u5305\u91cc\u7684\u51fd\u6570\u5b8c\u6210\u5f88\u591a\u5de5\u4f5c\uff08\u5982\uff1a fmt.Println \uff09\u3002 Go\u8bed\u8a00\u4e0d\u9700\u8981\u5728\u8bed\u53e5\u6216\u8005\u58f0\u660e\u7684\u672b\u5c3e\u6dfb\u52a0\u5206\u53f7\uff0c\u9664\u975e\u4e00\u884c\u4e0a\u6709\u591a\u6761\u8bed\u53e5\u3002\u5b9e\u9645\u4e0a\uff0c\u7f16\u8bd1\u5668\u4f1a\u4e3b\u52a8\u628a\u7279\u5b9a\u7b26\u53f7\u540e\u7684\u6362\u884c\u7b26\u8f6c\u6362\u4e3a\u5206\u53f7\uff0c\u56e0\u6b64\u6362\u884c\u7b26\u6dfb\u52a0\u7684\u4f4d\u7f6e\u4f1a\u5f71\u54cdGo\u4ee3\u7801\u7684\u6b63\u786e\u89e3\u6790\uff08\u8bd1\u6ce8\uff1a\u6bd4\u5982\u884c\u672b\u662f\u6807\u8bc6\u7b26\u3001\u6574\u6570\u3001\u6d6e\u70b9\u6570\u3001\u865a\u6570\u3001\u5b57\u7b26\u6216\u5b57\u7b26\u4e32\u6587\u5b57\u3001\u5173\u952e\u5b57 break \u3001 continue \u3001 fallthrough \u6216 return \u4e2d\u7684\u4e00\u4e2a\u3001\u8fd0\u7b97\u7b26\u548c\u5206\u9694\u7b26 ++ \u3001 -- \u3001 ) \u3001 ] \u6216 } \u4e2d\u7684\u4e00\u4e2a\uff09\u3002\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u51fd\u6570\u7684\u5de6\u62ec\u53f7 { \u5fc5\u987b\u548c func \u51fd\u6570\u58f0\u660e\u5728\u540c\u4e00\u884c\u4e0a\uff0c\u4e14\u4f4d\u4e8e\u672b\u5c3e\uff0c\u4e0d\u80fd\u72ec\u5360\u4e00\u884c\uff0c\u800c\u5728\u8868\u8fbe\u5f0f x + y \u4e2d\uff0c\u53ef\u5728 + \u540e\u6362\u884c\uff0c\u4e0d\u80fd\u5728 + \u524d\u6362\u884c\uff08\u8bd1\u6ce8\uff1a\u4ee5+\u7ed3\u5c3e\u7684\u8bdd\u4e0d\u4f1a\u88ab\u63d2\u5165\u5206\u53f7\u5206\u9694\u7b26\uff0c\u4f46\u662f\u4ee5x\u7ed3\u5c3e\u7684\u8bdd\u5219\u4f1a\u88ab\u5206\u53f7\u5206\u9694\u7b26\uff0c\u4ece\u800c\u5bfc\u81f4\u7f16\u8bd1\u9519\u8bef\uff09\u3002","title":"1.1 hello world"},{"location":"go%E5%9C%A3%E7%BB%8F/Go%E8%AF%AD%E8%A8%80%E5%9C%A3%E7%BB%8F--%E5%9F%BA%E7%A1%80/#12","text":"os \u5305\u4ee5\u8de8\u5e73\u53f0\u7684\u65b9\u5f0f\uff0c\u63d0\u4f9b\u4e86\u4e00\u4e9b\u4e0e\u64cd\u4f5c\u7cfb\u7edf\u4ea4\u4e92\u7684\u51fd\u6570\u548c\u53d8\u91cf\u3002\u7a0b\u5e8f\u7684\u547d\u4ee4\u884c\u53c2\u6570\u53ef\u4eceos\u5305\u7684Args\u53d8\u91cf\u83b7\u53d6\uff1bos\u5305\u5916\u90e8\u4f7f\u7528os.Args\u8bbf\u95ee\u8be5\u53d8\u91cf\u3002 os.Args\u53d8\u91cf\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff08string\uff09\u7684 \u5207\u7247 \uff08slice\uff09\u3002 os.Args\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\uff1aos.Args[0]\uff0c\u662f\u547d\u4ee4\u672c\u8eab\u7684\u540d\u5b57\uff1b\u5176\u5b83\u7684\u5143\u7d20\u5219\u662f\u7a0b\u5e8f\u542f\u52a8\u65f6\u4f20\u7ed9\u5b83\u7684\u53c2\u6570\u3002 package main import ( \"fmt\" \"os\" ) func main() { var s, sep string //for i:=1; i < len(os.Args); i++{ for i, _ := range os.Args{ //if i == 1{ // continue //} s += sep + os.Args[i] sep = \"_\" } fmt.Println(s) } build\u4e00\u4e0b\u7136\u540e\u8fd0\u884c\uff1a // build go build main.go // \u8fd0\u884c ./main whw 666 // \u7ed3\u679c ./main_whw_666","title":"1.2 \u547d\u4ee4\u884c\u53c2\u6570"},{"location":"go%E5%9C%A3%E7%BB%8F/Go%E8%AF%AD%E8%A8%80%E5%9C%A3%E7%BB%8F--%E5%9F%BA%E7%A1%80/#13","text":"*\u5bf9\u6587\u4ef6\u505a\u62f7\u8d1d\u3001\u6253\u5370\u3001\u641c\u7d22\u3001\u6392\u5e8f\u3001\u7edf\u8ba1\u6216\u7c7b\u4f3c\u4e8b\u60c5\u7684\u7a0b\u5e8f\u90fd\u6709\u4e00\u4e2a\u5dee\u4e0d\u591a\u7684\u7a0b\u5e8f\u7ed3\u6784\uff1a\u4e00\u4e2a\u5904\u7406\u8f93\u5165\u7684\u5faa\u73af\uff0c\u5728\u6bcf\u4e2a\u5143\u7d20\u4e0a\u6267\u884c\u8ba1\u7b97\u5904\u7406\uff0c\u5728\u5904\u7406\u7684\u540c\u65f6\u6216\u6700\u540e\u4ea7\u751f\u8f93\u51fa\u3002","title":"1.3 \u67e5\u627e\u91cd\u590d\u7684\u884c"},{"location":"go%E5%9C%A3%E7%BB%8F/Go%E8%AF%AD%E8%A8%80%E5%9C%A3%E7%BB%8F--%E5%9F%BA%E7%A1%80/#1_1","text":"dup \u7684\u7b2c\u4e00\u4e2a\u7248\u672c\u6253\u5370\u6807\u51c6\u8f93\u5165\u4e2d\u591a\u6b21\u51fa\u73b0\u7684\u884c\uff0c\u4ee5\u91cd\u590d\u6b21\u6570\u5f00\u5934\u3002\u8be5\u7a0b\u5e8f\u5c06\u5f15\u5165 if \u8bed\u53e5\uff0c map \u6570\u636e\u7c7b\u578b\u4ee5\u53ca bufio \u5305\uff1a package main import ( \"bufio\" \"fmt\" \"os\" \"strings\" ) func main() { counts := make(map[string]int) // \u6301\u7eed\u63a5\u6536\u7ec8\u7aef\u8f93\u5165\u7684\u6570\u636e input := bufio.NewScanner(os.Stdin) for input.Scan() { if strings.ToUpper(input.Text()) == \"Q\" { break } // \u7b49\u4ef7\u4e8e\u4e0b\u9762\u7684\u8bed\u53e5\uff1a /* line := input.Text() counts[line] = counts[line] + 1 */ counts[input.Text()]++ } fmt.Println(\"counts: \", counts) // NOTE: ignoring potential errors from input.Err() for line, n := range counts { fmt.Printf(\"%d(\u4e2a)%s \\n\", n, line) } } \u6267\u884c\u8fc7\u7a0b\u53ca\u7ed3\u679c\u5982\u4e0b\uff1a go run main.go 123 www www 222 q // \u8f93\u5165q\u65f6\u6253\u5370\u7ed3\u679c counts: map[123:1 222:1 www:2] 1(\u4e2a)123 2(\u4e2a)www 1(\u4e2a)222","title":"\u7248\u672c1"},{"location":"go%E5%9C%A3%E7%BB%8F/Go%E8%AF%AD%E8%A8%80%E5%9C%A3%E7%BB%8F--%E5%9F%BA%E7%A1%80/#14-gif","text":"\uff08\u7565\uff09","title":"1.4 GIF\u52a8\u753b"},{"location":"go%E5%9C%A3%E7%BB%8F/Go%E8%AF%AD%E8%A8%80%E5%9C%A3%E7%BB%8F--%E5%9F%BA%E7%A1%80/#15-url","text":"package main import ( \"fmt\" \"io/ioutil\" \"net/http\" \"os\" ) func main() { for _, url := range os.Args[1:] { resp, err := http.Get(url) if err != nil { fmt.Fprintf(os.Stderr, \"fetch: %v\\n\", err) os.Exit(1) } b, err := ioutil.ReadAll(resp.Body) defer resp.Body.Close() if err != nil { fmt.Fprintf(os.Stderr, \"fetch: reading %s: %v \\n\", url, err) os.Exit(1) } fmt.Println(\"b>>> \", b) } } build\u53ca\u6267\u884c\uff1a // build go build main.go // excute \uff08\u7ed3\u679c\u592a\u591a\uff0c\u7565\uff09 ./main https://www.baidu.com https://www.google.hk","title":"1.5 \u83b7\u53d6URL"},{"location":"go%E5%9C%A3%E7%BB%8F/Go%E8%AF%AD%E8%A8%80%E5%9C%A3%E7%BB%8F--%E5%9F%BA%E7%A1%80/#16-url","text":"","title":"1.6 \u5e76\u53d1\u83b7\u53d6\u591a\u4e2aURL"},{"location":"%E5%9F%BA%E7%A1%80/1/","text":"\u5360\u4f4d 1 \u57fa\u7840\u90e8\u5206 Go\u8bed\u8a00\u57fa\u672c\u7ed3\u6784\u53ca\u8bf4\u660e package main import ( \"fmt\" \"runtime\" ) func main() { fmt.Println(\"hello world\") // \u67e5\u770b\u7248\u672c fmt.Println(runtime.Version()) } func main()\u662f\u7a0b\u5e8f\u5165\u53e3\u3002\u6240\u6709Go\u51fd\u6570\u4ee5\u5173\u952e\u5b57func\u5f00\u5934\uff0c\u6bcf\u4e00\u4e2a\u53ef\u6267\u884c\u7a0b\u5e8f\u90fd\u5fc5\u987b\u5305\u542bmain()\u51fd\u6570\uff0c\u901a\u5e38\u662f\u7a0b\u5e8f\u542f\u52a8\u540e\u7b2c\u4e00\u4e2a\u6267\u884c\u7684\u51fd\u6570\uff0c\u5982\u679c\u6709init()\u51fd\u6570\u5219\u4f1a\u5148\u6267\u884cinit()\u51fd\u6570\u3002 \u9664\u6b64\u4e4b\u5916\uff0c\u8fd8\u6709\u4ee5\u4e0b\u51e0\u70b9\u503c\u5f97\u6ce8\u610f\u3002 \uff081\uff09\u53ea\u6709package\u540d\u79f0\u4e3amain\u7684\u5305\u53ef\u4ee5\u5305\u542bmain()\u51fd\u6570\u3002 \uff082\uff09\u4e00\u4e2a\u53ef\u6267\u884c\u7a0b\u5e8f\u6709\u4e14\u4ec5\u6709\u4e00\u4e2amain\u5305\u3002 \uff083\uff09\u901a\u8fc7import\u5173\u952e\u5b57\u6765\u5bfc\u5165\u5176\u4ed6\u975emain\u5305\u3002 \uff084\uff09\u53ef\u4ee5\u901a\u8fc7import\u5173\u952e\u5b57\u5355\u4e2a\u5bfc\u5165\uff0c\u4e5f\u53ef\u4ee5\u540c\u65f6\u5bfc\u5165\u591a\u4e2a\u3002 2 \u57fa\u672c\u8bed\u6cd5 2.1 \u53d8\u91cf \u53d8\u91cf\u7684\u672c\u8d28\u662f\u8ba1\u7b97\u673a\u5206\u914d\u7684\u4e00\u5c0f\u5757\u5185\u5b58\uff0c\u4e13\u95e8\u7528\u4e8e\u5b58\u653e\u6307\u5b9a\u6570\u636e\uff0c\u5728\u7a0b\u5e8f\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u8be5\u6570\u503c\u53ef\u4ee5\u53d1\u751f\u6539\u53d8\uff1b\u53d8\u91cf\u7684\u5b58\u50a8\u5f80\u5f80\u5177\u6709\u77ac\u65f6\u6027\uff0c\u6216\u8005\u8bf4\u662f\u4e34\u65f6\u5b58\u50a8\uff0c\u5f53\u7a0b\u5e8f\u8fd0\u884c\u7ed3\u675f\uff0c\u5b58\u653e\u8be5\u6570\u636e\u7684\u5185\u5b58\u5c31\u4f1a\u91ca\u653e\uff0c\u8be5\u53d8\u91cf\u5c31\u4f1a\u968f\u7740\u5185\u5b58\u7684\u91ca\u653e\u800c\u6d88\u5931\u3002\u5c31\u50cf\u65e5\u5e38\u751f\u6d3b\u4e2d\u5b58\u653e\u6c34\u7684\u6c34\u676f\uff0c\u5f53\u6c34\u676f\u635f\u574f\u7684\u65f6\u5019\uff0c\u88c5\u5728\u91cc\u9762\u7684\u6c34\u4e5f\u4f1a\u6d41\u5931\u6389\u3002 \u53d8\u91cf\u53c8\u5206\u4e3a\u5c40\u90e8\u53d8\u91cf\u548c\u5168\u5c40\u53d8\u91cf\u3002 \u5c40\u90e8\u53d8\u91cf\uff0c\u662f\u5b9a\u4e49\u5728\u5927\u62ec\u53f7\uff08{}\uff09\u5185\u90e8\u7684\u53d8\u91cf\uff0c\u5927\u62ec\u53f7\u7684\u5185\u90e8\u4e5f\u662f\u5c40\u90e8\u53d8\u91cf\u7684\u4f5c\u7528\u57df\u3002 \u5168\u5c40\u53d8\u91cf\uff0c\u662f\u5b9a\u4e49\u5728\u51fd\u6570\u548c\u5927\u62ec\u53f7\uff08{}\uff09\u5916\u90e8\u7684\u53d8\u91cf\u3002 Go \u8bed\u8a00\u7684\u53d8\u91cf\u540d\u7531\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u4e0b\u753b\u7ebf\u7ec4\u6210\uff0c\u9996\u4e2a\u5b57\u7b26\u4e0d\u80fd\u4e3a\u6570\u5b57\uff1b Go \u8bed\u6cd5\u89c4\u5b9a\uff0c\u5b9a\u4e49\u7684\u5c40\u90e8\u53d8\u91cf\u82e5\u6ca1\u6709\u88ab\u8c03\u7528\u4f1a\u53d1\u751f\u7f16\u8bd1\u9519\u8bef\u3002 \u53d8\u91cf\u58f0\u660e \u672a\u521d\u59cb\u5316\u53d8\u91cf\u7684\u9ed8\u8ba4\u503c\u6709\u5982\u4e0b\u7279\u70b9\uff1a \u6574\u578b\u548c\u6d6e\u70b9\u578b\u53d8\u91cf\u9ed8\u8ba4\u503c\uff1a0\u3002 \u5b57\u7b26\u4e32\u9ed8\u8ba4\u503c\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002 \u5e03\u5c14\u578b\u9ed8\u8ba4\u503c\u4e3afalse\u3002 \u51fd\u6570\u3001\u6307\u9488\u53d8\u91cf\u3001\u5207\u7247\u9ed8\u8ba4\u503c\u4e3anil\u3002 \u521d\u59cb\u5316\u53d8\u91cf\u7684\u6807\u51c6\u683c\u5f0f\u5982\u4e0b\uff1a var a int = 199 //\u521d\u59cb\u5316\u53d8\u91cf\u7684\u6807\u51c6\u683c\u5f0f var b = 100 //\u521d\u59cb\u5316\u53d8\u91cf\u7684\u7f16\u8bd1\u5668\u81ea\u52a8\u63a8\u65ad\u7c7b\u578b\u683c\u5f0f c := 123 //\u521d\u59cb\u5316\u53d8\u91cf\u7684\u7b80\u77ed\u58f0\u660e\u683c\u5f0f \u4f7f\u7528 := \u8d4b\u503c\u64cd\u4f5c\u7b26\u53ef\u4ee5\u9ad8\u6548\u5730\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u53d8\u91cf\uff0c\u79f0\u4e3a\u521d\u59cb\u5316\u58f0\u660e\u3002\u58f0\u660e\u8bed\u53e5\u7701\u7565\u4e86 var \u5173\u952e\u5b57\uff0c\u53d8\u91cf\u7c7b\u578b\u5c06\u7531\u7f16\u8bd1\u5668\u81ea\u52a8\u63a8\u65ad\u3002\u8fd9\u662f\u58f0\u660e\u53d8\u91cf\u7684\u9996\u9009\u5f62\u5f0f\uff0c\u4f46\u662f\u5b83\u53ea\u80fd\u88ab\u7528\u5728\u51fd\u6570\u4f53\u5185\uff0c\u800c\u4e0d\u53ef\u4ee5\u7528\u4e8e\u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u4e0e\u8d4b\u503c\u3002\u8be5\u53d8\u91cf\u540d\u5fc5\u987b\u662f\u6ca1\u6709\u5b9a\u4e49\u8fc7\u7684\u53d8\u91cf\uff0c\u82e5\u5b9a\u4e49\u8fc7\uff0c\u5c06\u53d1\u751f\u7f16\u8bd1\u9519\u8bef\u3002 package main func main(){ // \u8fd9\u6837\u5199\u662f\u9519\u8bef\u7684 var a = 123 a := 222 } ./variable.go:7:4: no new variables on left side of := \u591a\u4e2a\u77ed\u53d8\u91cf\u58f0\u660e\u548c\u8d4b\u503c\u4e2d\uff0c\u81f3\u5c11\u6709\u4e00\u4e2a\u65b0\u58f0\u660e\u7684\u53d8\u91cf\u51fa\u73b0\u5728\u5de6\u4fa7\uff0c\u90a3\u4e48\u5373\u4fbf\u5176\u4ed6\u53d8\u91cf\u540d\u53ef\u80fd\u662f\u91cd\u590d\u58f0\u660e\u7684\uff0c\u7f16\u8bd1\u5668\u4e5f\u4e0d\u4f1a\u62a5\u9519\u3002\u60c5\u51b5\u5982\u4e0b\u6240\u793a\uff1a package main import \"fmt\" func main(){ // \u8fd9\u79cd\u60c5\u51b5\u4e0d\u4f1a\u62a5\u9519 var a = 666 a, b := 1,2 fmt.Println(\"a>>>\",a) // 1 fmt.Println(\"n>>>\",b) // 2 } \u867d\u7136\u8fd9\u79cd\u65b9\u6cd5\u4e0d\u4f1a\u62a5\u9519\uff0c\u4f46\u662f\u5728\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u5e94\u5c3d\u91cf\u907f\u514d\u3002 \u53d8\u91cf\u591a\u91cd\u8d4b\u503c \u53d8\u91cf\u591a\u91cd\u8d4b\u503c\u662f\u6307\u591a\u4e2a\u53d8\u91cf\u540c\u65f6\u8d4b\u503c\u3002 Go\u8bed\u6cd5\u4e2d\uff0c\u53d8\u91cf\u521d\u59cb\u5316\u548c\u53d8\u91cf\u8d4b\u503c\u662f\u4e24\u4e2a\u4e0d\u540c\u7684\u6982\u5ff5\u3002Go\u8bed\u8a00\u7684\u53d8\u91cf\u8d4b\u503c\u4e0e\u5176\u4ed6\u8bed\u8a00\u4e00\u6837\uff0c\u4f46\u662fGo\u63d0\u4f9b\u4e86\u5176\u4ed6\u7a0b\u5e8f\u5458\u671f\u5f85\u5df2\u4e45\u7684\u591a\u91cd\u8d4b\u503c\u529f\u80fd\uff0c\u53ef\u4ee5\u5b9e\u73b0\u53d8\u91cf\u4ea4\u6362\u3002\u591a\u91cd\u8d4b\u503c\u8ba9Go\u8bed\u8a00\u6bd4\u5176\u4ed6\u8bed\u8a00\u51cf\u5c11\u4e86\u4ee3\u7801\u91cf\u3002 go\u8bed\u8a00\u4e2d\u4f7f\u7528\u591a\u91cd\u8d4b\u503c\u8fdb\u884c\u53d8\u91cf\u4ea4\u6362\u7684\u4f8b\u5b50\uff1a package main import \"fmt\" func main(){ var a = 666 a, b := 111,222 // \u53d8\u91cf\u4ea4\u6362 b, a = a, b fmt.Println(\"a>>>\",a) // 222 fmt.Println(\"n>>>\",b) // 111 } \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u591a\u91cd\u8d4b\u503c\u65f6\uff0c\u5de6\u503c\u548c\u53f3\u503c\u6309\u7167\u4ece\u5de6\u5230\u53f3\u7684\u987a\u5e8f\u8d4b\u503c\u3002\u8fd9\u79cd\u65b9\u6cd5\u5728\u9519\u8bef\u5904\u7406\u548c\u51fd\u6570\u5f53\u4e2d\u4f1a\u5927\u91cf\u4f7f\u7528\u3002 \u533f\u540d\u53d8\u91cf Go\u8bed\u8a00\u7684\u51fd\u6570\u53ef\u4ee5\u8fd4\u56de\u591a\u4e2a\u503c\uff0c\u800c \u4e8b\u5b9e\u4e0a\u5e76\u4e0d\u662f\u6240\u6709\u7684\u8fd4\u56de\u503c\u90fd\u7528\u5f97\u4e0a \u3002\u90a3\u4e48\u5c31\u53ef\u4ee5\u4f7f\u7528\u533f\u540d\u53d8\u91cf\uff0c\u7528\u4e0b\u753b\u7ebf\u201c_\u201d\u66ff\u6362\u5373\u53ef\u3002 \u4f8b\u5982\uff0c\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\uff0c\u529f\u80fd\u4e3a\u8fd4\u56de\u4e24\u4e2aint\u578b\u53d8\u91cf\uff0c\u7b2c\u4e00\u4e2a\u8fd4\u56de10\uff0c\u7b2c\u4e8c\u4e2a\u8fd4\u56de20\uff0c\u7b2c\u4e00\u6b21\u8c03\u7528\u820d\u5f03\u7b2c\u4e8c\u4e2a\u8fd4\u56de\u503c\uff0c\u7b2c\u4e8c\u6b21\u8c03\u7528\u820d\u5f03\u7b2c\u4e00\u4e2a\u8fd4\u56de\u503c\uff0c\u5177\u4f53\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u6240\u793a\u3002 package main import \"fmt\" func getData()(int, string, bool){ return 666,\"whw\",false } func main(){ var a = 666 a, b, _ := getData() fmt.Println(\"a>>>\",a) // 666 fmt.Println(\"n>>>\",b) // whw } \u533f\u540d\u53d8\u91cf\u65e2\u4e0d\u5360\u7528\u547d\u540d\u7a7a\u95f4\uff0c\u4e5f\u4e0d\u4f1a\u5206\u914d\u5185\u5b58\u3002 2.2 \u6570\u636e\u7c7b\u578b \u5728Go\u8bed\u8a00\u4e2d\uff0c\u6709\u4ee5\u4e0b\u51e0\u79cd\u6570\u636e\u7c7b\u578b\uff1a \u57fa\u672c\u6570\u636e\u7c7b\u578b\uff08\u539f\u751f\u6570\u636e\u7c7b\u578b\uff09 \uff1a\u6574\u578b\u3001\u6d6e\u70b9\u578b\u3001\u590d\u6570\u578b\u3001\u5e03\u5c14\u578b\u3001\u5b57\u7b26\u4e32\u3001\u5b57\u7b26\uff08byte\u3001rune\uff09\u3002 \u590d\u5408\u6570\u636e\u7c7b\u578b\uff08\u6d3e\u751f\u6570\u636e\u7c7b\u578b\uff09 \uff1a\u6570\u7ec4\uff08array\uff09\u3001\u5207\u7247\uff08slice\uff09\u3001\u6620\u5c04\uff08map\uff09\u3001\u51fd\u6570\uff08function\uff09\u3001\u7ed3\u6784\u4f53\uff08struct\uff09\u3001\u901a\u9053\uff08channel\uff09\u3001\u63a5\u53e3\uff08interface\uff09\u3001\u6307\u9488\uff08pointer\uff09\u3002 \u6574\u578b \u6574\u578b\u5206\u4e24\u5927\u7c7b\u3002\u6709\u7b26\u53f7\u6574\u578b\uff1aint8\u3001int16\u3001int32\u3001int64\u3001int\u3002 \u65e0\u7b26\u53f7\u6574\u578b\uff1auint8\u3001uint16\u3001uint32\u3001uint64\u3001uint\u3002 \u5176\u4e2duint8\u5c31\u662fbyte\u578b\uff0cint16\u5bf9\u5e94C\u8bed\u8a00\u7684short\u578b\uff0cint64\u5bf9\u5e94C\u8bed\u8a00\u7684long\u578b\u3002 \u6d6e\u70b9\u578b \u5e38\u91cfmath.MaxFloat32\u8868\u793afloat32\u80fd\u83b7\u53d6\u7684\u6700\u5927\u503c\uff0c\u5927\u7ea6\u662f3.4\u00d71038\uff1b\u5e38\u91cfmath.SmallestNonzeroFloat32\u8868\u793afloat32\u80fd\u83b7\u53d6\u7684\u6700\u5c0f\u503c\uff0c\u5927\u7ea6\u4e3a1.4\u00d710-45\u3002 \u5e38\u91cfmath.MaxFloat64\u8868\u793afloat64\u80fd\u83b7\u53d6\u7684\u6700\u5927\u503c\uff0c\u5927\u7ea6\u662f1.8\u00d710308\uff1b\u5e38\u91cfmath.SmallestNonzeroFloat64\u8868\u793afloat64\u80fd\u83b7\u53d6\u7684\u6700\u5c0f\u503c\uff0c\u5927\u7ea6\u4e3a4.9\u00d710-324\u3002 \u590d\u6570\u578b \u590d\u6570\u578b\u7528\u4e8e\u8868\u793a\u6570\u5b66\u4e2d\u7684\u590d\u6570\uff0c\u59821+2j\u30011-2j\u3001-1-2j\u7b49\u3002\u5173\u4e8e\u590d\u6570\u578b\u7684\u8bf4\u660e\uff0c\u5982\u88682.3\u6240\u793a\u3002 \u5e03\u5c14\u578b \u5e03\u5c14\u578b\u7528\u9884\u5b9a\u4e49\u6807\u8bc6\u7b26bool\u8868\u793a\u3002\u5728C\u8bed\u8a00\u4e2d\uff0c\u5bf9\u4e8e\u5e03\u5c14\u578b\u7684\u503c\u5b9a\u4e49\uff0c\u975e0\u8868\u793a\u771f\uff0c0\u8868\u793a\u5047\u3002\u800c\u5728Go\u8bed\u8a00\u4e2d\uff0c\u5e03\u5c14\u578b\u7684\u503c\u53ea\u53ef\u4ee5\u662f\u5e38\u91cftrue\u6216\u8005false\u3002 \u58f0\u660e\u65b9\u5f0f\u5982\u4e0b\u6240\u793a\u3002 var flag bool \u5e03\u5c14\u578b\u65e0\u6cd5\u53c2\u4e0e\u6570\u503c\u8fd0\u7b97\uff0c\u4e5f\u65e0\u6cd5\u4e0e\u5176\u4ed6\u7c7b\u578b\u8fdb\u884c\u8f6c\u6362\u3002 \u5b57\u7b26\u4e32 \u5b57\u7b26\u4e32\u5728Go\u8bed\u8a00\u4e2d\u662f\u4ee5\u57fa\u672c\u6570\u636e\u7c7b\u578b\u51fa\u73b0\u7684\uff0c\u4f7f\u7528\u5b57\u7b26\u4e32\u5c31\u50cf\u4f7f\u7528\u5176\u4ed6\u539f\u751f\u57fa\u672c\u6570\u636e\u7c7b\u578bint\u3001float32\u3001float64\u3001bool\u4e00\u6837\u3002 \u5b57\u7b26\u4e32\u5728C++\u8bed\u8a00\u4e2d\uff0c\u4ee5\u7c7b\u7684\u65b9\u5f0f\u8fdb\u884c\u5c01\u88c5\uff0c\u4e0d\u5c5e\u4e8e\u57fa\u672c\u6570\u636e\u7c7b\u578b\u3002 \u5728go\u4e2d\u4f7f\u7528\u5b57\u7b26\u4e32\uff1a var s1 string //\u5b9a\u4e49\u540d\u4e3as1\u7684\u5b57\u7b26\u4e32\u7c7b\u578b\u53d8\u91cf s1 = \"HelloWorld\" //\u53d8\u91cf\u8d4b\u503c student1 := \"\u706b\u5f71whw\" //\u4ee5\u81ea\u52a8\u63a8\u65ad\u65b9\u5f0f\u521d\u59cb\u5316 \u6709\u4e9b\u5b57\u7b26\u4e32\u6ca1\u6709\u73b0\u6210\u7684\u6587\u5b57\u4ee3\u53f7\uff0c\u6240\u4ee5\u53ea\u80fd\u7528\u8f6c\u4e49\u5b57\u7b26\u6765\u8868\u793a\u3002\u5e38\u7528\u7684\u8f6c\u4e49\u5b57\u7b26\u5982\u88682.4\u6240\u793a\uff1a \u5b9a\u4e49\u591a\u884c\u5b57\u7b26\u4e32\u7684\u65b9\u6cd5\u5982\u4e0b\uff1a \u53cc\u5f15\u53f7\u4e66\u5199\u5b57\u7b26\u4e32\u88ab\u79f0\u4e3a\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\uff08string literal\uff09\uff0c\u8fd9\u79cd\u5b57\u9762\u91cf\u4e0d\u80fd\u8de8\u884c\u3002 \u591a\u884c\u5b57\u7b26\u4e32\u9700\u8981\u4f7f\u7528\u53cd\u5f15\u53f7\u201c`\u201d\uff0c\u591a\u7528\u4e8e\u5185\u5d4c\u6e90\u7801\u548c\u5185\u5d4c\u6570\u636e\u3002 \u5728\u53cd\u5f15\u53f7\u4e2d\u7684\u6240\u6709\u4ee3\u7801\u4e0d\u4f1a\u88ab\u7f16\u8bd1\u5668\u8bc6\u522b\uff0c\u800c\u53ea\u662f\u4f5c\u4e3a\u5b57\u7b26\u4e32\u7684\u4e00\u90e8\u5206\u3002 \u591a\u884c\u5b57\u7b26\u4e32\u5b9a\u4e49\u65b9\u5f0f\u5982\u4f8b2-1\u6240\u793a\u3002 package main import \"fmt\" func getString()(string){ s1 := ` x := 123 y := 666 ss := \"A Hero's Country!\" ` return s1 } func main(){ a := getString() fmt.Println(\"a>>>\",a) } \u5b57\u7b26 \u5b57\u7b26\u4e32\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u53eb\u4f5c\u201c\u5b57\u7b26\u201d\uff0c\u5b9a\u4e49\u5b57\u7b26\u65f6\u4f7f\u7528\u5355\u5f15\u53f7\u3002Go\u8bed\u8a00\u7684\u5b57\u7b26\u6709\u4e24\u79cd\uff0c\u5982\u88682.5\u6240\u793a\u3002 \u58f0\u660e\u793a\u4f8b\u5982\u4e0b\uff08\u6ce8\u610f\u5fc5\u987b\u662f\u5355\u5f15\u53f7\uff01\uff09\uff1a package main import \"fmt\" func main(){ // \u6ce8\u610f\u5fc5\u987b\u662f\u5355\u5f15\u53f7\uff01\uff01\uff01 var a byte = 's' var b rune = '\u738b' fmt.Println(\"a>>>\",a) // 115 fmt.Println(\"b>>>\",b) // 29579 } 2.3 \u6253\u5370\u683c\u5f0f\u5316 \u6253\u5370\u683c\u5f0f\u5316\u901a\u5e38\u4f7f\u7528fmt\u5305\uff0c\u901a\u7528\u7684\u6253\u5370\u683c\u5f0f\u5982\u8868\uff1a \u5177\u4f53\u7684\u4f7f\u7528\u65b9\u6cd5\uff1a package main import \"fmt\" func main(){ str := \"wanghw\" fmt.Printf(\"%T, %v \\n\",str,str) //string, wanghw var a rune = '\u738b' fmt.Printf(\"%T, %v \\n\",a,a) //int32, 29579 var b byte = 'b' fmt.Printf(\"%T, %v \\n\",b,b) //uint8, 98 var c int32 = 123 fmt.Printf(\"%T, %v \\n\",c,c) //int32, 123 } \u901a\u8fc7\u4e0a\u4f8b\u53ef\u4ee5\u770b\u51fa\uff0c\u4f7f\u7528\u901a\u7528\u7684\u683c\u5f0f\u6253\u5370\uff0c\u8f93\u51fa\u7684\u7ed3\u679c\u53ef\u80fd\u4e0d\u662f\u81ea\u5df1\u60f3\u8981\u7684\uff0c\u4e3a\u4e86\u786e\u4fdd\u8f93\u51fa\u7ed3\u679c\u4e0e\u9700\u6c42\u4e00\u81f4\uff0c\u8fd8\u9700\u8981\u5b66\u4e60\u5177\u4f53\u683c\u5f0f\u7684\u6253\u5370\u65b9\u5f0f\u3002 \u5e03\u5c14\u578b\u6253\u5370\u683c\u5f0f package main import \"fmt\" func main(){ var flag bool // flag\u9ed8\u8ba4\u662ffalse fmt.Printf(\"%T, %t \\n\",flag,flag) //bool, false flag = true fmt.Printf(\"%T, %t \\n\",flag,flag) //bool, true } \u6574\u578b\u6253\u5370\u683c\u5f0f package main import \"fmt\" func main(){ fmt.Printf(\"%T, %d \\n\",123, 123) //int, 123 fmt.Printf(\"%T, %5d \\n\",123, 123) //int, 123 fmt.Printf(\"%T, %05d \\n\",123, 123) //int, 00123 fmt.Printf(\"%T, %b \\n\",123, 123) //int, 1111011 fmt.Printf(\"%T, %o \\n\",123, 123) //int, 173 fmt.Printf(\"%T, %c \\n\",98, 98) //int, b fmt.Printf(\"%T, %q \\n\",98, 98) //int, 'b' fmt.Printf(\"%T, %x \\n\",123, 123) //int, 7b fmt.Printf(\"%T, %X \\n\",123, 123) //int, 7B fmt.Printf(\"%T, %U \\n\",'\u738b', '\u738b') //int32, U+738B } \u6d6e\u70b9\u578b\u4e0e\u590d\u6570\u578b\u6253\u5370\u683c\u5f0f package main import \"fmt\" func main(){ fmt.Printf(\"%b \\n\",123.23433) //8671845041675824p-46 fmt.Printf(\"%f \\n\",123.2) //123.200000 fmt.Printf(\"%.2f \\n\",123.22222) //123.22 fmt.Printf(\"%e \\n\",123.22222) //1.232222e+02 fmt.Printf(\"%E \\n\",123.22222) //1.232222E+02 fmt.Printf(\"%.1e \\n\",123.22222) //1.2e+02 fmt.Printf(\"%F \\n\",123.22222) //123.222220 fmt.Printf(\"%g \\n\",123.22222) //123.22222 fmt.Printf(\"%G \\n\",123.22222) //123.22222 } \u5173\u4e8e\u590d\u6570\u7684\u6253\u5370\u683c\u5f0f\u5982\u4e0b package main import \"fmt\" func main(){ var value complex64 = 2.2 + 22i value2 := complex(2.2,222) fmt.Println(real(value)) //2.2 fmt.Println(imag(value)) //22 fmt.Println(value2) //(2.2+222i) } \u5b57\u7b26\u4e32\u6253\u5370\u4e0e\u5b57\u8282\u6570\u7ec4\u7684\u6253\u5370\u683c\u5f0f package main import \"fmt\" func main(){ arr := []byte{'a','b','c','d'} fmt.Printf(\"%s \\n\",\"\u706b\u5f71whw\")//\u706b\u5f71whw fmt.Printf(\"%q \\n\",\"\u706b\u5f71whw\")//\"\u706b\u5f71whw\" fmt.Printf(\"%x \\n\",\"\u706b\u5f71whw\")//e781abe5bdb1776877 fmt.Printf(\"%X \\n\",\"\u706b\u5f71whw\")//E781ABE5BDB1776877 fmt.Printf(\"%T, %s \\n\",arr, arr)//[]uint8, abcd fmt.Printf(\"%T, %q \\n\",arr, arr)//[]uint8, \"abcd\" fmt.Printf(\"%T, %x \\n\",arr, arr)//[]uint8, 61626364 fmt.Printf(\"%T, %X \\n\",arr, arr)//[]uint8, 61626364 } 2.4 \u6570\u636e\u7c7b\u578b\u8f6c\u6362 Go\u8bed\u8a00\u91c7\u7528\u6570\u636e\u7c7b\u578b\u524d\u7f6e\u52a0\u62ec\u53f7\u7684\u65b9\u5f0f\u8fdb\u884c\u7c7b\u578b\u8f6c\u6362\uff0c\u683c\u5f0f\u5982\uff1aT\uff08\u8868\u8fbe\u5f0f\uff09\u3002T\u8868\u793a\u8981\u8f6c\u6362\u7684\u7c7b\u578b\uff1b\u8868\u8fbe\u5f0f\u5305\u62ec\u53d8\u91cf\u3001\u6570\u503c\u3001\u51fd\u6570\u8fd4\u56de\u503c\u7b49\u3002 \u7c7b\u578b\u8f6c\u6362\u65f6\uff0c\u9700\u8981\u8003\u8651\u4e24\u79cd\u7c7b\u578b\u4e4b\u95f4\u7684\u5173\u7cfb\u548c\u8303\u56f4\uff0c\u662f\u5426\u4f1a\u53d1\u751f\u6570\u503c\u622a\u65ad\u3002\u5c31\u50cf\u5c061000\u6beb\u5347\u7684\u6c34\u5012\u5165\u5bb9\u79ef\u4e3a500\u6beb\u5347\u7684\u74f6\u5b50\u91cc\uff0c\u4f59\u51fa\u6765500\u6beb\u5347\u7684\u6c34\u4fbf\u4f1a\u6d41\u5931\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c \u5e03\u5c14\u578b\u65e0\u6cd5\u4e0e\u5176\u4ed6\u7c7b\u578b\u8fdb\u884c\u8f6c\u6362 \u3002 package main import \"fmt\" func main(){ a := 100 b1 := float64(a) b2 := string(a) fmt.Println(\"b1>>>\",b1) fmt.Println(\"b2>>>\",b2) } \u6d6e\u70b9\u578b\u4e0e\u6574\u578b\u4e4b\u95f4\u8f6c\u6362 float\u548cint\u7684\u7c7b\u578b\u7cbe\u5ea6\u4e0d\u540c\uff0c\u4f7f\u7528\u65f6\u9700\u8981\u6ce8\u610ffloat\u8f6cint\u65f6\u7cbe\u5ea6\u7684\u635f\u5931\u3002 package main import \"fmt\" func main() { chinese := 90 english := 98.9 avg1 := (chinese + int(english)) / 2 avg2 := (float64(chinese) + english) / 2 fmt.Println(\"avg1>>>\",avg1) // 94 fmt.Println(\"avg2>>>\",avg2) // 94.45 } \u6574\u578b\u8f6c\u5b57\u7b26\u4e32\u7c7b\u578b \u8fd9\u79cd\u7c7b\u578b\u7684\u8f6c\u6362\uff0c\u5176\u5b9e\u76f8\u5f53\u4e8ebyte\u6216rune\u8f6cstring\u3002 int\u6570\u503c\u662fASCII\u7801\u7684\u7f16\u53f7\u6216unicode\u5b57\u7b26\u96c6\u7684\u7f16\u53f7\uff0c\u8f6c\u6210string\u5c31\u662f\u6839\u636e\u5b57\u7b26\u96c6\uff0c\u5c06\u5bf9\u5e94\u7f16\u53f7\u7684\u5b57\u7b26\u67e5\u627e\u51fa\u6765\u3002\u5f53\u8be5\u6570\u503c\u8d85\u51faunicode\u7f16\u53f7\u8303\u56f4\uff0c\u5219\u8f6c\u6210\u7684\u5b57\u7b26\u4e32\u663e\u793a\u4e3a\u4e71\u7801\u3002 \u4f8b\u5982\uff0c19968\u8f6cstring\uff0c\u5c31\u662f\u201c\u4e00\u201d\u3002 \u5907\u6ce8\uff1a ASCII\u5b57\u7b26\u96c6\u4e2d\u6570\u5b57\u7684\u5341\u8fdb\u5236\u8303\u56f4\u662f48\uff5e57\uff1b ASCII\u5b57\u7b26\u96c6\u4e2d\u5927\u5199\u5b57\u6bcd\u7684\u5341\u8fdb\u5236\u8303\u56f4\u662f65\uff5e90\uff1b ASCII\u5b57\u7b26\u96c6\u4e2d\u5c0f\u5199\u5b57\u6bcd\u7684\u5341\u8fdb\u5236\u8303\u56f4\u662f97\uff5e122\uff1b unicode\u5b57\u7b26\u96c6\u4e2d\u6c49\u5b57\u7684\u8303\u56f4\u662f4e00\uff5e9fa5\uff0c\u5341\u8fdb\u5236\u8303\u56f4\u662f19968\uff5e40869\u3002 \u8be6\u60c5\u5982\u4e0b\uff1a \u5177\u4f53\u7684\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\uff1a package main import \"fmt\" func main() { a := 97 x := 19969 ret1 := string(a) ret2 := string(x) fmt.Println(\"ret1>>>\",ret1) // a fmt.Println(\"ret2>>>\",ret2) // \u4e01 } Go\u8bed\u8a00\u4e2d\u4e0d\u5141\u8bb8\u5b57\u7b26\u4e32\u8f6cint package main import \"fmt\" func main() { a := \"\u4e01\" // \u4e0d\u80fd\u5c06\u5b57\u7b26\u4e32\u8f6c\u4e3aint ret1 := int64(a) fmt.Println(\"ret1>>>\",ret1) // a } \u4f1a\u4e0a\u62a5\u4e0b\u9762\u7684\u9519\u8bef\uff1a cannot convert a (type string) to type int64 2.5 \u5e38\u91cf \u5e38\u91cf\u662f\u4e00\u4e2a\u7b80\u5355\u503c\u7684\u6807\u8bc6\u7b26\uff0c\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\uff0c\u4e0d\u4f1a\u88ab\u4fee\u6539\u3002\u5e38\u91cf\u4e2d\u7684\u6570\u636e\u7c7b\u578b\u53ea\u53ef\u4ee5\u662f\u5e03\u5c14\u578b\u3001\u6570\u5b57\u578b\uff08\u6574\u578b\u3001\u6d6e\u70b9\u578b\u548c\u590d\u6570\u578b\uff09\u548c\u5b57\u7b26\u4e32\u3002\u5e38\u91cf\u7684\u5b9a\u4e49\u683c\u5f0f\u5982\u4e0b\uff1a const A string = \"wanghw\" const B = \"whw\" const C, D = \"www\", \"waa\" \u5e38\u91cf\u5b9a\u4e49\u540e\u672a\u88ab\u4f7f\u7528\uff0c\u4e0d\u4f1a\u5728\u7f16\u8bd1\u65f6\u62a5\u9519\u3002 \u5e38\u91cf\u7528\u4e8e\u679a\u4e3e Go\u8bed\u8a00\u73b0\u9636\u6bb5\u6ca1\u6709\u63d0\u4f9b\u679a\u4e3e\uff0c\u53ef\u4ee5\u4f7f\u7528\u5e38\u91cf\u7ec4\u6a21\u62df\u679a\u4e3e\u3002 \u5047\u8bbe\u6570\u5b570\u30011\u548c2\u5206\u522b\u4ee3\u8868\u672a\u77e5\u6027\u522b\u3001\u5973\u6027\u548c\u7537\u6027\u3002\u683c\u5f0f\u5982\u4f8b\uff1a package main import \"fmt\" const ( Unknown = 0 Female = 1 Male = 2 ) func main(){ fmt.Println(\"ret>>\",Unknown, Female, Male) // \u7ed3\u679c // ret>> 0 1 2 } \u5e38\u91cf\u7ec4\u4e2d\u5982\u679c\u4e0d\u6307\u5b9a\u7c7b\u578b\u548c\u521d\u59cb\u503c\uff0c\u5219\u4e0e\u4e0a\u4e00\u884c\u975e\u7a7a\u5e38\u91cf\u7684\u503c\u76f8\u540c\uff1a package main import \"fmt\" const ( a = 10 b c ) func main(){ fmt.Println(\"ret>>\",a, b, c) // \u7ed3\u679c // ret>> 10 10 10 } iota iota\uff0c\u7279\u6b8a\u5e38\u91cf\u503c\uff0c\u662f\u4e00\u4e2a\u7cfb\u7edf\u5b9a\u4e49\u7684\u53ef\u4ee5\u88ab\u7f16\u8bd1\u5668\u4fee\u6539\u7684\u5e38\u91cf\u503c\u3002 iota\u53ea\u80fd\u88ab\u7528\u5728\u5e38\u91cf\u7684\u8d4b\u503c\u4e2d\uff0c\u5728\u6bcf\u4e00\u4e2aconst\u5173\u952e\u5b57\u51fa\u73b0\u65f6\uff0c\u88ab\u91cd\u7f6e\u4e3a0\uff0c\u7136\u540e\u6bcf\u51fa\u73b0\u4e00\u4e2a\u5e38\u91cf\uff0ciota\u6240\u4ee3\u8868\u7684\u6570\u503c\u4f1a\u81ea\u52a8\u589e\u52a01\u3002 iota\u53ef\u4ee5\u7406\u89e3\u6210\u5e38\u91cf\u7ec4\u4e2d \u5e38\u91cf\u7684\u8ba1\u6570\u5668 \uff0c\u4e0d\u8bba\u8be5\u5e38\u91cf\u7684\u503c\u662f\u4ec0\u4e48\uff0c \u53ea\u8981\u6709\u4e00\u4e2a\u5e38\u91cf\uff0c\u90a3\u4e48iota\u5c31\u52a01 \u3002 package main import \"fmt\" const ( a = 12 b = iota c = iota ) func main(){ fmt.Println(\"ret>>\",a, b, c) // \u7ed3\u679c // ret>> 12 1 2 } \u5e38\u91cf\u7ec4\u4e2d\u5982\u679c\u4e0d\u6307\u5b9a\u7c7b\u578b\u548c\u521d\u59cb\u503c\uff0c\u5219\u4e0e\u4e0a\u4e00\u884c\u975e\u7a7a\u5e38\u91cf\u7684\u503c\u76f8\u540c\uff1a package main import \"fmt\" const ( a = iota b c ) func main(){ fmt.Println(\"ret>>\",a, b, c) // \u7ed3\u679c // ret>> 0 1 2 } 2.6 \u7c7b\u578b\u522b\u540d\u4e0e\u7c7b\u578b\u5b9a\u4e49 \u7c7b\u578b\u522b\u540d\u662fGo1.9\u7248\u672c\u6dfb\u52a0\u7684\u65b0\u529f\u80fd\u3002\u8bf4\u5230\u7c7b\u578b\u522b\u540d\uff0c\u65e0\u975e\u662f\u7ed9\u7c7b\u578b\u540d\u53d6\u4e00\u4e2a\u6709\u7279\u6b8a\u542b\u4e49\u7684\u5916\u53f7\u800c\u5df2\uff0c\u5c31\u50cf\u6b66\u4fa0\u5c0f\u8bf4\u4e2d\u7684\u4e1c\u90aa\u897f\u6bd2\u3002\u5047\u5982\u5728\u6559\u5ba4\u4e2d\uff0c\u6709\u4e24\u4e2a\u540c\u5b66\u53eb\u5f20\u4e09\uff0c\u8001\u5e08\u4e3a\u4e86\u533a\u5206\u4ed6\u4eec\uff0c\u901a\u5e38\u4f1a\u7ed9\u4ed6\u4eec\u8d77\u4e2a\u522b\u540d\uff1a\u5927\u5f20\u4e09\u3001\u5c0f\u5f20\u4e09\u3002\u5bf9\u4e8e\u7f16\u7a0b\u800c\u8a00\uff0c\u7c7b\u578b\u522b\u540d\u4e3b\u8981\u7528\u4e8e\u89e3\u51b3\u517c\u5bb9\u6027\u7684\u95ee\u9898\u3002 \u8be5\u8bed\u53e5\u662f\u5c06NewString\u5b9a\u4e49\u4e3astring\u7c7b\u578b\u3002\u901a\u8fc7type\u5173\u952e\u5b57\uff0cNewString\u4f1a\u5f62\u6210\u4e00\u79cd\u65b0\u7684\u7c7b\u578b\u3002NewString\u672c\u8eab\u4f9d\u7136\u5177\u5907string\u7684\u7279\u6027\u3002 type StringAliaa = string \u8be5\u8bed\u53e5\u662f\u5c06StringAlias\u5b9a\u4e49\u4e3astring\u7684\u4e00\u4e2a\u522b\u540d\u3002\u4f7f\u7528StringAlias\u4e0estring\u7b49\u6548\u3002\u522b\u540d\u7c7b\u578b\u53ea\u4f1a\u5728\u4ee3\u7801\u4e2d\u5b58\u5728\uff0c\u7f16\u8bd1\u5b8c\u6210\u65f6\uff0c\u4e0d\u4f1a\u6709\u522b\u540d\u7c7b\u578b\u3002 \u51fa\u4e8e\u5bf9\u7a0b\u5e8f\u6027\u80fd\u7684\u8003\u8651\uff0c\u5efa\u8bae\u5982\u4e0b\uff1a \u5c3d\u53ef\u80fd\u5730\u4f7f\u7528 := \u53bb\u521d\u59cb\u5316\u58f0\u660e\u4e00\u4e2a\u53d8\u91cf\uff08\u5728\u51fd\u6570\u5185\u90e8\uff09\u3002 \u5c3d\u53ef\u80fd\u5730\u4f7f\u7528\u5b57\u7b26\u4ee3\u66ff\u5b57\u7b26\u4e32\u3002 2.7 Go\u8bed\u8a00\u8fd0\u7b97\u7b26 \u8fd0\u7b97\u7b26\u7528\u4e8e\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\u6267\u884c\u6570\u5b66\u6216\u903b\u8f91\u8fd0\u7b97\u3002 Go\u8bed\u8a00\u5185\u7f6e\u7684\u8fd0\u7b97\u7b26\u5305\u62ec \u7b97\u672f\u8fd0\u7b97\u7b26 \u3001 \u5173\u7cfb\u8fd0\u7b97\u7b26 \u3001 \u903b\u8f91\u8fd0\u7b97\u7b26 \u3001 \u4f4d\u8fd0\u7b97\u7b26 \u3001 \u8d4b\u503c\u8fd0\u7b97\u7b26 \u3001 \u5176\u4ed6\u8fd0\u7b97\u7b26 \u3002 \u903b\u8f91\u8fd0\u7b97\u7b26 Go\u8bed\u8a00\u7684\u903b\u8f91\u8fd0\u7b97\u7b26\u5982\u8868\u6240\u793a\u3002\u5047\u5b9aA\u503c\u4e3aTrue\uff0cB\u503c\u4e3aFalse\u3002 \u4f4d\u8fd0\u7b97\u7b26 \u4f4d\u8fd0\u7b97\u7b26 \u5bf9\u6574\u6570\u5728\u5185\u5b58\u4e2d\u7684\u4e8c\u8fdb\u5236\u4f4d\u8fdb\u884c\u64cd\u4f5c \u3002 \u4f4d\u8fd0\u7b97\u7b26\u6bd4\u4e00\u822c\u7684\u7b97\u672f\u8fd0\u7b97\u7b26\u901f\u5ea6\u8981\u5feb\uff0c\u800c\u4e14\u53ef\u4ee5\u5b9e\u73b0\u4e00\u4e9b\u7b97\u672f\u8fd0\u7b97\u7b26\u4e0d\u80fd\u5b9e\u73b0\u7684\u529f\u80fd\u3002\u5982\u679c\u8981\u5f00\u53d1\u9ad8\u6548\u7387\u7a0b\u5e8f\uff0c\u4f4d\u8fd0\u7b97\u7b26\u662f\u5fc5\u4e0d\u53ef\u5c11\u7684\u3002\u4f4d\u8fd0\u7b97\u7b26\u7528\u6765\u5bf9\u4e8c\u8fdb\u5236\u4f4d\u8fdb\u884c\u64cd\u4f5c\uff0c\u5305\u62ec\uff1a\u6309\u4f4d\u4e0e\uff08\uff06\uff09\u3001\u6309\u4f4d\u6216\uff08|\uff09\u3001\u6309\u4f4d\u5f02\u6216\uff08^\uff09\u3001\u6309\u4f4d\u5de6\u79fb\uff08\uff1c\uff1c\uff09\u3001\u6309\u4f4d\u53f3\u79fb\uff08\uff1e\uff1e\uff09\u3002 Go\u8bed\u8a00\u652f\u6301\u7684\u4f4d\u8fd0\u7b97\u7b26\u5982\u88682.15\u6240\u793a\u3002\u5047\u5b9aA\u4e3a60\uff0cB\u4e3a13\uff1a \uff08\u5176\u4ed6\u7565\uff09 \u5176\u4ed6\u8fd0\u7b97\u7b26 \u8fd0\u7b97\u7b26\u4f18\u5148\u7ea7 \u5f53\u7136\uff0c\u8bfb\u8005\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528\u62ec\u53f7\u6765\u4e34\u65f6\u63d0\u5347\u67d0\u4e2a\u8868\u8fbe\u5f0f\u7684\u6574\u4f53\u8fd0\u7b97\u4f18\u5148\u7ea7\u3002 3 Go\u8bed\u8a00\u7684\u6d41\u7a0b\u63a7\u5236 3.1 \u6d41\u7a0b\u63a7\u5236\u6982\u8ff0 3.2 if\u6761\u4ef6\u5224\u65ad\u8bed\u53e5 \u5148\u5224\u65adif\u7684\u5e03\u5c14\u8868\u8fbe\u5f0f\uff0c\u5982\u679c\u4e3atrue\uff0c\u5176\u540e\u7d27\u8ddf\u7684\u8bed\u53e5\u5757\u6267\u884c\uff0c\u5982\u679c\u4e3afalse\uff0c\u518d\u5224\u65adelse if\u7684\u5e03\u5c14\u8868\u8fbe\u5f0f\uff0c\u5982\u679c\u4e3atrue\uff0c\u5176\u540e\u7d27\u8ddf\u7684\u8bed\u53e5\u5757\u6267\u884c\uff0c\u5982\u679c\u4e3afalse\uff0c\u518d\u5224\u65ad\u4e0b\u4e00\u4e2aelse if\u7684\u5e03\u5c14\u8868\u8fbe\u5f0f\uff0c\u4ee5\u6b64\u7c7b\u63a8\uff0c\u5f53\u6700\u540e\u4e00\u4e2aelse if\u7684\u8868\u8fbe\u5f0f\u4e3afalse\u65f6\uff0c\u6267\u884celse\u8bed\u53e5\u5757\u3002 \u5728if\u8bed\u53e5\u7684\u4f7f\u7528\u8fc7\u7a0b\u4e2d\uff0c\u5e94\u6ce8\u610f\u4ee5\u4e0b\u7ec6\u8282\uff1a \u4e0d\u9700\u4f7f\u7528\u62ec\u53f7\u5c06\u6761\u4ef6\u5305\u542b\u8d77\u6765\u3002 \u5927\u62ec\u53f7{}\u5fc5\u987b\u5b58\u5728\uff0c\u5373\u4f7f\u53ea\u6709\u4e00\u884c\u8bed\u53e5\u3002 \u5de6\u62ec\u53f7\u5fc5\u987b\u5728if\u6216else\u7684\u540c\u4e00\u884c\u3002 \u5728if\u4e4b\u540e\uff0c\u6761\u4ef6\u8bed\u53e5\u4e4b\u524d\uff0c\u53ef\u4ee5\u6dfb\u52a0\u53d8\u91cf\u521d\u59cb\u5316\u8bed\u53e5\uff0c\u4f7f\u7528\u201c;\u201d\u8fdb\u884c\u5206\u9694\u3002 if\u7684\u7279\u6b8a\u5199\u6cd5 if\u8bed\u53e5\u8fd8\u6709\u4e00\u4e2a\u53d8\u4f53\u3002\u5b83\u7684\u8bed\u6cd5\u5982\u4e0b\u6240\u793a\u3002 if statement; condition { // \u4ee3\u7801\u5757 } package main import \"fmt\" func main(){ if num := 10; num %2 == 0{ fmt.Println(\"\u5076\u6570\") } else{ fmt.Println(\"\u5947\u6570\") } } // \u7ed3\u679c // \u5076\u6570 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cnum\u7684\u5b9a\u4e49\u5728if\u91cc\uff0c\u90a3\u4e48\u53ea\u80fd\u591f\u5728\u8be5if...else\u8bed\u53e5\u5757\u4e2d\u4f7f\u7528\uff0c\u5426\u5219\u7f16\u8bd1\u5668\u4f1a\u62a5\u9519\u3002 3.3 if\u5d4c\u5957\u8bed\u53e5 3.4 switch\u8bed\u53e5 switch\u8bed\u53e5\u6267\u884c\u7684\u8fc7\u7a0b\u81ea\u4e0a\u800c\u4e0b\uff0c\u76f4\u5230\u627e\u5230case\u5339\u914d\u9879\uff0c\u5339\u914d\u9879\u4e2d\u65e0\u987b\u4f7f\u7528break\uff0c\u56e0\u4e3aGo\u8bed\u8a00\u4e2d\u7684switch\u9ed8\u8ba4\u7ed9\u6bcf\u4e2acase\u81ea\u5e26break\u3002\u56e0\u6b64\u5339\u914d\u6210\u529f\u540e\u4e0d\u4f1a\u5411\u4e0b\u6267\u884c\u5176\u4ed6\u7684 case \u5206\u652f\uff0c\u800c\u662f\u8df3\u51fa\u6574\u4e2a switch\u3002\u53ef\u4ee5\u6dfb\u52a0fallthrough\uff08\u4e2d\u6587\u542b\u4e49\u662f\uff1a\u8d2f\u7a7f\uff09\uff0c\u5f3a\u5236\u6267\u884c\u540e\u9762\u7684case\u5206\u652f\u3002fallthrough\u5fc5\u987b\u653e\u5728case\u5206\u652f\u7684\u6700\u540e\u4e00\u884c\u3002\u5982\u679c\u5b83\u51fa\u73b0\u5728\u4e2d\u95f4\u7684\u67d0\u4e2a\u5730\u65b9\uff0c\u7f16\u8bd1\u5668\u5c31\u4f1a\u62a5\u9519\u3002\u53d8\u91cfvar1\u53ef\u4ee5\u662f\u4efb\u4f55\u7c7b\u578b\uff0c\u800cval1\u548cval2\u5219\u53ef\u4ee5\u662f\u540c\u7c7b\u578b\u7684\u4efb\u610f\u503c\u3002\u7c7b\u578b\u4e0d\u5c40\u9650\u4e8e\u5e38\u91cf\u6216\u6574\u6570\uff0c\u4f46\u5fc5\u987b\u662f\u76f8\u540c\u7c7b\u578b\u6216\u6700\u7ec8\u7ed3\u679c\u4e3a\u76f8\u540c\u7c7b\u578b\u7684\u8868\u8fbe\u5f0f\u3002case\u540e\u7684\u503c\u4e0d\u80fd\u91cd\u590d\uff0c\u4f46\u53ef\u4ee5\u540c\u65f6\u6d4b\u8bd5\u591a\u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u503c\uff0c\u4e5f\u5c31\u662f\u8bf4case\u540e\u53ef\u4ee5\u6709\u591a\u4e2a\u503c\uff0c\u8fd9\u4e9b\u503c\u4e4b\u95f4\u4f7f\u7528\u9017\u53f7\u5206\u9694\uff0c\u4f8b\u5982\uff1acase val1, val2, val3\u3002switch\u540e\u7684\u8868\u8fbe\u5f0f\u53ef\u4ee5\u7701\u7565\uff0c\u9ed8\u8ba4\u662fswitch true\u3002 \u793a\u4f8b \u63a5\u4e0b\u6765\u518d\u770b\u4e00\u4e2a\u6848\u4f8b\uff0c\u5224\u65ad\u67d0\u5e74\u67d0\u6708\u7684\u5929\u6570 \u7c7b\u578b\u8f6c\u6362 switch\u8bed\u53e5\u8fd8\u53ef\u4ee5\u88ab\u7528\u4e8etype switch\uff08\u7c7b\u578b\u8f6c\u6362\uff09\u6765\u5224\u65ad\u67d0\u4e2ainterface\u53d8\u91cf\u4e2d\u5b9e\u9645\u5b58\u50a8\u7684\u53d8\u91cf\u7c7b\u578b\u3002\u5173\u4e8einterface\u53d8\u91cf\u7684\u77e5\u8bc6\u5c06\u5728\u540e\u7eed\u7684\u7ae0\u8282\u4e2d\u4ecb\u7ecd\u3002\u4e0b\u9762\u6f14\u793atype switch\u7684\u8bed\u6cd5\u3002\u5176\u8bed\u6cd5\u7ed3\u6784\u5982\u4e0b\u6240\u793a\u3002 3.5 for\u5faa\u73af\u8bed\u53e5 \u5faa\u73af\u8bed\u53e5\u8868\u793a\u5f53\u6761\u4ef6\u6ee1\u8db3\u65f6\uff0c\u53ef\u4ee5\u53cd\u590d\u5730\u6267\u884c\u67d0\u6bb5\u4ee3\u7801\u3002 for\u662fGo\u8bed\u8a00\u4e2d\u552f\u4e00\u7684\u5faa\u73af\u8bed\u53e5\uff0cGo\u6ca1\u6709while\u3001do...while\u5faa\u73af\u3002 \u6309\u8bed\u6cd5\u7ed3\u6784\u6765\u5206\uff0cGo\u8bed\u8a00\u7684for\u5faa\u73af\u67094\u79cd\u5f62\u5f0f\uff0c\u53ea\u6709\u7b2c\u4e00\u79cd\u4f7f\u7528\u5206\u53f7\u3002 for\u5faa\u73af\u4e2dfor\u5173\u952e\u5b57\u540e\u4e0d\u80fd\u52a0\u5c0f\u62ec\u53f7\u3002 \u8bed\u6cd5\u7ed3\u6784\u4e00 for \u521d\u59cb\u9884\u8ba1init; \u6761\u4ef6\u8868\u8fbe\u5f0fcondition; \u7ed3\u675f\u8bed\u53e5post { // \u5faa\u73af\u4f53\u4ee3\u7801 } \u5148\u6267\u884c\u521d\u59cb\u8bed\u53e5\uff0c\u5bf9\u63a7\u5236\u53d8\u91cf\u8d4b\u521d\u59cb\u503c\u3002\u521d\u59cb\u8bed\u53e5\u53ea\u6267\u884c\u4e00\u6b21\u3002 \u5176\u6b21\u6839\u636e\u63a7\u5236\u53d8\u91cf\u5224\u65ad\u6761\u4ef6\u8868\u8fbe\u5f0f\u7684\u8fd4\u56de\u503c\uff0c\u82e5\u5176\u503c\u4e3atrue\uff0c\u6ee1\u8db3\u5faa\u73af\u6761\u4ef6\uff0c\u5219\u6267\u884c\u5faa\u73af\u4f53\u5185\u8bed\u53e5\uff0c\u4e4b\u540e\u6267\u884c\u7ed3\u675f\u8bed\u53e5\uff0c\u5f00\u59cb\u4e0b\u4e00\u6b21\u5faa\u73af\u3002 \u6267\u884c\u7ed3\u675f\u8bed\u53e5\u4e4b\u540e\uff0c\u5c06\u91cd\u65b0\u8ba1\u7b97\u6761\u4ef6\u8868\u8fbe\u5f0f\u7684\u8fd4\u56de\u503c\uff0c\u5982\u679c\u662ftrue\uff0c\u5faa\u73af\u5c06\u7ee7\u7eed\u6267\u884c\uff0c\u5426\u5219\u5faa\u73af\u7ec8\u6b62\u3002\u7136\u540e\u6267\u884c\u5faa\u73af\u4f53\u5916\u8bed\u53e5\u3002 package main import \"fmt\" func main(){ for i:=0; i<10; i++{ fmt.Printf(\"%d \", i) } } //0 1 2 3 4 5 6 7 8 9 \u521d\u59cb\u8bed\u53e5\u3001\u6761\u4ef6\u8868\u8fbe\u5f0f\u548c\u7ed3\u675f\u8bed\u53e53\u79cd\u7ec4\u6210\u90e8\u5206\u90fd\u662f\u53ef\u9009\u7684\u3002\u56e0\u6b64\u8fd9\u79cd\u57fa\u672c\u7684for\u5faa\u73af\u8bed\u6cd5\u7ed3\u6784\u53c8\u80fd\u6f14\u5316\u51fa4\u79cd\u7565\u6709\u4e0d\u540c\u7684\u5199\u6cd5\u3002 \u521d\u59cb\u8bed\u53e5\u662f\u5728\u7b2c\u4e00\u6b21\u5faa\u73af\u524d\u6267\u884c\u7684\u8bed\u53e5\uff0c\u4e00\u822c\u4e3a\u8d4b\u503c\u8868\u8fbe\u5f0f\uff0c\u7ed9\u63a7\u5236\u53d8\u91cf\u8d4b\u521d\u59cb\u503c\u3002\u5982\u679c\u63a7\u5236\u53d8\u91cf\u5728\u6b64\u5904\u88ab\u58f0\u660e\uff0c\u5176\u4f5c\u7528\u57df\u5c06\u88ab\u5c40\u9650\u5728\u8fd9\u4e2afor\u7684\u8303\u56f4\u5185\u2014\u2014\u5728for\u5faa\u73af\u4e2d\u58f0\u660e\u7684\u53d8\u91cf\u4ec5\u5728\u5faa\u73af\u8303\u56f4\u5185\u53ef\u7528\u3002\u521d\u59cb\u8bed\u53e5\u53ef\u4ee5\u7701\u7565\u4e0d\u5199\uff0c\u4f46\u662f\u521d\u59cb\u8bed\u53e5\u4e4b\u540e\u7684\u5206\u53f7\u5fc5\u987b\u8981\u5199\u3002 \u7701\u7565\u521d\u59cb\u8bed\u53e5\u7684\u5199\u6cd5\uff1a package main import \"fmt\" func main(){ a := 3 for ; a<5; a++{ fmt.Printf(\"%d \", a) } } //3 4 \u6761\u4ef6\u8868\u8fbe\u5f0f\uff08condition\uff09\u662f\u63a7\u5236\u5faa\u73af\u4e0e\u5426\u7684\u5f00\u5173\uff1a\u5982\u679c\u8868\u8fbe\u5f0f\u4e3atrue\uff0c\u5219\u5faa\u73af\u7ee7\u7eed\uff1b\u5426\u5219\u7ed3\u675f\u5faa\u73af\u3002\u6761\u4ef6\u8868\u8fbe\u5f0f\u53ef\u4ee5\u7701\u7565\u4e0d\u5199\uff0c\u4e4b\u540e\u7684\u5206\u53f7\u5fc5\u987b\u8981\u5199\u3002\u7701\u7565\u6761\u4ef6\u8868\u8fbe\u5f0f\u9ed8\u8ba4\u5f62\u6210\u65e0\u9650\u5faa\u73af\u3002 \u7701\u7565\u6761\u4ef6\u8868\u8fbe\u5f0f\u7684\u5199\u6cd5\uff1a package main import \"fmt\" func main(){ a := 3 for ; ; a++ { if a > 5 { fmt.Printf(\"%d \", a) break } } } //6 \u7ed3\u675f\u8bed\u53e5\uff08post\uff09\uff0c\u4e00\u822c\u4e3a\u8d4b\u503c\u8868\u8fbe\u5f0f\uff0c\u4f7f\u63a7\u5236\u53d8\u91cf\u9012\u589e\u6216\u8005\u9012\u51cf\u3002post\u8bed\u53e5\u5c06\u5728\u5faa\u73af\u7684\u6bcf\u6b21\u6210\u529f\u8fed\u4ee3\u4e4b\u540e\u6267\u884c\u3002 \u8bed\u6cd5\u7ed3\u6784\u4e8c for\u5173\u952e\u5b57\u540e\u53ea\u67091\u4e2a\u6761\u4ef6\u8868\u8fbe\u5f0f\uff0c\u6548\u679c\u7c7b\u4f3c\u5176\u4ed6\u7f16\u7a0b\u8bed\u8a00\u4e2d\u7684while\u5faa\u73af\u3002\u5176\u8bed\u6cd5\u7ed3\u6784\u5982\u4e0b\u6240\u793a\u3002 for \u5faa\u73af\u6761\u4ef6condition{ // \u5faa\u73af\u4f53\u4ee3\u7801 } package main import \"fmt\" func main(){ var a int for a<10{ fmt.Print(a) a ++ } } //0123456789 \u8bed\u6cd5\u7ed3\u6784\u4e09 for\u5173\u952e\u5b57\u540e\u65e0\u8868\u8fbe\u5f0f\uff0c\u6548\u679c\u4e0e\u5176\u4ed6\u7f16\u7a0b\u8bed\u8a00\u7684for(;;) {}\u4e00\u81f4\uff0c\u6b64\u65f6for\u6267\u884c\u65e0\u9650\u5faa\u73af\u3002\u5176\u8bed\u6cd5\u7ed3\u6784\u5982\u4e0b\u6240\u793a\u3002 for { // \u5faa\u73af\u4f53\u4ee3\u7801 } package main import \"fmt\" func main() { var a int for { if a > 5 { break } fmt.Print(a) a++ } } //012345 \u8bed\u6cd5\u5f62\u5f0f\u56db\uff08for ... range\uff09 for\u5faa\u73af\u7684range\u683c\u5f0f\u5bf9string\u3001slice\u3001array\u3001map\u3001channel\u7b49\u8fdb\u884c\u8fed\u4ee3\u5faa\u73af\u3002 array\u3001slice\u3001string\u8fd4\u56de\u7d22\u5f15\u548c\u503c\uff1bmap\u8fd4\u56de\u952e\u548c\u503c\uff1bchannel\u53ea\u8fd4\u56de\u901a\u9053\u5185\u7684\u503c\u3002 \u5176\u8bed\u6cd5\u7ed3\u6784\u5982\u4e0b\u6240\u793a: for key, value := range oldMap{ newMap[key] = value } package main import \"fmt\" func main() { str := \"123abC\u706b\u5f71\u738b\" for i, value := range str{ fmt.Printf(\"\u7b2c %d \u4f4d\u7684ASCII\u503c=%d\uff0c\u5b57\u7b26\u662f%c \\n\",i, value, value) } } /* \u7b2c 0 \u4f4d\u7684ASCII\u503c=49\uff0c\u5b57\u7b26\u662f1 \u7b2c 1 \u4f4d\u7684ASCII\u503c=50\uff0c\u5b57\u7b26\u662f2 \u7b2c 2 \u4f4d\u7684ASCII\u503c=51\uff0c\u5b57\u7b26\u662f3 \u7b2c 3 \u4f4d\u7684ASCII\u503c=97\uff0c\u5b57\u7b26\u662fa \u7b2c 4 \u4f4d\u7684ASCII\u503c=98\uff0c\u5b57\u7b26\u662fb \u7b2c 5 \u4f4d\u7684ASCII\u503c=67\uff0c\u5b57\u7b26\u662fC \u7b2c 6 \u4f4d\u7684ASCII\u503c=28779\uff0c\u5b57\u7b26\u662f\u706b \u7b2c 9 \u4f4d\u7684ASCII\u503c=24433\uff0c\u5b57\u7b26\u662f\u5f71 \u7b2c 12 \u4f4d\u7684ASCII\u503c=29579\uff0c\u5b57\u7b26\u662f\u738b */ for\u5faa\u73af\u4f7f\u7528\u6848\u4f8b \u6c421\uff5e100\u7684\u548c package main import \"fmt\" func main() { sum := 0 for i:=1; i<=100; i++{ sum += i } fmt.Print(\"sum>>>\",sum) } //5050 \u6c421\uff5e30\u6240\u67093\u7684\u500d\u6570\u7684\u6570\u5b57\u7684\u548c package main import \"fmt\" func main() { i := 1 sum := 0 //\u6b7b\u5faa\u73af for { if i>30{ break } if i%3 == 0{ sum += i fmt.Printf(\"%d\",i) if i<30{ fmt.Print(\"+\") }else{ fmt.Printf(\" = %d \\n\",sum) } } i++ } } //3+6+9+12+15+18+21+24+27+30 = 165 \u622a\u7af9\u7aff\u95ee\u9898 \u622a\u7af9\u7aff\u300232\u7c73\u7af9\u7aff\uff0c\u6bcf\u6b21\u622a1.5\u7c73\uff0c\u81f3\u5c11\u622a\u51e0\u6b21\u4e4b\u540e\u5269\u4f59\u7af9\u7aff\u4e0d\u8db34\u7c73\uff1f package main import \"fmt\" func main() { var length float32 length = 32 i := 0 for length > 4 { length -= 1.5 i += 1 } fmt.Printf(\"\u4e00\u5171\u622a\u4e86 %d \u6b21\", i) } //\u4e00\u5171\u622a\u4e86 19 \u6b21 3.6 for\u5faa\u73af\u5d4c\u5957 \u8bed\u6cd5\u7ed3\u6784 Go\u8bed\u8a00\u5141\u8bb8\u5728\u5faa\u73af\u4f53\u5185\u4f7f\u7528\u5faa\u73af\u3002\u5176\u8bed\u6cd5\u7ed3\u6784\u5982\u4e0b\u6240\u793a\uff1a for [condition | (init;condition;increment) | Range] { for [condition | (init;condition;increment) | Range] { statement(s); } statement(s); } \u4f7f\u7528\u6848\u4f8b \u6253\u5370\u76f4\u89d2\u4e09\u89d2\u5f62 package main import \"fmt\" func main() { // \u5b9a\u4e49\u884c\u6570 lines := 5 for i:=0;i<lines;i++{ for n:=0;n<2*i+1;n++{ fmt.Print(\"# \") } fmt.Print(\"\\n\") } } /* # # # # # # # # # # # # # # # # # # # # # # # # # */ \u6253\u537099\u4e58\u6cd5\u8868 package main import \"fmt\" func main() { for i:=1;i<=9;i++{ // i\u63a7\u5236\u884c\u6570\uff0c\u662f\u4e58\u6cd5\u8868\u4e2d\u7684\u7b2c\u4e8c\u4e2a\u6570 for j:=1;j<=i;j++{ //j\u63a7\u5236\u5217\u6570\uff0c\u662f\u4e58\u6cd5\u8868\u4e2d\u7684\u7b2c\u4e00\u4e2a\u6570 fmt.Printf(\"%d*%d=%d \",j,i,i*j) } fmt.Println() } } /* 1*1=1 1*2=2 2*2=4 1*3=3 2*3=6 3*3=9 1*4=4 2*4=8 3*4=12 4*4=16 1*5=5 2*5=10 3*5=15 4*5=20 5*5=25 1*6=6 2*6=12 3*6=18 4*6=24 5*6=30 6*6=36 1*7=7 2*7=14 3*7=21 4*7=28 5*7=35 6*7=42 7*7=49 1*8=8 2*8=16 3*8=24 4*8=32 5*8=40 6*8=48 7*8=56 8*8=64 1*9=9 2*9=18 3*9=27 4*9=36 5*9=45 6*9=54 7*9=63 8*9=72 9*9=81 */ \u4f7f\u7528\u5faa\u73af\u5d4c\u5957\u6765\u8f93\u51fa1\uff5e50\u4e2d\u7684\u7d20\u6570 package main import \"fmt\" func main() { fmt.Println(\"1-50\u4e2d\u7684\u7d20\u6570\uff1a\") // \u5b9a\u4e49\u5c40\u90e8\u53d8\u91cf var a, b int for a=2;a<=50;a++{ for b=2;b<=(a/b);b++{ if a%b == 0{ // \u5982\u679c\u53d1\u73b0\u56e0\u5b50\uff0c\u5219\u4e0d\u662f\u7d20\u6570 break } } if b>(a/b){ fmt.Printf(\"%d \",a) } } } /* 1-50\u4e2d\u7684\u7d20\u6570\uff1a 2 3 5 7 11 13 17 19 23 29 31 37 41 43 47 */ 3.7 \u5faa\u73af\u63a7\u5236\u8bed\u53e5 break\u8bed\u53e5 break\uff0c\u8df3\u51fa\u5faa\u73af\u4f53\u3002break\u8bed\u53e5\u7528\u4e8e\u7ec8\u6b62\u5f53\u524d\u6b63\u5728\u6267\u884c\u7684for\u5faa\u73af\uff0c\u5e76\u5f00\u59cb\u6267\u884c\u5faa\u73af\u4e4b\u540e\u7684\u8bed\u53e5\u3002 package main import \"fmt\" func main() { for i:=1;i<100;i++{ if i>5{ break } fmt.Printf(\"%d \",i) } //\u5faa\u73af\u4f53\u5916\u90e8\u7684\u4ee3\u7801 fmt.Println() fmt.Println(\"newline after for loop\") } /* 1 2 3 4 5 newline after for loop */ continue\u8bed\u53e5 Go\u8bed\u8a00\u7684continue\u8bed\u53e5\u6709\u70b9\u50cfbreak\u8bed\u53e5\u3002\u4f46\u662fcontinue\u4e0d\u662f\u8df3\u51fa\u5faa\u73af\uff0c\u800c\u662f\u8df3\u8fc7\u5f53\u524d\u5faa\u73af\uff0c\u6267\u884c\u4e0b\u4e00\u6b21\u5faa\u73af\u8bed\u53e5\u3002 for\u5faa\u73af\u4e2d\uff0c\u6267\u884ccontinue\u8bed\u53e5\u4f1a\u89e6\u53d1for\u589e\u91cf\u8bed\u53e5\u7684\u6267\u884c\u3002 \u6362\u8a00\u4e4b\uff0ccontinue\u8bed\u53e5\u7528\u4e8e\u8df3\u8fc7for\u5faa\u73af\u7684\u5f53\u524d\u8fed\u4ee3\uff0c\u5faa\u73af\u5c06\u7ee7\u7eed\u5230\u4e0b\u4e00\u4e2a\u8fed\u4ee3\u3002 package main import \"fmt\" func main() { //\u6253\u53701-10\u4e2d\u7684\u5076\u6570 for i:=1;i<=10;i++{ if i%2==1{ continue } fmt.Printf(\"%d \",i) } } /* 2 4 6 8 10 */ break\u4e0econtinue\u7684\u533a\u522b\u5982\u4e0b: break\u8bed\u53e5\u65e0\u6761\u4ef6\u8df3\u51fa\u5e76\u7ed3\u675f\u5f53\u524d\u7684\u5faa\u73af\uff0c\u7136\u540e\u6267\u884c\u5faa\u73af\u4f53\u540e\u7684\u8bed\u53e5\u3002 continue\u8bed\u53e5\u8df3\u8fc7\u5f53\u524d\u7684\u5faa\u73af\uff0c\u800c\u5f00\u59cb\u6267\u884c\u4e0b\u4e00\u6b21\u5faa\u73af\u3002 goto\u8bed\u53e5 Go\u8bed\u8a00\u7684goto\u8bed\u53e5\u53ef\u4ee5\u65e0\u6761\u4ef6\u5730\u8f6c\u79fb\u5230\u7a0b\u5e8f\u6307\u5b9a\u7684\u884c\u3002 goto\u8bed\u53e5\u901a\u5e38\u4e0e\u6761\u4ef6\u8bed\u53e5\u914d\u5408\u4f7f\u7528\u3002\u53ef\u7528\u6765\u5b9e\u73b0\u6761\u4ef6\u8f6c\u79fb\u3001\u6784\u6210\u5faa\u73af\u3001\u8df3\u51fa\u5faa\u73af\u4f53\u7b49\u529f\u80fd\u3002 \u4f46\u662f\uff0c\u5728\u7ed3\u6784\u5316\u7a0b\u5e8f\u8bbe\u8ba1\u4e2d\u4e00\u822c\u4e0d\u5efa\u8bae\u4f7f\u7528goto\u8bed\u53e5\uff0c\u4ee5\u514d\u9020\u6210\u7a0b\u5e8f\u6d41\u7a0b\u7684\u6df7\u4e71\uff0c\u4f7f\u7406\u89e3\u548c\u8c03\u8bd5\u7a0b\u5e8f\u90fd\u4ea7\u751f\u56f0\u96be\u3002 package main import \"fmt\" func main() { var C, c int // \u8fd9\u91cc\u4e0d\u5199\u5165for\u5faa\u73af\u662f\u56e0\u4e3afor\u8bed\u53e5\u6267\u884c\u4e4b\u521d\u4f1a\u5c06C\u7684\u503c\u53d8\u4e3a1\uff0c // \u5f53goto A\u65f6\uff0cfor\u8bed\u53e5\u4f1a\u91cd\u65b0\u6267\u884c\uff08\u4e0d\u662f\u91cd\u65b0\u4e00\u8f6e\u5faa\u73af\uff09 C = 1 LOOP: for C < 50{ C++ // C=1 \u4e0d\u80fd\u5199\u5165for\u8fd9\u91cc\u5c31\u4e0d\u80fd\u5199\u5165 for c=2;c<C;c++{ if C%c == 0{ goto LOOP // \u82e5\u53d1\u73b0\u56e0\u5b50\u5219\u4e0d\u662f\u7d20\u6570 } } fmt.Printf(\"%d \",C) } } /* 2 3 5 7 11 13 17 19 23 29 31 37 41 43 47 */","title":"01 \u57fa\u7840\u77e5\u8bc6\u5230\u5faa\u73af"},{"location":"%E5%9F%BA%E7%A1%80/1/#_1","text":"","title":"\u5360\u4f4d"},{"location":"%E5%9F%BA%E7%A1%80/1/#1","text":"Go\u8bed\u8a00\u57fa\u672c\u7ed3\u6784\u53ca\u8bf4\u660e package main import ( \"fmt\" \"runtime\" ) func main() { fmt.Println(\"hello world\") // \u67e5\u770b\u7248\u672c fmt.Println(runtime.Version()) } func main()\u662f\u7a0b\u5e8f\u5165\u53e3\u3002\u6240\u6709Go\u51fd\u6570\u4ee5\u5173\u952e\u5b57func\u5f00\u5934\uff0c\u6bcf\u4e00\u4e2a\u53ef\u6267\u884c\u7a0b\u5e8f\u90fd\u5fc5\u987b\u5305\u542bmain()\u51fd\u6570\uff0c\u901a\u5e38\u662f\u7a0b\u5e8f\u542f\u52a8\u540e\u7b2c\u4e00\u4e2a\u6267\u884c\u7684\u51fd\u6570\uff0c\u5982\u679c\u6709init()\u51fd\u6570\u5219\u4f1a\u5148\u6267\u884cinit()\u51fd\u6570\u3002 \u9664\u6b64\u4e4b\u5916\uff0c\u8fd8\u6709\u4ee5\u4e0b\u51e0\u70b9\u503c\u5f97\u6ce8\u610f\u3002 \uff081\uff09\u53ea\u6709package\u540d\u79f0\u4e3amain\u7684\u5305\u53ef\u4ee5\u5305\u542bmain()\u51fd\u6570\u3002 \uff082\uff09\u4e00\u4e2a\u53ef\u6267\u884c\u7a0b\u5e8f\u6709\u4e14\u4ec5\u6709\u4e00\u4e2amain\u5305\u3002 \uff083\uff09\u901a\u8fc7import\u5173\u952e\u5b57\u6765\u5bfc\u5165\u5176\u4ed6\u975emain\u5305\u3002 \uff084\uff09\u53ef\u4ee5\u901a\u8fc7import\u5173\u952e\u5b57\u5355\u4e2a\u5bfc\u5165\uff0c\u4e5f\u53ef\u4ee5\u540c\u65f6\u5bfc\u5165\u591a\u4e2a\u3002","title":"1 \u57fa\u7840\u90e8\u5206"},{"location":"%E5%9F%BA%E7%A1%80/1/#2","text":"","title":"2 \u57fa\u672c\u8bed\u6cd5"},{"location":"%E5%9F%BA%E7%A1%80/1/#21","text":"\u53d8\u91cf\u7684\u672c\u8d28\u662f\u8ba1\u7b97\u673a\u5206\u914d\u7684\u4e00\u5c0f\u5757\u5185\u5b58\uff0c\u4e13\u95e8\u7528\u4e8e\u5b58\u653e\u6307\u5b9a\u6570\u636e\uff0c\u5728\u7a0b\u5e8f\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u8be5\u6570\u503c\u53ef\u4ee5\u53d1\u751f\u6539\u53d8\uff1b\u53d8\u91cf\u7684\u5b58\u50a8\u5f80\u5f80\u5177\u6709\u77ac\u65f6\u6027\uff0c\u6216\u8005\u8bf4\u662f\u4e34\u65f6\u5b58\u50a8\uff0c\u5f53\u7a0b\u5e8f\u8fd0\u884c\u7ed3\u675f\uff0c\u5b58\u653e\u8be5\u6570\u636e\u7684\u5185\u5b58\u5c31\u4f1a\u91ca\u653e\uff0c\u8be5\u53d8\u91cf\u5c31\u4f1a\u968f\u7740\u5185\u5b58\u7684\u91ca\u653e\u800c\u6d88\u5931\u3002\u5c31\u50cf\u65e5\u5e38\u751f\u6d3b\u4e2d\u5b58\u653e\u6c34\u7684\u6c34\u676f\uff0c\u5f53\u6c34\u676f\u635f\u574f\u7684\u65f6\u5019\uff0c\u88c5\u5728\u91cc\u9762\u7684\u6c34\u4e5f\u4f1a\u6d41\u5931\u6389\u3002 \u53d8\u91cf\u53c8\u5206\u4e3a\u5c40\u90e8\u53d8\u91cf\u548c\u5168\u5c40\u53d8\u91cf\u3002 \u5c40\u90e8\u53d8\u91cf\uff0c\u662f\u5b9a\u4e49\u5728\u5927\u62ec\u53f7\uff08{}\uff09\u5185\u90e8\u7684\u53d8\u91cf\uff0c\u5927\u62ec\u53f7\u7684\u5185\u90e8\u4e5f\u662f\u5c40\u90e8\u53d8\u91cf\u7684\u4f5c\u7528\u57df\u3002 \u5168\u5c40\u53d8\u91cf\uff0c\u662f\u5b9a\u4e49\u5728\u51fd\u6570\u548c\u5927\u62ec\u53f7\uff08{}\uff09\u5916\u90e8\u7684\u53d8\u91cf\u3002 Go \u8bed\u8a00\u7684\u53d8\u91cf\u540d\u7531\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u4e0b\u753b\u7ebf\u7ec4\u6210\uff0c\u9996\u4e2a\u5b57\u7b26\u4e0d\u80fd\u4e3a\u6570\u5b57\uff1b Go \u8bed\u6cd5\u89c4\u5b9a\uff0c\u5b9a\u4e49\u7684\u5c40\u90e8\u53d8\u91cf\u82e5\u6ca1\u6709\u88ab\u8c03\u7528\u4f1a\u53d1\u751f\u7f16\u8bd1\u9519\u8bef\u3002 \u53d8\u91cf\u58f0\u660e \u672a\u521d\u59cb\u5316\u53d8\u91cf\u7684\u9ed8\u8ba4\u503c\u6709\u5982\u4e0b\u7279\u70b9\uff1a \u6574\u578b\u548c\u6d6e\u70b9\u578b\u53d8\u91cf\u9ed8\u8ba4\u503c\uff1a0\u3002 \u5b57\u7b26\u4e32\u9ed8\u8ba4\u503c\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002 \u5e03\u5c14\u578b\u9ed8\u8ba4\u503c\u4e3afalse\u3002 \u51fd\u6570\u3001\u6307\u9488\u53d8\u91cf\u3001\u5207\u7247\u9ed8\u8ba4\u503c\u4e3anil\u3002 \u521d\u59cb\u5316\u53d8\u91cf\u7684\u6807\u51c6\u683c\u5f0f\u5982\u4e0b\uff1a var a int = 199 //\u521d\u59cb\u5316\u53d8\u91cf\u7684\u6807\u51c6\u683c\u5f0f var b = 100 //\u521d\u59cb\u5316\u53d8\u91cf\u7684\u7f16\u8bd1\u5668\u81ea\u52a8\u63a8\u65ad\u7c7b\u578b\u683c\u5f0f c := 123 //\u521d\u59cb\u5316\u53d8\u91cf\u7684\u7b80\u77ed\u58f0\u660e\u683c\u5f0f \u4f7f\u7528 := \u8d4b\u503c\u64cd\u4f5c\u7b26\u53ef\u4ee5\u9ad8\u6548\u5730\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u53d8\u91cf\uff0c\u79f0\u4e3a\u521d\u59cb\u5316\u58f0\u660e\u3002\u58f0\u660e\u8bed\u53e5\u7701\u7565\u4e86 var \u5173\u952e\u5b57\uff0c\u53d8\u91cf\u7c7b\u578b\u5c06\u7531\u7f16\u8bd1\u5668\u81ea\u52a8\u63a8\u65ad\u3002\u8fd9\u662f\u58f0\u660e\u53d8\u91cf\u7684\u9996\u9009\u5f62\u5f0f\uff0c\u4f46\u662f\u5b83\u53ea\u80fd\u88ab\u7528\u5728\u51fd\u6570\u4f53\u5185\uff0c\u800c\u4e0d\u53ef\u4ee5\u7528\u4e8e\u5168\u5c40\u53d8\u91cf\u7684\u58f0\u660e\u4e0e\u8d4b\u503c\u3002\u8be5\u53d8\u91cf\u540d\u5fc5\u987b\u662f\u6ca1\u6709\u5b9a\u4e49\u8fc7\u7684\u53d8\u91cf\uff0c\u82e5\u5b9a\u4e49\u8fc7\uff0c\u5c06\u53d1\u751f\u7f16\u8bd1\u9519\u8bef\u3002 package main func main(){ // \u8fd9\u6837\u5199\u662f\u9519\u8bef\u7684 var a = 123 a := 222 } ./variable.go:7:4: no new variables on left side of := \u591a\u4e2a\u77ed\u53d8\u91cf\u58f0\u660e\u548c\u8d4b\u503c\u4e2d\uff0c\u81f3\u5c11\u6709\u4e00\u4e2a\u65b0\u58f0\u660e\u7684\u53d8\u91cf\u51fa\u73b0\u5728\u5de6\u4fa7\uff0c\u90a3\u4e48\u5373\u4fbf\u5176\u4ed6\u53d8\u91cf\u540d\u53ef\u80fd\u662f\u91cd\u590d\u58f0\u660e\u7684\uff0c\u7f16\u8bd1\u5668\u4e5f\u4e0d\u4f1a\u62a5\u9519\u3002\u60c5\u51b5\u5982\u4e0b\u6240\u793a\uff1a package main import \"fmt\" func main(){ // \u8fd9\u79cd\u60c5\u51b5\u4e0d\u4f1a\u62a5\u9519 var a = 666 a, b := 1,2 fmt.Println(\"a>>>\",a) // 1 fmt.Println(\"n>>>\",b) // 2 } \u867d\u7136\u8fd9\u79cd\u65b9\u6cd5\u4e0d\u4f1a\u62a5\u9519\uff0c\u4f46\u662f\u5728\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u5e94\u5c3d\u91cf\u907f\u514d\u3002 \u53d8\u91cf\u591a\u91cd\u8d4b\u503c \u53d8\u91cf\u591a\u91cd\u8d4b\u503c\u662f\u6307\u591a\u4e2a\u53d8\u91cf\u540c\u65f6\u8d4b\u503c\u3002 Go\u8bed\u6cd5\u4e2d\uff0c\u53d8\u91cf\u521d\u59cb\u5316\u548c\u53d8\u91cf\u8d4b\u503c\u662f\u4e24\u4e2a\u4e0d\u540c\u7684\u6982\u5ff5\u3002Go\u8bed\u8a00\u7684\u53d8\u91cf\u8d4b\u503c\u4e0e\u5176\u4ed6\u8bed\u8a00\u4e00\u6837\uff0c\u4f46\u662fGo\u63d0\u4f9b\u4e86\u5176\u4ed6\u7a0b\u5e8f\u5458\u671f\u5f85\u5df2\u4e45\u7684\u591a\u91cd\u8d4b\u503c\u529f\u80fd\uff0c\u53ef\u4ee5\u5b9e\u73b0\u53d8\u91cf\u4ea4\u6362\u3002\u591a\u91cd\u8d4b\u503c\u8ba9Go\u8bed\u8a00\u6bd4\u5176\u4ed6\u8bed\u8a00\u51cf\u5c11\u4e86\u4ee3\u7801\u91cf\u3002 go\u8bed\u8a00\u4e2d\u4f7f\u7528\u591a\u91cd\u8d4b\u503c\u8fdb\u884c\u53d8\u91cf\u4ea4\u6362\u7684\u4f8b\u5b50\uff1a package main import \"fmt\" func main(){ var a = 666 a, b := 111,222 // \u53d8\u91cf\u4ea4\u6362 b, a = a, b fmt.Println(\"a>>>\",a) // 222 fmt.Println(\"n>>>\",b) // 111 } \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u591a\u91cd\u8d4b\u503c\u65f6\uff0c\u5de6\u503c\u548c\u53f3\u503c\u6309\u7167\u4ece\u5de6\u5230\u53f3\u7684\u987a\u5e8f\u8d4b\u503c\u3002\u8fd9\u79cd\u65b9\u6cd5\u5728\u9519\u8bef\u5904\u7406\u548c\u51fd\u6570\u5f53\u4e2d\u4f1a\u5927\u91cf\u4f7f\u7528\u3002 \u533f\u540d\u53d8\u91cf Go\u8bed\u8a00\u7684\u51fd\u6570\u53ef\u4ee5\u8fd4\u56de\u591a\u4e2a\u503c\uff0c\u800c \u4e8b\u5b9e\u4e0a\u5e76\u4e0d\u662f\u6240\u6709\u7684\u8fd4\u56de\u503c\u90fd\u7528\u5f97\u4e0a \u3002\u90a3\u4e48\u5c31\u53ef\u4ee5\u4f7f\u7528\u533f\u540d\u53d8\u91cf\uff0c\u7528\u4e0b\u753b\u7ebf\u201c_\u201d\u66ff\u6362\u5373\u53ef\u3002 \u4f8b\u5982\uff0c\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\uff0c\u529f\u80fd\u4e3a\u8fd4\u56de\u4e24\u4e2aint\u578b\u53d8\u91cf\uff0c\u7b2c\u4e00\u4e2a\u8fd4\u56de10\uff0c\u7b2c\u4e8c\u4e2a\u8fd4\u56de20\uff0c\u7b2c\u4e00\u6b21\u8c03\u7528\u820d\u5f03\u7b2c\u4e8c\u4e2a\u8fd4\u56de\u503c\uff0c\u7b2c\u4e8c\u6b21\u8c03\u7528\u820d\u5f03\u7b2c\u4e00\u4e2a\u8fd4\u56de\u503c\uff0c\u5177\u4f53\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u6240\u793a\u3002 package main import \"fmt\" func getData()(int, string, bool){ return 666,\"whw\",false } func main(){ var a = 666 a, b, _ := getData() fmt.Println(\"a>>>\",a) // 666 fmt.Println(\"n>>>\",b) // whw } \u533f\u540d\u53d8\u91cf\u65e2\u4e0d\u5360\u7528\u547d\u540d\u7a7a\u95f4\uff0c\u4e5f\u4e0d\u4f1a\u5206\u914d\u5185\u5b58\u3002","title":"2.1 \u53d8\u91cf"},{"location":"%E5%9F%BA%E7%A1%80/1/#22","text":"\u5728Go\u8bed\u8a00\u4e2d\uff0c\u6709\u4ee5\u4e0b\u51e0\u79cd\u6570\u636e\u7c7b\u578b\uff1a \u57fa\u672c\u6570\u636e\u7c7b\u578b\uff08\u539f\u751f\u6570\u636e\u7c7b\u578b\uff09 \uff1a\u6574\u578b\u3001\u6d6e\u70b9\u578b\u3001\u590d\u6570\u578b\u3001\u5e03\u5c14\u578b\u3001\u5b57\u7b26\u4e32\u3001\u5b57\u7b26\uff08byte\u3001rune\uff09\u3002 \u590d\u5408\u6570\u636e\u7c7b\u578b\uff08\u6d3e\u751f\u6570\u636e\u7c7b\u578b\uff09 \uff1a\u6570\u7ec4\uff08array\uff09\u3001\u5207\u7247\uff08slice\uff09\u3001\u6620\u5c04\uff08map\uff09\u3001\u51fd\u6570\uff08function\uff09\u3001\u7ed3\u6784\u4f53\uff08struct\uff09\u3001\u901a\u9053\uff08channel\uff09\u3001\u63a5\u53e3\uff08interface\uff09\u3001\u6307\u9488\uff08pointer\uff09\u3002","title":"2.2 \u6570\u636e\u7c7b\u578b"},{"location":"%E5%9F%BA%E7%A1%80/1/#_2","text":"\u6574\u578b\u5206\u4e24\u5927\u7c7b\u3002\u6709\u7b26\u53f7\u6574\u578b\uff1aint8\u3001int16\u3001int32\u3001int64\u3001int\u3002 \u65e0\u7b26\u53f7\u6574\u578b\uff1auint8\u3001uint16\u3001uint32\u3001uint64\u3001uint\u3002 \u5176\u4e2duint8\u5c31\u662fbyte\u578b\uff0cint16\u5bf9\u5e94C\u8bed\u8a00\u7684short\u578b\uff0cint64\u5bf9\u5e94C\u8bed\u8a00\u7684long\u578b\u3002","title":"\u6574\u578b"},{"location":"%E5%9F%BA%E7%A1%80/1/#_3","text":"\u5e38\u91cfmath.MaxFloat32\u8868\u793afloat32\u80fd\u83b7\u53d6\u7684\u6700\u5927\u503c\uff0c\u5927\u7ea6\u662f3.4\u00d71038\uff1b\u5e38\u91cfmath.SmallestNonzeroFloat32\u8868\u793afloat32\u80fd\u83b7\u53d6\u7684\u6700\u5c0f\u503c\uff0c\u5927\u7ea6\u4e3a1.4\u00d710-45\u3002 \u5e38\u91cfmath.MaxFloat64\u8868\u793afloat64\u80fd\u83b7\u53d6\u7684\u6700\u5927\u503c\uff0c\u5927\u7ea6\u662f1.8\u00d710308\uff1b\u5e38\u91cfmath.SmallestNonzeroFloat64\u8868\u793afloat64\u80fd\u83b7\u53d6\u7684\u6700\u5c0f\u503c\uff0c\u5927\u7ea6\u4e3a4.9\u00d710-324\u3002","title":"\u6d6e\u70b9\u578b"},{"location":"%E5%9F%BA%E7%A1%80/1/#_4","text":"\u590d\u6570\u578b\u7528\u4e8e\u8868\u793a\u6570\u5b66\u4e2d\u7684\u590d\u6570\uff0c\u59821+2j\u30011-2j\u3001-1-2j\u7b49\u3002\u5173\u4e8e\u590d\u6570\u578b\u7684\u8bf4\u660e\uff0c\u5982\u88682.3\u6240\u793a\u3002","title":"\u590d\u6570\u578b"},{"location":"%E5%9F%BA%E7%A1%80/1/#_5","text":"\u5e03\u5c14\u578b\u7528\u9884\u5b9a\u4e49\u6807\u8bc6\u7b26bool\u8868\u793a\u3002\u5728C\u8bed\u8a00\u4e2d\uff0c\u5bf9\u4e8e\u5e03\u5c14\u578b\u7684\u503c\u5b9a\u4e49\uff0c\u975e0\u8868\u793a\u771f\uff0c0\u8868\u793a\u5047\u3002\u800c\u5728Go\u8bed\u8a00\u4e2d\uff0c\u5e03\u5c14\u578b\u7684\u503c\u53ea\u53ef\u4ee5\u662f\u5e38\u91cftrue\u6216\u8005false\u3002 \u58f0\u660e\u65b9\u5f0f\u5982\u4e0b\u6240\u793a\u3002 var flag bool \u5e03\u5c14\u578b\u65e0\u6cd5\u53c2\u4e0e\u6570\u503c\u8fd0\u7b97\uff0c\u4e5f\u65e0\u6cd5\u4e0e\u5176\u4ed6\u7c7b\u578b\u8fdb\u884c\u8f6c\u6362\u3002","title":"\u5e03\u5c14\u578b"},{"location":"%E5%9F%BA%E7%A1%80/1/#_6","text":"\u5b57\u7b26\u4e32\u5728Go\u8bed\u8a00\u4e2d\u662f\u4ee5\u57fa\u672c\u6570\u636e\u7c7b\u578b\u51fa\u73b0\u7684\uff0c\u4f7f\u7528\u5b57\u7b26\u4e32\u5c31\u50cf\u4f7f\u7528\u5176\u4ed6\u539f\u751f\u57fa\u672c\u6570\u636e\u7c7b\u578bint\u3001float32\u3001float64\u3001bool\u4e00\u6837\u3002 \u5b57\u7b26\u4e32\u5728C++\u8bed\u8a00\u4e2d\uff0c\u4ee5\u7c7b\u7684\u65b9\u5f0f\u8fdb\u884c\u5c01\u88c5\uff0c\u4e0d\u5c5e\u4e8e\u57fa\u672c\u6570\u636e\u7c7b\u578b\u3002 \u5728go\u4e2d\u4f7f\u7528\u5b57\u7b26\u4e32\uff1a var s1 string //\u5b9a\u4e49\u540d\u4e3as1\u7684\u5b57\u7b26\u4e32\u7c7b\u578b\u53d8\u91cf s1 = \"HelloWorld\" //\u53d8\u91cf\u8d4b\u503c student1 := \"\u706b\u5f71whw\" //\u4ee5\u81ea\u52a8\u63a8\u65ad\u65b9\u5f0f\u521d\u59cb\u5316 \u6709\u4e9b\u5b57\u7b26\u4e32\u6ca1\u6709\u73b0\u6210\u7684\u6587\u5b57\u4ee3\u53f7\uff0c\u6240\u4ee5\u53ea\u80fd\u7528\u8f6c\u4e49\u5b57\u7b26\u6765\u8868\u793a\u3002\u5e38\u7528\u7684\u8f6c\u4e49\u5b57\u7b26\u5982\u88682.4\u6240\u793a\uff1a \u5b9a\u4e49\u591a\u884c\u5b57\u7b26\u4e32\u7684\u65b9\u6cd5\u5982\u4e0b\uff1a \u53cc\u5f15\u53f7\u4e66\u5199\u5b57\u7b26\u4e32\u88ab\u79f0\u4e3a\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\uff08string literal\uff09\uff0c\u8fd9\u79cd\u5b57\u9762\u91cf\u4e0d\u80fd\u8de8\u884c\u3002 \u591a\u884c\u5b57\u7b26\u4e32\u9700\u8981\u4f7f\u7528\u53cd\u5f15\u53f7\u201c`\u201d\uff0c\u591a\u7528\u4e8e\u5185\u5d4c\u6e90\u7801\u548c\u5185\u5d4c\u6570\u636e\u3002 \u5728\u53cd\u5f15\u53f7\u4e2d\u7684\u6240\u6709\u4ee3\u7801\u4e0d\u4f1a\u88ab\u7f16\u8bd1\u5668\u8bc6\u522b\uff0c\u800c\u53ea\u662f\u4f5c\u4e3a\u5b57\u7b26\u4e32\u7684\u4e00\u90e8\u5206\u3002 \u591a\u884c\u5b57\u7b26\u4e32\u5b9a\u4e49\u65b9\u5f0f\u5982\u4f8b2-1\u6240\u793a\u3002 package main import \"fmt\" func getString()(string){ s1 := ` x := 123 y := 666 ss := \"A Hero's Country!\" ` return s1 } func main(){ a := getString() fmt.Println(\"a>>>\",a) }","title":"\u5b57\u7b26\u4e32"},{"location":"%E5%9F%BA%E7%A1%80/1/#_7","text":"\u5b57\u7b26\u4e32\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u53eb\u4f5c\u201c\u5b57\u7b26\u201d\uff0c\u5b9a\u4e49\u5b57\u7b26\u65f6\u4f7f\u7528\u5355\u5f15\u53f7\u3002Go\u8bed\u8a00\u7684\u5b57\u7b26\u6709\u4e24\u79cd\uff0c\u5982\u88682.5\u6240\u793a\u3002 \u58f0\u660e\u793a\u4f8b\u5982\u4e0b\uff08\u6ce8\u610f\u5fc5\u987b\u662f\u5355\u5f15\u53f7\uff01\uff09\uff1a package main import \"fmt\" func main(){ // \u6ce8\u610f\u5fc5\u987b\u662f\u5355\u5f15\u53f7\uff01\uff01\uff01 var a byte = 's' var b rune = '\u738b' fmt.Println(\"a>>>\",a) // 115 fmt.Println(\"b>>>\",b) // 29579 }","title":"\u5b57\u7b26"},{"location":"%E5%9F%BA%E7%A1%80/1/#23","text":"\u6253\u5370\u683c\u5f0f\u5316\u901a\u5e38\u4f7f\u7528fmt\u5305\uff0c\u901a\u7528\u7684\u6253\u5370\u683c\u5f0f\u5982\u8868\uff1a \u5177\u4f53\u7684\u4f7f\u7528\u65b9\u6cd5\uff1a package main import \"fmt\" func main(){ str := \"wanghw\" fmt.Printf(\"%T, %v \\n\",str,str) //string, wanghw var a rune = '\u738b' fmt.Printf(\"%T, %v \\n\",a,a) //int32, 29579 var b byte = 'b' fmt.Printf(\"%T, %v \\n\",b,b) //uint8, 98 var c int32 = 123 fmt.Printf(\"%T, %v \\n\",c,c) //int32, 123 } \u901a\u8fc7\u4e0a\u4f8b\u53ef\u4ee5\u770b\u51fa\uff0c\u4f7f\u7528\u901a\u7528\u7684\u683c\u5f0f\u6253\u5370\uff0c\u8f93\u51fa\u7684\u7ed3\u679c\u53ef\u80fd\u4e0d\u662f\u81ea\u5df1\u60f3\u8981\u7684\uff0c\u4e3a\u4e86\u786e\u4fdd\u8f93\u51fa\u7ed3\u679c\u4e0e\u9700\u6c42\u4e00\u81f4\uff0c\u8fd8\u9700\u8981\u5b66\u4e60\u5177\u4f53\u683c\u5f0f\u7684\u6253\u5370\u65b9\u5f0f\u3002","title":"2.3 \u6253\u5370\u683c\u5f0f\u5316"},{"location":"%E5%9F%BA%E7%A1%80/1/#_8","text":"package main import \"fmt\" func main(){ var flag bool // flag\u9ed8\u8ba4\u662ffalse fmt.Printf(\"%T, %t \\n\",flag,flag) //bool, false flag = true fmt.Printf(\"%T, %t \\n\",flag,flag) //bool, true }","title":"\u5e03\u5c14\u578b\u6253\u5370\u683c\u5f0f"},{"location":"%E5%9F%BA%E7%A1%80/1/#_9","text":"package main import \"fmt\" func main(){ fmt.Printf(\"%T, %d \\n\",123, 123) //int, 123 fmt.Printf(\"%T, %5d \\n\",123, 123) //int, 123 fmt.Printf(\"%T, %05d \\n\",123, 123) //int, 00123 fmt.Printf(\"%T, %b \\n\",123, 123) //int, 1111011 fmt.Printf(\"%T, %o \\n\",123, 123) //int, 173 fmt.Printf(\"%T, %c \\n\",98, 98) //int, b fmt.Printf(\"%T, %q \\n\",98, 98) //int, 'b' fmt.Printf(\"%T, %x \\n\",123, 123) //int, 7b fmt.Printf(\"%T, %X \\n\",123, 123) //int, 7B fmt.Printf(\"%T, %U \\n\",'\u738b', '\u738b') //int32, U+738B }","title":"\u6574\u578b\u6253\u5370\u683c\u5f0f"},{"location":"%E5%9F%BA%E7%A1%80/1/#_10","text":"package main import \"fmt\" func main(){ fmt.Printf(\"%b \\n\",123.23433) //8671845041675824p-46 fmt.Printf(\"%f \\n\",123.2) //123.200000 fmt.Printf(\"%.2f \\n\",123.22222) //123.22 fmt.Printf(\"%e \\n\",123.22222) //1.232222e+02 fmt.Printf(\"%E \\n\",123.22222) //1.232222E+02 fmt.Printf(\"%.1e \\n\",123.22222) //1.2e+02 fmt.Printf(\"%F \\n\",123.22222) //123.222220 fmt.Printf(\"%g \\n\",123.22222) //123.22222 fmt.Printf(\"%G \\n\",123.22222) //123.22222 }","title":"\u6d6e\u70b9\u578b\u4e0e\u590d\u6570\u578b\u6253\u5370\u683c\u5f0f"},{"location":"%E5%9F%BA%E7%A1%80/1/#_11","text":"package main import \"fmt\" func main(){ var value complex64 = 2.2 + 22i value2 := complex(2.2,222) fmt.Println(real(value)) //2.2 fmt.Println(imag(value)) //22 fmt.Println(value2) //(2.2+222i) }","title":"\u5173\u4e8e\u590d\u6570\u7684\u6253\u5370\u683c\u5f0f\u5982\u4e0b"},{"location":"%E5%9F%BA%E7%A1%80/1/#_12","text":"package main import \"fmt\" func main(){ arr := []byte{'a','b','c','d'} fmt.Printf(\"%s \\n\",\"\u706b\u5f71whw\")//\u706b\u5f71whw fmt.Printf(\"%q \\n\",\"\u706b\u5f71whw\")//\"\u706b\u5f71whw\" fmt.Printf(\"%x \\n\",\"\u706b\u5f71whw\")//e781abe5bdb1776877 fmt.Printf(\"%X \\n\",\"\u706b\u5f71whw\")//E781ABE5BDB1776877 fmt.Printf(\"%T, %s \\n\",arr, arr)//[]uint8, abcd fmt.Printf(\"%T, %q \\n\",arr, arr)//[]uint8, \"abcd\" fmt.Printf(\"%T, %x \\n\",arr, arr)//[]uint8, 61626364 fmt.Printf(\"%T, %X \\n\",arr, arr)//[]uint8, 61626364 }","title":"\u5b57\u7b26\u4e32\u6253\u5370\u4e0e\u5b57\u8282\u6570\u7ec4\u7684\u6253\u5370\u683c\u5f0f"},{"location":"%E5%9F%BA%E7%A1%80/1/#24","text":"Go\u8bed\u8a00\u91c7\u7528\u6570\u636e\u7c7b\u578b\u524d\u7f6e\u52a0\u62ec\u53f7\u7684\u65b9\u5f0f\u8fdb\u884c\u7c7b\u578b\u8f6c\u6362\uff0c\u683c\u5f0f\u5982\uff1aT\uff08\u8868\u8fbe\u5f0f\uff09\u3002T\u8868\u793a\u8981\u8f6c\u6362\u7684\u7c7b\u578b\uff1b\u8868\u8fbe\u5f0f\u5305\u62ec\u53d8\u91cf\u3001\u6570\u503c\u3001\u51fd\u6570\u8fd4\u56de\u503c\u7b49\u3002 \u7c7b\u578b\u8f6c\u6362\u65f6\uff0c\u9700\u8981\u8003\u8651\u4e24\u79cd\u7c7b\u578b\u4e4b\u95f4\u7684\u5173\u7cfb\u548c\u8303\u56f4\uff0c\u662f\u5426\u4f1a\u53d1\u751f\u6570\u503c\u622a\u65ad\u3002\u5c31\u50cf\u5c061000\u6beb\u5347\u7684\u6c34\u5012\u5165\u5bb9\u79ef\u4e3a500\u6beb\u5347\u7684\u74f6\u5b50\u91cc\uff0c\u4f59\u51fa\u6765500\u6beb\u5347\u7684\u6c34\u4fbf\u4f1a\u6d41\u5931\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c \u5e03\u5c14\u578b\u65e0\u6cd5\u4e0e\u5176\u4ed6\u7c7b\u578b\u8fdb\u884c\u8f6c\u6362 \u3002 package main import \"fmt\" func main(){ a := 100 b1 := float64(a) b2 := string(a) fmt.Println(\"b1>>>\",b1) fmt.Println(\"b2>>>\",b2) }","title":"2.4 \u6570\u636e\u7c7b\u578b\u8f6c\u6362"},{"location":"%E5%9F%BA%E7%A1%80/1/#_13","text":"float\u548cint\u7684\u7c7b\u578b\u7cbe\u5ea6\u4e0d\u540c\uff0c\u4f7f\u7528\u65f6\u9700\u8981\u6ce8\u610ffloat\u8f6cint\u65f6\u7cbe\u5ea6\u7684\u635f\u5931\u3002 package main import \"fmt\" func main() { chinese := 90 english := 98.9 avg1 := (chinese + int(english)) / 2 avg2 := (float64(chinese) + english) / 2 fmt.Println(\"avg1>>>\",avg1) // 94 fmt.Println(\"avg2>>>\",avg2) // 94.45 }","title":"\u6d6e\u70b9\u578b\u4e0e\u6574\u578b\u4e4b\u95f4\u8f6c\u6362"},{"location":"%E5%9F%BA%E7%A1%80/1/#_14","text":"\u8fd9\u79cd\u7c7b\u578b\u7684\u8f6c\u6362\uff0c\u5176\u5b9e\u76f8\u5f53\u4e8ebyte\u6216rune\u8f6cstring\u3002 int\u6570\u503c\u662fASCII\u7801\u7684\u7f16\u53f7\u6216unicode\u5b57\u7b26\u96c6\u7684\u7f16\u53f7\uff0c\u8f6c\u6210string\u5c31\u662f\u6839\u636e\u5b57\u7b26\u96c6\uff0c\u5c06\u5bf9\u5e94\u7f16\u53f7\u7684\u5b57\u7b26\u67e5\u627e\u51fa\u6765\u3002\u5f53\u8be5\u6570\u503c\u8d85\u51faunicode\u7f16\u53f7\u8303\u56f4\uff0c\u5219\u8f6c\u6210\u7684\u5b57\u7b26\u4e32\u663e\u793a\u4e3a\u4e71\u7801\u3002 \u4f8b\u5982\uff0c19968\u8f6cstring\uff0c\u5c31\u662f\u201c\u4e00\u201d\u3002 \u5907\u6ce8\uff1a ASCII\u5b57\u7b26\u96c6\u4e2d\u6570\u5b57\u7684\u5341\u8fdb\u5236\u8303\u56f4\u662f48\uff5e57\uff1b ASCII\u5b57\u7b26\u96c6\u4e2d\u5927\u5199\u5b57\u6bcd\u7684\u5341\u8fdb\u5236\u8303\u56f4\u662f65\uff5e90\uff1b ASCII\u5b57\u7b26\u96c6\u4e2d\u5c0f\u5199\u5b57\u6bcd\u7684\u5341\u8fdb\u5236\u8303\u56f4\u662f97\uff5e122\uff1b unicode\u5b57\u7b26\u96c6\u4e2d\u6c49\u5b57\u7684\u8303\u56f4\u662f4e00\uff5e9fa5\uff0c\u5341\u8fdb\u5236\u8303\u56f4\u662f19968\uff5e40869\u3002 \u8be6\u60c5\u5982\u4e0b\uff1a \u5177\u4f53\u7684\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\uff1a package main import \"fmt\" func main() { a := 97 x := 19969 ret1 := string(a) ret2 := string(x) fmt.Println(\"ret1>>>\",ret1) // a fmt.Println(\"ret2>>>\",ret2) // \u4e01 } Go\u8bed\u8a00\u4e2d\u4e0d\u5141\u8bb8\u5b57\u7b26\u4e32\u8f6cint package main import \"fmt\" func main() { a := \"\u4e01\" // \u4e0d\u80fd\u5c06\u5b57\u7b26\u4e32\u8f6c\u4e3aint ret1 := int64(a) fmt.Println(\"ret1>>>\",ret1) // a } \u4f1a\u4e0a\u62a5\u4e0b\u9762\u7684\u9519\u8bef\uff1a cannot convert a (type string) to type int64","title":"\u6574\u578b\u8f6c\u5b57\u7b26\u4e32\u7c7b\u578b"},{"location":"%E5%9F%BA%E7%A1%80/1/#25","text":"\u5e38\u91cf\u662f\u4e00\u4e2a\u7b80\u5355\u503c\u7684\u6807\u8bc6\u7b26\uff0c\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\uff0c\u4e0d\u4f1a\u88ab\u4fee\u6539\u3002\u5e38\u91cf\u4e2d\u7684\u6570\u636e\u7c7b\u578b\u53ea\u53ef\u4ee5\u662f\u5e03\u5c14\u578b\u3001\u6570\u5b57\u578b\uff08\u6574\u578b\u3001\u6d6e\u70b9\u578b\u548c\u590d\u6570\u578b\uff09\u548c\u5b57\u7b26\u4e32\u3002\u5e38\u91cf\u7684\u5b9a\u4e49\u683c\u5f0f\u5982\u4e0b\uff1a const A string = \"wanghw\" const B = \"whw\" const C, D = \"www\", \"waa\" \u5e38\u91cf\u5b9a\u4e49\u540e\u672a\u88ab\u4f7f\u7528\uff0c\u4e0d\u4f1a\u5728\u7f16\u8bd1\u65f6\u62a5\u9519\u3002","title":"2.5 \u5e38\u91cf"},{"location":"%E5%9F%BA%E7%A1%80/1/#_15","text":"Go\u8bed\u8a00\u73b0\u9636\u6bb5\u6ca1\u6709\u63d0\u4f9b\u679a\u4e3e\uff0c\u53ef\u4ee5\u4f7f\u7528\u5e38\u91cf\u7ec4\u6a21\u62df\u679a\u4e3e\u3002 \u5047\u8bbe\u6570\u5b570\u30011\u548c2\u5206\u522b\u4ee3\u8868\u672a\u77e5\u6027\u522b\u3001\u5973\u6027\u548c\u7537\u6027\u3002\u683c\u5f0f\u5982\u4f8b\uff1a package main import \"fmt\" const ( Unknown = 0 Female = 1 Male = 2 ) func main(){ fmt.Println(\"ret>>\",Unknown, Female, Male) // \u7ed3\u679c // ret>> 0 1 2 } \u5e38\u91cf\u7ec4\u4e2d\u5982\u679c\u4e0d\u6307\u5b9a\u7c7b\u578b\u548c\u521d\u59cb\u503c\uff0c\u5219\u4e0e\u4e0a\u4e00\u884c\u975e\u7a7a\u5e38\u91cf\u7684\u503c\u76f8\u540c\uff1a package main import \"fmt\" const ( a = 10 b c ) func main(){ fmt.Println(\"ret>>\",a, b, c) // \u7ed3\u679c // ret>> 10 10 10 }","title":"\u5e38\u91cf\u7528\u4e8e\u679a\u4e3e"},{"location":"%E5%9F%BA%E7%A1%80/1/#iota","text":"iota\uff0c\u7279\u6b8a\u5e38\u91cf\u503c\uff0c\u662f\u4e00\u4e2a\u7cfb\u7edf\u5b9a\u4e49\u7684\u53ef\u4ee5\u88ab\u7f16\u8bd1\u5668\u4fee\u6539\u7684\u5e38\u91cf\u503c\u3002 iota\u53ea\u80fd\u88ab\u7528\u5728\u5e38\u91cf\u7684\u8d4b\u503c\u4e2d\uff0c\u5728\u6bcf\u4e00\u4e2aconst\u5173\u952e\u5b57\u51fa\u73b0\u65f6\uff0c\u88ab\u91cd\u7f6e\u4e3a0\uff0c\u7136\u540e\u6bcf\u51fa\u73b0\u4e00\u4e2a\u5e38\u91cf\uff0ciota\u6240\u4ee3\u8868\u7684\u6570\u503c\u4f1a\u81ea\u52a8\u589e\u52a01\u3002 iota\u53ef\u4ee5\u7406\u89e3\u6210\u5e38\u91cf\u7ec4\u4e2d \u5e38\u91cf\u7684\u8ba1\u6570\u5668 \uff0c\u4e0d\u8bba\u8be5\u5e38\u91cf\u7684\u503c\u662f\u4ec0\u4e48\uff0c \u53ea\u8981\u6709\u4e00\u4e2a\u5e38\u91cf\uff0c\u90a3\u4e48iota\u5c31\u52a01 \u3002 package main import \"fmt\" const ( a = 12 b = iota c = iota ) func main(){ fmt.Println(\"ret>>\",a, b, c) // \u7ed3\u679c // ret>> 12 1 2 } \u5e38\u91cf\u7ec4\u4e2d\u5982\u679c\u4e0d\u6307\u5b9a\u7c7b\u578b\u548c\u521d\u59cb\u503c\uff0c\u5219\u4e0e\u4e0a\u4e00\u884c\u975e\u7a7a\u5e38\u91cf\u7684\u503c\u76f8\u540c\uff1a package main import \"fmt\" const ( a = iota b c ) func main(){ fmt.Println(\"ret>>\",a, b, c) // \u7ed3\u679c // ret>> 0 1 2 }","title":"iota"},{"location":"%E5%9F%BA%E7%A1%80/1/#26","text":"\u7c7b\u578b\u522b\u540d\u662fGo1.9\u7248\u672c\u6dfb\u52a0\u7684\u65b0\u529f\u80fd\u3002\u8bf4\u5230\u7c7b\u578b\u522b\u540d\uff0c\u65e0\u975e\u662f\u7ed9\u7c7b\u578b\u540d\u53d6\u4e00\u4e2a\u6709\u7279\u6b8a\u542b\u4e49\u7684\u5916\u53f7\u800c\u5df2\uff0c\u5c31\u50cf\u6b66\u4fa0\u5c0f\u8bf4\u4e2d\u7684\u4e1c\u90aa\u897f\u6bd2\u3002\u5047\u5982\u5728\u6559\u5ba4\u4e2d\uff0c\u6709\u4e24\u4e2a\u540c\u5b66\u53eb\u5f20\u4e09\uff0c\u8001\u5e08\u4e3a\u4e86\u533a\u5206\u4ed6\u4eec\uff0c\u901a\u5e38\u4f1a\u7ed9\u4ed6\u4eec\u8d77\u4e2a\u522b\u540d\uff1a\u5927\u5f20\u4e09\u3001\u5c0f\u5f20\u4e09\u3002\u5bf9\u4e8e\u7f16\u7a0b\u800c\u8a00\uff0c\u7c7b\u578b\u522b\u540d\u4e3b\u8981\u7528\u4e8e\u89e3\u51b3\u517c\u5bb9\u6027\u7684\u95ee\u9898\u3002 \u8be5\u8bed\u53e5\u662f\u5c06NewString\u5b9a\u4e49\u4e3astring\u7c7b\u578b\u3002\u901a\u8fc7type\u5173\u952e\u5b57\uff0cNewString\u4f1a\u5f62\u6210\u4e00\u79cd\u65b0\u7684\u7c7b\u578b\u3002NewString\u672c\u8eab\u4f9d\u7136\u5177\u5907string\u7684\u7279\u6027\u3002 type StringAliaa = string \u8be5\u8bed\u53e5\u662f\u5c06StringAlias\u5b9a\u4e49\u4e3astring\u7684\u4e00\u4e2a\u522b\u540d\u3002\u4f7f\u7528StringAlias\u4e0estring\u7b49\u6548\u3002\u522b\u540d\u7c7b\u578b\u53ea\u4f1a\u5728\u4ee3\u7801\u4e2d\u5b58\u5728\uff0c\u7f16\u8bd1\u5b8c\u6210\u65f6\uff0c\u4e0d\u4f1a\u6709\u522b\u540d\u7c7b\u578b\u3002 \u51fa\u4e8e\u5bf9\u7a0b\u5e8f\u6027\u80fd\u7684\u8003\u8651\uff0c\u5efa\u8bae\u5982\u4e0b\uff1a \u5c3d\u53ef\u80fd\u5730\u4f7f\u7528 := \u53bb\u521d\u59cb\u5316\u58f0\u660e\u4e00\u4e2a\u53d8\u91cf\uff08\u5728\u51fd\u6570\u5185\u90e8\uff09\u3002 \u5c3d\u53ef\u80fd\u5730\u4f7f\u7528\u5b57\u7b26\u4ee3\u66ff\u5b57\u7b26\u4e32\u3002","title":"2.6 \u7c7b\u578b\u522b\u540d\u4e0e\u7c7b\u578b\u5b9a\u4e49"},{"location":"%E5%9F%BA%E7%A1%80/1/#27-go","text":"\u8fd0\u7b97\u7b26\u7528\u4e8e\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\u6267\u884c\u6570\u5b66\u6216\u903b\u8f91\u8fd0\u7b97\u3002 Go\u8bed\u8a00\u5185\u7f6e\u7684\u8fd0\u7b97\u7b26\u5305\u62ec \u7b97\u672f\u8fd0\u7b97\u7b26 \u3001 \u5173\u7cfb\u8fd0\u7b97\u7b26 \u3001 \u903b\u8f91\u8fd0\u7b97\u7b26 \u3001 \u4f4d\u8fd0\u7b97\u7b26 \u3001 \u8d4b\u503c\u8fd0\u7b97\u7b26 \u3001 \u5176\u4ed6\u8fd0\u7b97\u7b26 \u3002 \u903b\u8f91\u8fd0\u7b97\u7b26 Go\u8bed\u8a00\u7684\u903b\u8f91\u8fd0\u7b97\u7b26\u5982\u8868\u6240\u793a\u3002\u5047\u5b9aA\u503c\u4e3aTrue\uff0cB\u503c\u4e3aFalse\u3002 \u4f4d\u8fd0\u7b97\u7b26 \u4f4d\u8fd0\u7b97\u7b26 \u5bf9\u6574\u6570\u5728\u5185\u5b58\u4e2d\u7684\u4e8c\u8fdb\u5236\u4f4d\u8fdb\u884c\u64cd\u4f5c \u3002 \u4f4d\u8fd0\u7b97\u7b26\u6bd4\u4e00\u822c\u7684\u7b97\u672f\u8fd0\u7b97\u7b26\u901f\u5ea6\u8981\u5feb\uff0c\u800c\u4e14\u53ef\u4ee5\u5b9e\u73b0\u4e00\u4e9b\u7b97\u672f\u8fd0\u7b97\u7b26\u4e0d\u80fd\u5b9e\u73b0\u7684\u529f\u80fd\u3002\u5982\u679c\u8981\u5f00\u53d1\u9ad8\u6548\u7387\u7a0b\u5e8f\uff0c\u4f4d\u8fd0\u7b97\u7b26\u662f\u5fc5\u4e0d\u53ef\u5c11\u7684\u3002\u4f4d\u8fd0\u7b97\u7b26\u7528\u6765\u5bf9\u4e8c\u8fdb\u5236\u4f4d\u8fdb\u884c\u64cd\u4f5c\uff0c\u5305\u62ec\uff1a\u6309\u4f4d\u4e0e\uff08\uff06\uff09\u3001\u6309\u4f4d\u6216\uff08|\uff09\u3001\u6309\u4f4d\u5f02\u6216\uff08^\uff09\u3001\u6309\u4f4d\u5de6\u79fb\uff08\uff1c\uff1c\uff09\u3001\u6309\u4f4d\u53f3\u79fb\uff08\uff1e\uff1e\uff09\u3002 Go\u8bed\u8a00\u652f\u6301\u7684\u4f4d\u8fd0\u7b97\u7b26\u5982\u88682.15\u6240\u793a\u3002\u5047\u5b9aA\u4e3a60\uff0cB\u4e3a13\uff1a \uff08\u5176\u4ed6\u7565\uff09 \u5176\u4ed6\u8fd0\u7b97\u7b26 \u8fd0\u7b97\u7b26\u4f18\u5148\u7ea7 \u5f53\u7136\uff0c\u8bfb\u8005\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528\u62ec\u53f7\u6765\u4e34\u65f6\u63d0\u5347\u67d0\u4e2a\u8868\u8fbe\u5f0f\u7684\u6574\u4f53\u8fd0\u7b97\u4f18\u5148\u7ea7\u3002","title":"2.7 Go\u8bed\u8a00\u8fd0\u7b97\u7b26"},{"location":"%E5%9F%BA%E7%A1%80/1/#3-go","text":"","title":"3 Go\u8bed\u8a00\u7684\u6d41\u7a0b\u63a7\u5236"},{"location":"%E5%9F%BA%E7%A1%80/1/#31","text":"","title":"3.1 \u6d41\u7a0b\u63a7\u5236\u6982\u8ff0"},{"location":"%E5%9F%BA%E7%A1%80/1/#32-if","text":"\u5148\u5224\u65adif\u7684\u5e03\u5c14\u8868\u8fbe\u5f0f\uff0c\u5982\u679c\u4e3atrue\uff0c\u5176\u540e\u7d27\u8ddf\u7684\u8bed\u53e5\u5757\u6267\u884c\uff0c\u5982\u679c\u4e3afalse\uff0c\u518d\u5224\u65adelse if\u7684\u5e03\u5c14\u8868\u8fbe\u5f0f\uff0c\u5982\u679c\u4e3atrue\uff0c\u5176\u540e\u7d27\u8ddf\u7684\u8bed\u53e5\u5757\u6267\u884c\uff0c\u5982\u679c\u4e3afalse\uff0c\u518d\u5224\u65ad\u4e0b\u4e00\u4e2aelse if\u7684\u5e03\u5c14\u8868\u8fbe\u5f0f\uff0c\u4ee5\u6b64\u7c7b\u63a8\uff0c\u5f53\u6700\u540e\u4e00\u4e2aelse if\u7684\u8868\u8fbe\u5f0f\u4e3afalse\u65f6\uff0c\u6267\u884celse\u8bed\u53e5\u5757\u3002 \u5728if\u8bed\u53e5\u7684\u4f7f\u7528\u8fc7\u7a0b\u4e2d\uff0c\u5e94\u6ce8\u610f\u4ee5\u4e0b\u7ec6\u8282\uff1a \u4e0d\u9700\u4f7f\u7528\u62ec\u53f7\u5c06\u6761\u4ef6\u5305\u542b\u8d77\u6765\u3002 \u5927\u62ec\u53f7{}\u5fc5\u987b\u5b58\u5728\uff0c\u5373\u4f7f\u53ea\u6709\u4e00\u884c\u8bed\u53e5\u3002 \u5de6\u62ec\u53f7\u5fc5\u987b\u5728if\u6216else\u7684\u540c\u4e00\u884c\u3002 \u5728if\u4e4b\u540e\uff0c\u6761\u4ef6\u8bed\u53e5\u4e4b\u524d\uff0c\u53ef\u4ee5\u6dfb\u52a0\u53d8\u91cf\u521d\u59cb\u5316\u8bed\u53e5\uff0c\u4f7f\u7528\u201c;\u201d\u8fdb\u884c\u5206\u9694\u3002","title":"3.2 if\u6761\u4ef6\u5224\u65ad\u8bed\u53e5"},{"location":"%E5%9F%BA%E7%A1%80/1/#if","text":"if\u8bed\u53e5\u8fd8\u6709\u4e00\u4e2a\u53d8\u4f53\u3002\u5b83\u7684\u8bed\u6cd5\u5982\u4e0b\u6240\u793a\u3002 if statement; condition { // \u4ee3\u7801\u5757 } package main import \"fmt\" func main(){ if num := 10; num %2 == 0{ fmt.Println(\"\u5076\u6570\") } else{ fmt.Println(\"\u5947\u6570\") } } // \u7ed3\u679c // \u5076\u6570 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cnum\u7684\u5b9a\u4e49\u5728if\u91cc\uff0c\u90a3\u4e48\u53ea\u80fd\u591f\u5728\u8be5if...else\u8bed\u53e5\u5757\u4e2d\u4f7f\u7528\uff0c\u5426\u5219\u7f16\u8bd1\u5668\u4f1a\u62a5\u9519\u3002","title":"if\u7684\u7279\u6b8a\u5199\u6cd5"},{"location":"%E5%9F%BA%E7%A1%80/1/#33-if","text":"","title":"3.3 if\u5d4c\u5957\u8bed\u53e5"},{"location":"%E5%9F%BA%E7%A1%80/1/#34-switch","text":"switch\u8bed\u53e5\u6267\u884c\u7684\u8fc7\u7a0b\u81ea\u4e0a\u800c\u4e0b\uff0c\u76f4\u5230\u627e\u5230case\u5339\u914d\u9879\uff0c\u5339\u914d\u9879\u4e2d\u65e0\u987b\u4f7f\u7528break\uff0c\u56e0\u4e3aGo\u8bed\u8a00\u4e2d\u7684switch\u9ed8\u8ba4\u7ed9\u6bcf\u4e2acase\u81ea\u5e26break\u3002\u56e0\u6b64\u5339\u914d\u6210\u529f\u540e\u4e0d\u4f1a\u5411\u4e0b\u6267\u884c\u5176\u4ed6\u7684 case \u5206\u652f\uff0c\u800c\u662f\u8df3\u51fa\u6574\u4e2a switch\u3002\u53ef\u4ee5\u6dfb\u52a0fallthrough\uff08\u4e2d\u6587\u542b\u4e49\u662f\uff1a\u8d2f\u7a7f\uff09\uff0c\u5f3a\u5236\u6267\u884c\u540e\u9762\u7684case\u5206\u652f\u3002fallthrough\u5fc5\u987b\u653e\u5728case\u5206\u652f\u7684\u6700\u540e\u4e00\u884c\u3002\u5982\u679c\u5b83\u51fa\u73b0\u5728\u4e2d\u95f4\u7684\u67d0\u4e2a\u5730\u65b9\uff0c\u7f16\u8bd1\u5668\u5c31\u4f1a\u62a5\u9519\u3002\u53d8\u91cfvar1\u53ef\u4ee5\u662f\u4efb\u4f55\u7c7b\u578b\uff0c\u800cval1\u548cval2\u5219\u53ef\u4ee5\u662f\u540c\u7c7b\u578b\u7684\u4efb\u610f\u503c\u3002\u7c7b\u578b\u4e0d\u5c40\u9650\u4e8e\u5e38\u91cf\u6216\u6574\u6570\uff0c\u4f46\u5fc5\u987b\u662f\u76f8\u540c\u7c7b\u578b\u6216\u6700\u7ec8\u7ed3\u679c\u4e3a\u76f8\u540c\u7c7b\u578b\u7684\u8868\u8fbe\u5f0f\u3002case\u540e\u7684\u503c\u4e0d\u80fd\u91cd\u590d\uff0c\u4f46\u53ef\u4ee5\u540c\u65f6\u6d4b\u8bd5\u591a\u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u503c\uff0c\u4e5f\u5c31\u662f\u8bf4case\u540e\u53ef\u4ee5\u6709\u591a\u4e2a\u503c\uff0c\u8fd9\u4e9b\u503c\u4e4b\u95f4\u4f7f\u7528\u9017\u53f7\u5206\u9694\uff0c\u4f8b\u5982\uff1acase val1, val2, val3\u3002switch\u540e\u7684\u8868\u8fbe\u5f0f\u53ef\u4ee5\u7701\u7565\uff0c\u9ed8\u8ba4\u662fswitch true\u3002 \u793a\u4f8b \u63a5\u4e0b\u6765\u518d\u770b\u4e00\u4e2a\u6848\u4f8b\uff0c\u5224\u65ad\u67d0\u5e74\u67d0\u6708\u7684\u5929\u6570 \u7c7b\u578b\u8f6c\u6362 switch\u8bed\u53e5\u8fd8\u53ef\u4ee5\u88ab\u7528\u4e8etype switch\uff08\u7c7b\u578b\u8f6c\u6362\uff09\u6765\u5224\u65ad\u67d0\u4e2ainterface\u53d8\u91cf\u4e2d\u5b9e\u9645\u5b58\u50a8\u7684\u53d8\u91cf\u7c7b\u578b\u3002\u5173\u4e8einterface\u53d8\u91cf\u7684\u77e5\u8bc6\u5c06\u5728\u540e\u7eed\u7684\u7ae0\u8282\u4e2d\u4ecb\u7ecd\u3002\u4e0b\u9762\u6f14\u793atype switch\u7684\u8bed\u6cd5\u3002\u5176\u8bed\u6cd5\u7ed3\u6784\u5982\u4e0b\u6240\u793a\u3002","title":"3.4 switch\u8bed\u53e5"},{"location":"%E5%9F%BA%E7%A1%80/1/#35-for","text":"\u5faa\u73af\u8bed\u53e5\u8868\u793a\u5f53\u6761\u4ef6\u6ee1\u8db3\u65f6\uff0c\u53ef\u4ee5\u53cd\u590d\u5730\u6267\u884c\u67d0\u6bb5\u4ee3\u7801\u3002 for\u662fGo\u8bed\u8a00\u4e2d\u552f\u4e00\u7684\u5faa\u73af\u8bed\u53e5\uff0cGo\u6ca1\u6709while\u3001do...while\u5faa\u73af\u3002 \u6309\u8bed\u6cd5\u7ed3\u6784\u6765\u5206\uff0cGo\u8bed\u8a00\u7684for\u5faa\u73af\u67094\u79cd\u5f62\u5f0f\uff0c\u53ea\u6709\u7b2c\u4e00\u79cd\u4f7f\u7528\u5206\u53f7\u3002 for\u5faa\u73af\u4e2dfor\u5173\u952e\u5b57\u540e\u4e0d\u80fd\u52a0\u5c0f\u62ec\u53f7\u3002","title":"3.5 for\u5faa\u73af\u8bed\u53e5"},{"location":"%E5%9F%BA%E7%A1%80/1/#_16","text":"for \u521d\u59cb\u9884\u8ba1init; \u6761\u4ef6\u8868\u8fbe\u5f0fcondition; \u7ed3\u675f\u8bed\u53e5post { // \u5faa\u73af\u4f53\u4ee3\u7801 } \u5148\u6267\u884c\u521d\u59cb\u8bed\u53e5\uff0c\u5bf9\u63a7\u5236\u53d8\u91cf\u8d4b\u521d\u59cb\u503c\u3002\u521d\u59cb\u8bed\u53e5\u53ea\u6267\u884c\u4e00\u6b21\u3002 \u5176\u6b21\u6839\u636e\u63a7\u5236\u53d8\u91cf\u5224\u65ad\u6761\u4ef6\u8868\u8fbe\u5f0f\u7684\u8fd4\u56de\u503c\uff0c\u82e5\u5176\u503c\u4e3atrue\uff0c\u6ee1\u8db3\u5faa\u73af\u6761\u4ef6\uff0c\u5219\u6267\u884c\u5faa\u73af\u4f53\u5185\u8bed\u53e5\uff0c\u4e4b\u540e\u6267\u884c\u7ed3\u675f\u8bed\u53e5\uff0c\u5f00\u59cb\u4e0b\u4e00\u6b21\u5faa\u73af\u3002 \u6267\u884c\u7ed3\u675f\u8bed\u53e5\u4e4b\u540e\uff0c\u5c06\u91cd\u65b0\u8ba1\u7b97\u6761\u4ef6\u8868\u8fbe\u5f0f\u7684\u8fd4\u56de\u503c\uff0c\u5982\u679c\u662ftrue\uff0c\u5faa\u73af\u5c06\u7ee7\u7eed\u6267\u884c\uff0c\u5426\u5219\u5faa\u73af\u7ec8\u6b62\u3002\u7136\u540e\u6267\u884c\u5faa\u73af\u4f53\u5916\u8bed\u53e5\u3002 package main import \"fmt\" func main(){ for i:=0; i<10; i++{ fmt.Printf(\"%d \", i) } } //0 1 2 3 4 5 6 7 8 9 \u521d\u59cb\u8bed\u53e5\u3001\u6761\u4ef6\u8868\u8fbe\u5f0f\u548c\u7ed3\u675f\u8bed\u53e53\u79cd\u7ec4\u6210\u90e8\u5206\u90fd\u662f\u53ef\u9009\u7684\u3002\u56e0\u6b64\u8fd9\u79cd\u57fa\u672c\u7684for\u5faa\u73af\u8bed\u6cd5\u7ed3\u6784\u53c8\u80fd\u6f14\u5316\u51fa4\u79cd\u7565\u6709\u4e0d\u540c\u7684\u5199\u6cd5\u3002 \u521d\u59cb\u8bed\u53e5\u662f\u5728\u7b2c\u4e00\u6b21\u5faa\u73af\u524d\u6267\u884c\u7684\u8bed\u53e5\uff0c\u4e00\u822c\u4e3a\u8d4b\u503c\u8868\u8fbe\u5f0f\uff0c\u7ed9\u63a7\u5236\u53d8\u91cf\u8d4b\u521d\u59cb\u503c\u3002\u5982\u679c\u63a7\u5236\u53d8\u91cf\u5728\u6b64\u5904\u88ab\u58f0\u660e\uff0c\u5176\u4f5c\u7528\u57df\u5c06\u88ab\u5c40\u9650\u5728\u8fd9\u4e2afor\u7684\u8303\u56f4\u5185\u2014\u2014\u5728for\u5faa\u73af\u4e2d\u58f0\u660e\u7684\u53d8\u91cf\u4ec5\u5728\u5faa\u73af\u8303\u56f4\u5185\u53ef\u7528\u3002\u521d\u59cb\u8bed\u53e5\u53ef\u4ee5\u7701\u7565\u4e0d\u5199\uff0c\u4f46\u662f\u521d\u59cb\u8bed\u53e5\u4e4b\u540e\u7684\u5206\u53f7\u5fc5\u987b\u8981\u5199\u3002 \u7701\u7565\u521d\u59cb\u8bed\u53e5\u7684\u5199\u6cd5\uff1a package main import \"fmt\" func main(){ a := 3 for ; a<5; a++{ fmt.Printf(\"%d \", a) } } //3 4 \u6761\u4ef6\u8868\u8fbe\u5f0f\uff08condition\uff09\u662f\u63a7\u5236\u5faa\u73af\u4e0e\u5426\u7684\u5f00\u5173\uff1a\u5982\u679c\u8868\u8fbe\u5f0f\u4e3atrue\uff0c\u5219\u5faa\u73af\u7ee7\u7eed\uff1b\u5426\u5219\u7ed3\u675f\u5faa\u73af\u3002\u6761\u4ef6\u8868\u8fbe\u5f0f\u53ef\u4ee5\u7701\u7565\u4e0d\u5199\uff0c\u4e4b\u540e\u7684\u5206\u53f7\u5fc5\u987b\u8981\u5199\u3002\u7701\u7565\u6761\u4ef6\u8868\u8fbe\u5f0f\u9ed8\u8ba4\u5f62\u6210\u65e0\u9650\u5faa\u73af\u3002 \u7701\u7565\u6761\u4ef6\u8868\u8fbe\u5f0f\u7684\u5199\u6cd5\uff1a package main import \"fmt\" func main(){ a := 3 for ; ; a++ { if a > 5 { fmt.Printf(\"%d \", a) break } } } //6 \u7ed3\u675f\u8bed\u53e5\uff08post\uff09\uff0c\u4e00\u822c\u4e3a\u8d4b\u503c\u8868\u8fbe\u5f0f\uff0c\u4f7f\u63a7\u5236\u53d8\u91cf\u9012\u589e\u6216\u8005\u9012\u51cf\u3002post\u8bed\u53e5\u5c06\u5728\u5faa\u73af\u7684\u6bcf\u6b21\u6210\u529f\u8fed\u4ee3\u4e4b\u540e\u6267\u884c\u3002","title":"\u8bed\u6cd5\u7ed3\u6784\u4e00"},{"location":"%E5%9F%BA%E7%A1%80/1/#_17","text":"for\u5173\u952e\u5b57\u540e\u53ea\u67091\u4e2a\u6761\u4ef6\u8868\u8fbe\u5f0f\uff0c\u6548\u679c\u7c7b\u4f3c\u5176\u4ed6\u7f16\u7a0b\u8bed\u8a00\u4e2d\u7684while\u5faa\u73af\u3002\u5176\u8bed\u6cd5\u7ed3\u6784\u5982\u4e0b\u6240\u793a\u3002 for \u5faa\u73af\u6761\u4ef6condition{ // \u5faa\u73af\u4f53\u4ee3\u7801 } package main import \"fmt\" func main(){ var a int for a<10{ fmt.Print(a) a ++ } } //0123456789","title":"\u8bed\u6cd5\u7ed3\u6784\u4e8c"},{"location":"%E5%9F%BA%E7%A1%80/1/#_18","text":"for\u5173\u952e\u5b57\u540e\u65e0\u8868\u8fbe\u5f0f\uff0c\u6548\u679c\u4e0e\u5176\u4ed6\u7f16\u7a0b\u8bed\u8a00\u7684for(;;) {}\u4e00\u81f4\uff0c\u6b64\u65f6for\u6267\u884c\u65e0\u9650\u5faa\u73af\u3002\u5176\u8bed\u6cd5\u7ed3\u6784\u5982\u4e0b\u6240\u793a\u3002 for { // \u5faa\u73af\u4f53\u4ee3\u7801 } package main import \"fmt\" func main() { var a int for { if a > 5 { break } fmt.Print(a) a++ } } //012345","title":"\u8bed\u6cd5\u7ed3\u6784\u4e09"},{"location":"%E5%9F%BA%E7%A1%80/1/#for-range","text":"for\u5faa\u73af\u7684range\u683c\u5f0f\u5bf9string\u3001slice\u3001array\u3001map\u3001channel\u7b49\u8fdb\u884c\u8fed\u4ee3\u5faa\u73af\u3002 array\u3001slice\u3001string\u8fd4\u56de\u7d22\u5f15\u548c\u503c\uff1bmap\u8fd4\u56de\u952e\u548c\u503c\uff1bchannel\u53ea\u8fd4\u56de\u901a\u9053\u5185\u7684\u503c\u3002 \u5176\u8bed\u6cd5\u7ed3\u6784\u5982\u4e0b\u6240\u793a: for key, value := range oldMap{ newMap[key] = value } package main import \"fmt\" func main() { str := \"123abC\u706b\u5f71\u738b\" for i, value := range str{ fmt.Printf(\"\u7b2c %d \u4f4d\u7684ASCII\u503c=%d\uff0c\u5b57\u7b26\u662f%c \\n\",i, value, value) } } /* \u7b2c 0 \u4f4d\u7684ASCII\u503c=49\uff0c\u5b57\u7b26\u662f1 \u7b2c 1 \u4f4d\u7684ASCII\u503c=50\uff0c\u5b57\u7b26\u662f2 \u7b2c 2 \u4f4d\u7684ASCII\u503c=51\uff0c\u5b57\u7b26\u662f3 \u7b2c 3 \u4f4d\u7684ASCII\u503c=97\uff0c\u5b57\u7b26\u662fa \u7b2c 4 \u4f4d\u7684ASCII\u503c=98\uff0c\u5b57\u7b26\u662fb \u7b2c 5 \u4f4d\u7684ASCII\u503c=67\uff0c\u5b57\u7b26\u662fC \u7b2c 6 \u4f4d\u7684ASCII\u503c=28779\uff0c\u5b57\u7b26\u662f\u706b \u7b2c 9 \u4f4d\u7684ASCII\u503c=24433\uff0c\u5b57\u7b26\u662f\u5f71 \u7b2c 12 \u4f4d\u7684ASCII\u503c=29579\uff0c\u5b57\u7b26\u662f\u738b */","title":"\u8bed\u6cd5\u5f62\u5f0f\u56db\uff08for ... range\uff09"},{"location":"%E5%9F%BA%E7%A1%80/1/#for","text":"","title":"for\u5faa\u73af\u4f7f\u7528\u6848\u4f8b"},{"location":"%E5%9F%BA%E7%A1%80/1/#1100","text":"package main import \"fmt\" func main() { sum := 0 for i:=1; i<=100; i++{ sum += i } fmt.Print(\"sum>>>\",sum) } //5050","title":"\u6c421\uff5e100\u7684\u548c"},{"location":"%E5%9F%BA%E7%A1%80/1/#1303","text":"package main import \"fmt\" func main() { i := 1 sum := 0 //\u6b7b\u5faa\u73af for { if i>30{ break } if i%3 == 0{ sum += i fmt.Printf(\"%d\",i) if i<30{ fmt.Print(\"+\") }else{ fmt.Printf(\" = %d \\n\",sum) } } i++ } } //3+6+9+12+15+18+21+24+27+30 = 165","title":"\u6c421\uff5e30\u6240\u67093\u7684\u500d\u6570\u7684\u6570\u5b57\u7684\u548c"},{"location":"%E5%9F%BA%E7%A1%80/1/#_19","text":"\u622a\u7af9\u7aff\u300232\u7c73\u7af9\u7aff\uff0c\u6bcf\u6b21\u622a1.5\u7c73\uff0c\u81f3\u5c11\u622a\u51e0\u6b21\u4e4b\u540e\u5269\u4f59\u7af9\u7aff\u4e0d\u8db34\u7c73\uff1f package main import \"fmt\" func main() { var length float32 length = 32 i := 0 for length > 4 { length -= 1.5 i += 1 } fmt.Printf(\"\u4e00\u5171\u622a\u4e86 %d \u6b21\", i) } //\u4e00\u5171\u622a\u4e86 19 \u6b21","title":"\u622a\u7af9\u7aff\u95ee\u9898"},{"location":"%E5%9F%BA%E7%A1%80/1/#36-for","text":"","title":"3.6 for\u5faa\u73af\u5d4c\u5957"},{"location":"%E5%9F%BA%E7%A1%80/1/#_20","text":"Go\u8bed\u8a00\u5141\u8bb8\u5728\u5faa\u73af\u4f53\u5185\u4f7f\u7528\u5faa\u73af\u3002\u5176\u8bed\u6cd5\u7ed3\u6784\u5982\u4e0b\u6240\u793a\uff1a for [condition | (init;condition;increment) | Range] { for [condition | (init;condition;increment) | Range] { statement(s); } statement(s); }","title":"\u8bed\u6cd5\u7ed3\u6784"},{"location":"%E5%9F%BA%E7%A1%80/1/#_21","text":"\u6253\u5370\u76f4\u89d2\u4e09\u89d2\u5f62 package main import \"fmt\" func main() { // \u5b9a\u4e49\u884c\u6570 lines := 5 for i:=0;i<lines;i++{ for n:=0;n<2*i+1;n++{ fmt.Print(\"# \") } fmt.Print(\"\\n\") } } /* # # # # # # # # # # # # # # # # # # # # # # # # # */ \u6253\u537099\u4e58\u6cd5\u8868 package main import \"fmt\" func main() { for i:=1;i<=9;i++{ // i\u63a7\u5236\u884c\u6570\uff0c\u662f\u4e58\u6cd5\u8868\u4e2d\u7684\u7b2c\u4e8c\u4e2a\u6570 for j:=1;j<=i;j++{ //j\u63a7\u5236\u5217\u6570\uff0c\u662f\u4e58\u6cd5\u8868\u4e2d\u7684\u7b2c\u4e00\u4e2a\u6570 fmt.Printf(\"%d*%d=%d \",j,i,i*j) } fmt.Println() } } /* 1*1=1 1*2=2 2*2=4 1*3=3 2*3=6 3*3=9 1*4=4 2*4=8 3*4=12 4*4=16 1*5=5 2*5=10 3*5=15 4*5=20 5*5=25 1*6=6 2*6=12 3*6=18 4*6=24 5*6=30 6*6=36 1*7=7 2*7=14 3*7=21 4*7=28 5*7=35 6*7=42 7*7=49 1*8=8 2*8=16 3*8=24 4*8=32 5*8=40 6*8=48 7*8=56 8*8=64 1*9=9 2*9=18 3*9=27 4*9=36 5*9=45 6*9=54 7*9=63 8*9=72 9*9=81 */","title":"\u4f7f\u7528\u6848\u4f8b"},{"location":"%E5%9F%BA%E7%A1%80/1/#150","text":"package main import \"fmt\" func main() { fmt.Println(\"1-50\u4e2d\u7684\u7d20\u6570\uff1a\") // \u5b9a\u4e49\u5c40\u90e8\u53d8\u91cf var a, b int for a=2;a<=50;a++{ for b=2;b<=(a/b);b++{ if a%b == 0{ // \u5982\u679c\u53d1\u73b0\u56e0\u5b50\uff0c\u5219\u4e0d\u662f\u7d20\u6570 break } } if b>(a/b){ fmt.Printf(\"%d \",a) } } } /* 1-50\u4e2d\u7684\u7d20\u6570\uff1a 2 3 5 7 11 13 17 19 23 29 31 37 41 43 47 */","title":"\u4f7f\u7528\u5faa\u73af\u5d4c\u5957\u6765\u8f93\u51fa1\uff5e50\u4e2d\u7684\u7d20\u6570"},{"location":"%E5%9F%BA%E7%A1%80/1/#37","text":"","title":"3.7 \u5faa\u73af\u63a7\u5236\u8bed\u53e5"},{"location":"%E5%9F%BA%E7%A1%80/1/#break","text":"break\uff0c\u8df3\u51fa\u5faa\u73af\u4f53\u3002break\u8bed\u53e5\u7528\u4e8e\u7ec8\u6b62\u5f53\u524d\u6b63\u5728\u6267\u884c\u7684for\u5faa\u73af\uff0c\u5e76\u5f00\u59cb\u6267\u884c\u5faa\u73af\u4e4b\u540e\u7684\u8bed\u53e5\u3002 package main import \"fmt\" func main() { for i:=1;i<100;i++{ if i>5{ break } fmt.Printf(\"%d \",i) } //\u5faa\u73af\u4f53\u5916\u90e8\u7684\u4ee3\u7801 fmt.Println() fmt.Println(\"newline after for loop\") } /* 1 2 3 4 5 newline after for loop */","title":"break\u8bed\u53e5"},{"location":"%E5%9F%BA%E7%A1%80/1/#continue","text":"Go\u8bed\u8a00\u7684continue\u8bed\u53e5\u6709\u70b9\u50cfbreak\u8bed\u53e5\u3002\u4f46\u662fcontinue\u4e0d\u662f\u8df3\u51fa\u5faa\u73af\uff0c\u800c\u662f\u8df3\u8fc7\u5f53\u524d\u5faa\u73af\uff0c\u6267\u884c\u4e0b\u4e00\u6b21\u5faa\u73af\u8bed\u53e5\u3002 for\u5faa\u73af\u4e2d\uff0c\u6267\u884ccontinue\u8bed\u53e5\u4f1a\u89e6\u53d1for\u589e\u91cf\u8bed\u53e5\u7684\u6267\u884c\u3002 \u6362\u8a00\u4e4b\uff0ccontinue\u8bed\u53e5\u7528\u4e8e\u8df3\u8fc7for\u5faa\u73af\u7684\u5f53\u524d\u8fed\u4ee3\uff0c\u5faa\u73af\u5c06\u7ee7\u7eed\u5230\u4e0b\u4e00\u4e2a\u8fed\u4ee3\u3002 package main import \"fmt\" func main() { //\u6253\u53701-10\u4e2d\u7684\u5076\u6570 for i:=1;i<=10;i++{ if i%2==1{ continue } fmt.Printf(\"%d \",i) } } /* 2 4 6 8 10 */ break\u4e0econtinue\u7684\u533a\u522b\u5982\u4e0b: break\u8bed\u53e5\u65e0\u6761\u4ef6\u8df3\u51fa\u5e76\u7ed3\u675f\u5f53\u524d\u7684\u5faa\u73af\uff0c\u7136\u540e\u6267\u884c\u5faa\u73af\u4f53\u540e\u7684\u8bed\u53e5\u3002 continue\u8bed\u53e5\u8df3\u8fc7\u5f53\u524d\u7684\u5faa\u73af\uff0c\u800c\u5f00\u59cb\u6267\u884c\u4e0b\u4e00\u6b21\u5faa\u73af\u3002","title":"continue\u8bed\u53e5"},{"location":"%E5%9F%BA%E7%A1%80/1/#goto","text":"Go\u8bed\u8a00\u7684goto\u8bed\u53e5\u53ef\u4ee5\u65e0\u6761\u4ef6\u5730\u8f6c\u79fb\u5230\u7a0b\u5e8f\u6307\u5b9a\u7684\u884c\u3002 goto\u8bed\u53e5\u901a\u5e38\u4e0e\u6761\u4ef6\u8bed\u53e5\u914d\u5408\u4f7f\u7528\u3002\u53ef\u7528\u6765\u5b9e\u73b0\u6761\u4ef6\u8f6c\u79fb\u3001\u6784\u6210\u5faa\u73af\u3001\u8df3\u51fa\u5faa\u73af\u4f53\u7b49\u529f\u80fd\u3002 \u4f46\u662f\uff0c\u5728\u7ed3\u6784\u5316\u7a0b\u5e8f\u8bbe\u8ba1\u4e2d\u4e00\u822c\u4e0d\u5efa\u8bae\u4f7f\u7528goto\u8bed\u53e5\uff0c\u4ee5\u514d\u9020\u6210\u7a0b\u5e8f\u6d41\u7a0b\u7684\u6df7\u4e71\uff0c\u4f7f\u7406\u89e3\u548c\u8c03\u8bd5\u7a0b\u5e8f\u90fd\u4ea7\u751f\u56f0\u96be\u3002 package main import \"fmt\" func main() { var C, c int // \u8fd9\u91cc\u4e0d\u5199\u5165for\u5faa\u73af\u662f\u56e0\u4e3afor\u8bed\u53e5\u6267\u884c\u4e4b\u521d\u4f1a\u5c06C\u7684\u503c\u53d8\u4e3a1\uff0c // \u5f53goto A\u65f6\uff0cfor\u8bed\u53e5\u4f1a\u91cd\u65b0\u6267\u884c\uff08\u4e0d\u662f\u91cd\u65b0\u4e00\u8f6e\u5faa\u73af\uff09 C = 1 LOOP: for C < 50{ C++ // C=1 \u4e0d\u80fd\u5199\u5165for\u8fd9\u91cc\u5c31\u4e0d\u80fd\u5199\u5165 for c=2;c<C;c++{ if C%c == 0{ goto LOOP // \u82e5\u53d1\u73b0\u56e0\u5b50\u5219\u4e0d\u662f\u7d20\u6570 } } fmt.Printf(\"%d \",C) } } /* 2 3 5 7 11 13 17 19 23 29 31 37 41 43 47 */","title":"goto\u8bed\u53e5"},{"location":"%E5%9F%BA%E7%A1%80/2/","text":"5 Go\u8bed\u8a00\u7684\u5185\u7f6e\u5bb9\u5668 5.1 \u6570\u7ec4 \u6570\u7ec4\u7684\u6982\u5ff5 \u6570\u7ec4\u662f\u76f8\u540c\u7c7b\u578b\u7684\u4e00\u7ec4\u6570\u636e\u6784\u6210\u7684\u957f\u5ea6\u56fa\u5b9a\u7684\u5e8f\u5217\uff0c\u5176\u4e2d\u6570\u636e\u7c7b\u578b\u5305\u542b\u4e86\u57fa\u672c\u6570\u636e\u7c7b\u578b\u3001\u590d\u5408\u6570\u636e\u7c7b\u578b\u548c\u81ea\u5b9a\u4e49\u7c7b\u578b\u3002\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e00\u9879\u88ab\u79f0\u4e3a\u6570\u7ec4\u7684\u5143\u7d20\u3002\u6570\u7ec4\u540d\u662f\u6570\u7ec4\u7684\u552f\u4e00\u6807\u8bc6\u7b26\uff0c\u6570\u7ec4\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u90fd\u662f\u6ca1\u6709\u540d\u5b57\u7684\uff0c\u53ea\u80fd\u901a\u8fc7\u7d22\u5f15\u4e0b\u6807\uff08\u4f4d\u7f6e\uff09\u8fdb\u884c\u8bbf\u95ee\u3002 \u56e0\u4e3a\u6570\u7ec4\u7684\u5185\u5b58\u662f\u4e00\u6bb5\u8fde\u7eed\u7684\u5b58\u50a8\u533a\u57df\uff0c\u6240\u4ee5\u6570\u7ec4\u7684\u68c0\u7d22\u901f\u5ea6\u662f\u975e\u5e38\u5feb\u7684\uff1b \u4f46\u662f\u6570\u7ec4\u4e5f\u6709\u4e00\u5b9a\u7684\u7f3a\u9677\uff0c\u5c31\u662f\u5b9a\u4e49\u540e\u957f\u5ea6\u4e0d\u80fd\u66f4\u6539\u3002 \u6570\u7ec4\u7684\u8bed\u6cd5 Go\u8bed\u8a00\u6570\u7ec4\u58f0\u660e\u9700\u8981\u6307\u5b9a\u5143\u7d20\u7c7b\u578b\u53ca\u5143\u7d20\u4e2a\u6570\uff0c\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u3002 var \u53d8\u91cf\u540d [\u6570\u7ec4\u957f\u5ea6] \u6570\u636e\u7c7b\u578b \u4ee5\u4e0a\u4e3a\u4e00\u7ef4\u6570\u7ec4\u7684\u5b9a\u4e49\u65b9\u5f0f\uff0c\u6570\u7ec4\u957f\u5ea6\u5fc5\u987b\u662f\u6574\u6570\u4e14\u5927\u4e8e0\uff0c\u672a\u521d\u59cb\u5316\u7684\u6570\u7ec4\u4e0d\u662fnil\uff0c\u4e5f\u5c31\u662f\u8bf4\u6ca1\u6709\u7a7a\u6570\u7ec4\uff08\u4e0e\u5207\u7247\u4e0d\u540c\uff09\u3002 \u521d\u59cb\u5316\u6570\u7ec4\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u3002 var nums = [5]{1,2,3,4,5} \u521d\u59cb\u5316\u6570\u7ec4\u4e2d {} \u4e2d\u7684\u5143\u7d20\u4e2a\u6570\u4e0d\u80fd\u5927\u4e8e [] \u4e2d\u7684\u6570\u5b57\u3002 \u5982\u679c\u5ffd\u7565 [] \u4e2d\u7684\u6570\u5b57\uff0c\u4e0d\u8bbe\u7f6e\u6570\u7ec4\u957f\u5ea6\uff0cGo\u8bed\u8a00\u4f1a\u6839\u636e\u5143\u7d20\u7684\u4e2a\u6570\u6765\u8bbe\u7f6e\u6570\u7ec4\u7684\u957f\u5ea6\u3002\u53ef\u4ee5\u5ffd\u7565\u58f0\u660e\u4e2d\u6570\u7ec4\u7684\u957f\u5ea6\u5e76\u5c06\u5176\u66ff\u6362\u4e3a\u201c\u2026\u201d\u3002\u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u8ba1\u7b97\u957f\u5ea6\u3002\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u3002 var nums = [...]int{1,2,3,4,5,6} \u4fee\u6539\u6570\u7ec4\u5185\u5bb9\uff0c\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b: nums[4] = 23 \u4ee5\u4e0a\u5b9e\u4f8b\u8bfb\u53d6\u6570\u7ec4\u7b2c5\u4e2a\u5143\u7d20\u3002\u6570\u7ec4\u5143\u7d20\u53ef\u4ee5\u901a\u8fc7\u7d22\u5f15\uff08\u4f4d\u7f6e\uff09\u6765\u8bfb\u53d6\uff08\u6216\u8005\u4fee\u6539\uff09\uff0c\u7d22\u5f15\u4ece0\u5f00\u59cb\uff0c\u7b2c1\u4e2a\u5143\u7d20\u7d22\u5f15\u4e3a0\uff0c\u7b2c2\u4e2a\u7d22\u5f15\u4e3a1\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002 \u6570\u7ec4\u7684\u957f\u5ea6 \u6570\u7ec4\u7684\u957f\u5ea6\u662f\u6570\u7ec4\u7684\u4e00\u4e2a\u5185\u7f6e\u5e38\u91cf\uff0c\u901a\u8fc7\u5c06\u6570\u7ec4\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9 len()\u51fd\u6570\uff0c\u53ef\u4ee5\u83b7\u5f97\u6570\u7ec4\u7684\u957f\u5ea6\u3002\u5ffd\u7565\u58f0\u660e\u4e2d\u6570\u7ec4\u7684\u957f\u5ea6\u5e76\u5c06\u5176\u66ff\u6362\u4e3a\u201c\u2026\u201d\uff0c\u7f16\u8bd1\u5668\u53ef\u4ee5\u627e\u5230\u957f\u5ea6\u3002\u63a5\u4e0b\u6765\u4f7f\u7528\u6848\u4f8b\u6f14\u793a\u83b7\u53d6\u6570\u7ec4\u957f\u5ea6\u7684\u65b9\u5f0f\uff1a package main import \"fmt\" func main(){ a := [4]int64{12,22,33,55} b := [...]float64{23.3,22,23.123,12.123} fmt.Printf(\"len_a:%d,len_b:%d \\n\",len(a),len(b)) //len_a:4,len_b:4 } \u904d\u5386\u6570\u7ec4 package main import \"fmt\" func main(){ a := [4]int64{12,22,33,55} //b := [...]float64{23.3,22,23.123,12.123} // \u904d\u5386\u65b9\u5f0f1 for i:= 0;i<len(a);i++{ fmt.Printf(\"%d \",a[i]) } fmt.Println() // \u904d\u5386\u65b9\u5f0f2 for _, value := range a{ fmt.Printf(\"%d \",value) } } \u591a\u7ef4\u6570\u7ec4\u2014\u2014\u4e3b\u8981\u662f\u4e8c\u7ef4\u6570\u7ec4 \u7531\u4e8e\u6570\u636e\u7684\u590d\u6742\u7a0b\u5ea6\u4e0d\u4e00\u6837\uff0c\u6570\u7ec4\u53ef\u80fd\u6709\u591a\u4e2a\u4e0b\u6807\u3002\u4e00\u822c\u5c06\u6570\u7ec4\u5143\u7d20\u4e0b\u6807\u7684\u4e2a\u6570\u79f0\u4e3a\u7ef4\u6570\uff0c\u6839\u636e\u7ef4\u6570\uff0c\u53ef\u5c06\u6570\u7ec4\u5206\u4e3a\u4e00\u7ef4\u6570\u7ec4\u3001\u4e8c\u7ef4\u6570\u7ec4\u3001\u4e09\u7ef4\u6570\u7ec4\u3001\u56db\u7ef4\u6570\u7ec4\u7b49\u3002\u4e8c\u7ef4\u53ca\u4ee5\u4e0a\u7684\u6570\u7ec4\u53ef\u79f0\u4e3a\u591a\u7ef4\u6570\u7ec4\u3002 Go\u8bed\u8a00\u7684\u591a\u7ef4\u6570\u7ec4\u58f0\u660e\u65b9\u5f0f\uff1a var variable_name [SIZE1][SIZE2]...[SIZEn] variable_type \u4e8c\u7ef4\u6570\u7ec4 \u5728\u5b9e\u9645\u7684\u5de5\u4f5c\u4e2d\uff0c\u4ec5\u4ec5\u4f7f\u7528\u4e00\u7ef4\u6570\u7ec4\u662f\u8fdc\u8fdc\u4e0d\u591f\u7684\uff0c\u4f8b\u5982\uff0c\u4e00\u4e2a\u5b66\u4e60\u5c0f\u7ec4\u670910\u4e2a\u4eba\uff0c\u6bcf\u4e2a\u4eba\u67093\u95e8\u8bfe\u7684\u8003\u8bd5\u6210\u7ee9\uff0c\u5982\u679c\u4f7f\u7528\u4e00\u7ef4\u6570\u7ec4\u89e3\u51b3\u662f\u5f88\u9ebb\u70e6\u7684\u3002\u8fd9\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e8c\u7ef4\u6570\u7ec4\u3002 \u4e8c\u7ef4\u6570\u7ec4\u662f\u6700\u7b80\u5355\u7684\u591a\u7ef4\u6570\u7ec4\uff0c\u4e8c\u7ef4\u6570\u7ec4\u7684\u672c\u8d28\u4e5f\u662f\u4e00\u4e2a\u4e00\u7ef4\u6570\u7ec4\uff0c\u53ea\u662f\u6570\u7ec4\u6210\u5458\u7531\u57fa\u672c\u6570\u636e\u7c7b\u578b\u53d8\u6210\u4e86\u6784\u9020\u6570\u636e\u7c7b\u578b\uff08\u4e00\u7ef4\u6570\u7ec4\uff09\u3002 \u4e8c\u7ef4\u6570\u7ec4\u7684\u5b9a\u4e49\u65b9\u5f0f\u5982\u4e0b\u3002 var arrayName [x][y] variable_type \u4e8c\u7ef4\u6570\u7ec4\u521d\u59cb\u5316\uff0c\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b: a = [3][4]int{ {0,1,2,3}, // \u7b2c\u4e00\u884c\u7d22\u5f15\u4e3a0 {4,5,6,7}, // \u7b2c\u4e8c\u884c\u7d22\u5f15\u4e3a1 {8,9,10,11} // \u7b2c\u4e09\u884c\u7d22\u5f15\u4e3a2 } \u4e0a\u8ff0\u5b9a\u4e49\u7684\u4e8c\u7ef4\u6570\u7ec4\u5171\u5305\u542b3\u00d74\u4e2a\u5143\u7d20\uff0c\u537312\u4e2a\u5143\u7d20\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u901a\u8fc7\u4e00\u5f20\u56fe\u6765\u63cf\u8ff0\u4e8c\u7ef4\u6570\u7ec4a\u7684\u5143\u7d20\u5206\u5e03\u60c5\u51b5\uff0c\u5982\u56fe5.3\u6240\u793a\u3002 \u4e8c\u7ef4\u6570\u7ec4\u5143\u7d20\u901a\u8fc7\u6307\u5b9a\u5750\u6807\u6765\u8bbf\u95ee\uff0c\u5982\u6570\u7ec4\u4e2d\u7684\u884c\u7d22\u5f15\u4e0e\u5217\u7d22\u5f15\u3002\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u3002 int val = a[2][3] \u4ee5\u4e0a\u5b9e\u4f8b\u8bbf\u95ee\u4e86\u4e8c\u7ef4\u6570\u7ec4val\u7b2c3\u884c\u7684\u7b2c4\u4e2a\u5143\u7d20\u3002 \u4e8c\u7ef4\u6570\u7ec4\u53ef\u4ee5\u4f7f\u7528\u5faa\u73af\u5d4c\u5957\u6765\u8f93\u51fa\u5143\u7d20\uff0c\u5177\u4f53\u8bed\u6cd5\u901a\u8fc7\u6848\u4f8b\u6f14\u793a \u7ed3\u679c\u5982\u4e0b\uff1a \u6570\u7ec4\u662f\u503c\u7c7b\u578b Go\u8bed\u8a00\u4e2d\u7684\u6570\u7ec4\u5e76\u975e\u5f15\u7528\u7c7b\u578b\uff0c\u800c\u662f\u503c\u7c7b\u578b\u3002 \u5f53\u5b83\u4eec\u88ab\u5206\u914d\u7ed9\u4e00\u4e2a\u65b0\u53d8\u91cf\u65f6\uff0c\u4f1a\u5c06\u539f\u59cb\u6570\u7ec4\u590d\u5236\u51fa\u4e00\u4efd\u5206\u914d\u7ed9\u65b0\u53d8\u91cf\u3002 \u56e0\u6b64\u5bf9\u65b0\u53d8\u91cf\u8fdb\u884c\u66f4\u6539\uff0c\u539f\u59cb\u6570\u7ec4\u4e0d\u4f1a\u6709\u53cd\u5e94\u3002 package main import \"fmt\" func main(){ a := [...]string{\"USA\",\"China\",\"India\",\"Germany\"} b := a // \u5c06a\u8d4b\u503c\u7ed9b b[0] = \"Singapore\" fmt.Println(\"a>>>\",a) // [USA China India Germany] fmt.Println(\"b>>>\",b) // [Singapore China India Germany] } \u6ce8\u610f\uff1a\u5c06\u6570\u7ec4\u4f5c\u4e3a\u51fd\u6570\u53c2\u6570\u8fdb\u884c\u4f20\u9012\uff0c\u5b83\u4eec\u5c06\u901a\u8fc7\u503c\u4f20\u9012\uff0c\u539f\u59cb\u6570\u7ec4\u4f9d\u7136\u4fdd\u6301\u4e0d\u53d8\u3002 5.2 \u5207\u7247*** \u5207\u7247\u7684\u6982\u5ff5 Go\u8bed\u8a00\u4e2d\u6570\u7ec4\u7684\u957f\u5ea6\u4e0d\u53ef\u6539\u53d8\uff0c\u4f46\u5728\u5f88\u591a\u5e94\u7528\u573a\u666f\u4e2d\uff0c\u5728\u521d\u59cb\u5b9a\u4e49\u6570\u7ec4\u65f6\uff0c\u6570\u7ec4\u7684\u957f\u5ea6\u5e76\u4e0d\u53ef\u9884\u77e5\uff0c\u8fd9\u6837\u7684\u5e8f\u5217\u96c6\u5408\u65e0\u6cd5\u6ee1\u8db3\u8981\u6c42\u3002Go\u4e2d\u63d0\u4f9b\u4e86\u53e6\u5916\u4e00\u79cd\u5185\u7f6e\u7c7b\u578b\u201c\u5207\u7247\uff08slice\uff09\u201d\uff0c\u5f25\u8865\u4e86\u6570\u7ec4\u7684\u7f3a\u9677\u3002\u5207\u7247\u662f\u53ef\u53d8\u957f\u5ea6\u7684\u5e8f\u5217\uff0c\u5e8f\u5217\u4e2d\u6bcf\u4e2a\u5143\u7d20\u90fd\u662f\u76f8\u540c\u7684\u7c7b\u578b\u3002\u5207\u7247\u7684\u8bed\u6cd5\u548c\u6570\u7ec4\u5f88\u50cf\u3002 \u4ece\u5e95\u5c42\u6765\u770b\uff0c\u5207\u7247\u5f15\u7528\u4e86\u6570\u7ec4\u7684\u5bf9\u8c61\u3002\u5207\u7247\u53ef\u4ee5\u8ffd\u52a0\u5143\u7d20\uff0c\u5728\u8ffd\u52a0\u65f6\u53ef\u80fd\u4f7f\u5207\u7247\u7684\u5bb9\u91cf\u589e\u5927\u3002\u4e0e\u6570\u7ec4\u76f8\u6bd4\uff0c\u5207\u7247\u4e0d\u9700\u8981\u8bbe\u5b9a\u957f\u5ea6\uff0c\u5728[]\u4e2d\u4e0d\u7528\u8bbe\u5b9a\u503c\uff0c\u76f8\u5bf9\u6765\u8bf4\u6bd4\u8f83\u81ea\u7531\u3002 \u5207\u7247\u7684\u6570\u636e\u7ed3\u6784\u53ef\u7406\u89e3\u4e3a\u4e00\u4e2a\u7ed3\u6784\u4f53\uff0c\u8fd9\u4e2a\u7ed3\u6784\u4f53\u5305\u542b\u4e86\u4e09\u4e2a\u5143\u7d20\u3002 \u6307\u9488\uff0c\u6307\u5411\u6570\u7ec4\u4e2d\u5207\u7247\u6307\u5b9a\u7684\u5f00\u59cb\u4f4d\u7f6e\u3002 \u957f\u5ea6\uff0c\u5373\u5207\u7247\u7684\u957f\u5ea6\u3002 \u5bb9\u91cf\uff0c\u4e5f\u5c31\u662f\u5207\u7247\u5f00\u59cb\u4f4d\u7f6e\u5230\u6570\u7ec4\u7684\u6700\u540e\u4f4d\u7f6e\u7684\u957f\u5ea6\u3002 \u5207\u7247\u7684\u8bed\u6cd5 1. \u58f0\u660e\u5207\u7247 \u58f0\u660e\u4e00\u4e2a\u672a\u6307\u5b9a\u957f\u5ea6\u7684\u6570\u7ec4\u6765\u5b9a\u4e49\u5207\u7247\uff0c\u5177\u4f53\u793a\u4f8b\u5982\u4e0b\uff1a var indentifier []type \u5207\u7247\u4e0d\u9700\u8981\u8bf4\u660e\u957f\u5ea6\u3002\u91c7\u7528\u8be5\u58f0\u660e\u65b9\u5f0f\u4e14\u672a\u521d\u59cb\u5316\u7684\u5207\u7247\u4e3a\u7a7a\u5207\u7247\u3002\u8be5\u5207\u7247\u9ed8\u8ba4\u4e3anil\uff0c\u957f\u5ea6\u4e3a0\u3002 \u4f7f\u7528make()\u51fd\u6570\u6765\u521b\u5efa\u5207\u7247\uff0c\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b: var slice1 []type make([]type,len) \u4f7f\u7528make()\u51fd\u6570\u6765\u521b\u5efa\u5207\u7247\u53ef\u4ee5\u7b80\u5199\u4e3a\u5982\u4e0b\u683c\u5f0f: slice1 := make([]type,len) \u521b\u5efa\u5207\u7247\u65f6\u53ef\u4ee5\u6307\u5b9a\u5bb9\u91cf\uff0c\u5176\u4e2dcapacity\u4e3a\u53ef\u9009\u53c2\u6570\uff1amake([]T, length,capacity)\u3002\u8be6\u60c5\u5982\u4e0b\uff1a package main import \"fmt\" func main(){ var nums = make([]int,3,5) fmt.Printf(\"%T\\n\",nums)//[]int fmt.Printf(\"len=%d cap=%d slice=%v\\n\",len(nums),cap(nums),nums) //len=3 cap=5 slice=[0 0 0] } 2. \u521d\u59cb\u5316 \uff081\uff09\u76f4\u63a5\u521d\u59cb\u5316\u5207\u7247\uff0c\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\uff1a s := [] int {1,2,3} \uff082\uff09\u901a\u8fc7\u6570\u7ec4\u622a\u53d6\u6765\u521d\u59cb\u5316\u5207\u7247\uff0c\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b: arr := [5]int {1,2,3,4,5} s := arr[:] \u5207\u7247\u4e2d\u5305\u542b\u6570\u7ec4\u6240\u6709\u5143\u7d20\uff0c\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u3002 s := arr[startIndex : endIndex] \u5c06arr\u4e2d\u4ece\u4e0b\u6807startIndex\u5230endIndex-1\u4e0b\u7684\u5143\u7d20\u521b\u5efa\u4e3a\u4e00\u4e2a\u65b0\u7684\u5207\u7247\uff08\u524d\u95ed\u540e\u5f00\uff09\uff0c\u957f\u5ea6\u4e3aendIndex-startIndex\u3002 \u7f3a\u7701endIndex\u65f6\u8868\u793a\u4e00\u76f4\u5230arr\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\uff0c\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u3002 s := arr[startIndex:] \u7f3a\u7701startIndex\u65f6\u8868\u793a\u4ecearr\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u5f00\u59cb\uff0c\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u3002 s := arr[:endIndex] \uff083\uff09\u901a\u8fc7\u5207\u7247\u622a\u53d6\u6765\u521d\u59cb\u5316\u5207\u7247\u3002 \u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e\u4e0b\u9650\u53ca\u4e0a\u9650\u6765\u8bbe\u7f6e\u622a\u53d6\u5207\u7247\uff1a[lower-bound:upper-bound]: package main import \"fmt\" func main(){ // \u521b\u5efa\u5207\u7247 nums := []int{0,1,2,3,4,5,6,7,8,9} printSlice(nums) //len=10,cap=10,slice=[0 1 2 3 4 5 6 7 8 9] // \u4ece\u7d22\u5f151(\u5305\u542b)\u52304(\u4e0d\u5305\u542b) fmt.Println(\"1->4:::\",nums[1:4]) //1->4::: [1 2 3] // \u4f7f\u7528\u5207\u7247\u521d\u59cb\u5316 nums1 := nums[1:4] printSlice(nums1)//len=3,cap=9,slice=[1 2 3] } func printSlice(x []int){ fmt.Printf(\"len=%d,cap=%d,slice=%v\\n\",len(x),cap(x),x) } Len()\u548ccap()\u51fd\u6570 \u5207\u7247\u7684\u957f\u5ea6\u662f\u5207\u7247\u4e2d\u5143\u7d20\u7684\u6570\u91cf\u3002 \u5207\u7247\u7684\u5bb9\u91cf\u662f\u4ece\u521b\u5efa\u5207\u7247\u7684\u7d22\u5f15\u5f00\u59cb\u7684\u5e95\u5c42\u6570\u7ec4\u4e2d\u5143\u7d20\u7684\u6570\u91cf\u3002 \u5207\u7247\u53ef\u4ee5\u901a\u8fc7len()\u65b9\u6cd5\u83b7\u53d6\u957f\u5ea6\uff0c\u53ef\u4ee5\u901a\u8fc7cap()\u65b9\u6cd5\u83b7\u53d6\u5bb9\u91cf\u3002\u6570\u7ec4\u8ba1\u7b97cap()\u7ed3\u679c\u4e0elen()\u76f8\u540c\u3002 \u5207\u7247\u662f\u5f15\u7528\u7c7b\u578b *** \u5207\u7247\u6ca1\u6709\u81ea\u5df1\u7684\u4efb\u4f55\u6570\u636e\u3002\u5b83\u53ea\u662f\u5e95\u5c42\u6570\u7ec4\u7684\u4e00\u4e2a\u5f15\u7528\u3002\u5bf9\u5207\u7247\u6240\u505a\u7684\u4efb\u4f55\u4fee\u6539\u90fd\u5c06\u53cd\u6620\u5728\u5e95\u5c42\u6570\u7ec4\u4e2d\u3002\u6570\u7ec4\u662f\u503c\u7c7b\u578b\uff0c\u800c\u5207\u7247\u662f\u5f15\u7528\u7c7b\u578b\uff0c\u4e24\u8005\u7684\u533a\u522b\u5982\u4e0b\u4f8b\u6240\u793a\uff1a package main import \"fmt\" func main(){ a := [4]float64{56.1,22.2,33.12,55.45} b := []int{2,3,5} fmt.Printf(\"\u53d8\u91cfa \u2014\u2014 \u5730\u5740\uff1a%p\uff0c\u7c7b\u578b\uff1a%T\uff0c\u6570\u503c\uff1a%v\uff0c\u957f\u5ea6\uff1a%d\\n\",&a,a,a,len(a)) fmt.Printf(\"\u53d8\u91cfb \u2014\u2014 \u5730\u5740\uff1a%p\uff0c\u7c7b\u578b\uff1a%T\uff0c\u6570\u503c\uff1a%v\uff0c\u957f\u5ea6\uff1a%d\\n\",&b,b,b,len(b)) c := a d := b fmt.Printf(\"\u53d8\u91cfc \u2014\u2014 \u5730\u5740\uff1a%p\uff0c\u7c7b\u578b\uff1a%T\uff0c\u6570\u503c\uff1a%v\uff0c\u957f\u5ea6\uff1a%d\\n\",&c,c,c,len(c)) fmt.Printf(\"\u53d8\u91cfd \u2014\u2014 \u5730\u5740\uff1a%p\uff0c\u7c7b\u578b\uff1a%T\uff0c\u6570\u503c\uff1a%v\uff0c\u957f\u5ea6\uff1a%d\\n\",&d,d,d,len(d)) c[1] = 666 fmt.Println(\"a=\",a,\"c=\",c) // a= [56.1 22.2 33.12 55.45] c= [56.1 666 33.12 55.45] // \u56e0\u4e3a\u5207\u7247\u662f\u5f15\u7528\u7c7b\u578b\uff08\u8ddfPython\u4e00\u6837\uff01\uff09\u6240\u4ee5\u6539\u53d8d\u7684\u8bdd\u540c\u65f6\u4f1a\u5f71\u54cdb\u4e2d\u7684\u6570\u636e\uff01\uff01\uff01 d[1] = 999 fmt.Println(\"b=\",b,\"d=\",d) // b= [2 999 5] d= [2 999 5] } append()\u548ccopy()\u51fd\u6570 \u4e24\u4e2a\u65b9\u6cd5\u4e0d\u9002\u7528\u4e8e\u6570\u7ec4\u3002 \u51fd\u6570append()\u7528\u4e8e\u5f80\u5207\u7247\u4e2d\u8ffd\u52a0\u65b0\u5143\u7d20\uff0c\u53ef\u4ee5\u5411\u5207\u7247\u91cc\u9762\u8ffd\u52a0\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u5143\u7d20\uff0c\u4e5f\u53ef\u4ee5\u8ffd\u52a0\u4e00\u4e2a\u5207\u7247\u3002append()\u4f1a\u6539\u53d8\u5207\u7247\u6240\u5f15\u7528\u7684\u6570\u7ec4\u7684\u5185\u5bb9\uff0c\u4ece\u800c\u5f71\u54cd\u5230\u5f15\u7528\u540c\u4e00\u6570\u7ec4\u7684\u5176\u4ed6\u5207\u7247\u3002\u5f53\u4f7f\u7528append()\u8ffd\u52a0\u5143\u7d20\u5230\u5207\u7247\u65f6\uff0c\u5982\u679c\u5bb9\u91cf\u4e0d\u591f\uff08\u4e5f\u5c31\u662f(cap-len) == 0\uff09\uff0cGo\u5c31\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5185\u5b58\u5730\u5740\u6765\u50a8\u5b58\u5143\u7d20\u3002 \u51fd\u6570copy()\u4f1a\u590d\u5236\u5207\u7247\u5143\u7d20\uff0c\u5c06\u6e90\u5207\u7247\u4e2d\u7684\u5143\u7d20\u590d\u5236\u5230\u76ee\u6807\u5207\u7247\u4e2d\uff0c\u8fd4\u56de\u590d\u5236\u7684\u5143\u7d20\u7684\u4e2a\u6570\u3002 copy()\u65b9\u6cd5\u4e0d\u4f1a\u5efa\u7acb\u6e90\u5207\u7247\u4e0e\u76ee\u6807\u5207\u7247\u4e4b\u95f4\u7684\u8054\u7cfb\u3002 \u4e5f\u5c31\u662f\u4e24\u4e2a\u5207\u7247\u4e0d\u5b58\u5728\u8054\u7cfb\uff0c\u5176\u4e2d\u4e00\u4e2a\u4fee\u6539\u4e0d\u5f71\u54cd\u53e6\u4e00\u4e2a\u3002 \u5220\u9664\u7b2c\u4e00\u4e2a\u6216\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u7684\u65b9\u6cd5\uff1a \u5220\u9664\u4e2d\u95f4\u5143\u7d20\u7684\u65b9\u6cd5\uff1a append()\u4e0ecopy()\u7684\u5bf9\u6bd4\u6848\u4f8b\u4e00*** package main import \"fmt\" // \u8f93\u51fa\u5207\u7247\u683c\u5f0f\u5316\u4fe1\u606f func printSlices(name string,x []int){ fmt.Print(name,\"\\t\") fmt.Printf(\"addr:%p len=%d cap=%d slice=%v \\n\",x,len(x),cap(x),x) } func main(){ fmt.Println(\"1. ----------------------------\") numbers := make([]int, 0, 20) printSlices(\"numbers\",numbers) //numbers addr:0xc00006e000 len=0 cap=20 slice=[] //append numbers = append(numbers,0,1) printSlices(\"numbers\",numbers) //numbers addr:0xc00006e000 len=2 cap=20 slice=[0 1] fmt.Println(\"2. ----------------------------\") //\u8ffd\u52a0\u4e00\u4e2a\u5207\u7247 s1 := []int{100,200,300,400,500} numbers = append(numbers,s1...) printSlices(\"numbers\",numbers) // numbers addr:0xc000134000 len=7 cap=20 slice=[0 1 100 200 300 400 500] fmt.Println(\"3. ----------------------------\") // \u5207\u7247\u5220\u9664\u5143\u7d20 // \u5220\u9664\u7b2c\u4e00\u4e2a\u5143\u7d20 numbers = numbers[1:] // \u5220\u9664\u6700\u540e\u4e00\u4e2a\u5143\u7d20 numbers = numbers[:len(numbers)-1] // \u5220\u9664\u4e2d\u95f4\u5143\u7d20 a := int(len(numbers)/2) // \u4e2d\u95f4\u6570 numbers = append(numbers[:a],numbers[a+1:]...) fmt.Println(\"4. ----------------------------\") // \u521b\u5efa\u5207\u7247 mumbers1 \u662f\u4e4b\u524d\u5207\u7247\u7684\u4e24\u500d\u5bb9\u91cf numbers1 := make([]int,len(numbers),(cap(numbers))*2) // \u590d\u5236numbers\u7684\u5185\u5bb9\u5230numbers1 \u2014\u2014 count\u662f\u590d\u5236\u7684\u4e2a\u6570 count := copy(numbers1,numbers) fmt.Println(\"\u590d\u5236\u7684\u4e2a\u6570\uff1a\",count) // 4 printSlices(\"numbers1\",numbers1)//numbers1 addr:0xc000070000 len=4 cap=38 slice=[1 100 300 400] /* numbers1\u4e0enumbers\u4e24\u8005\u4e0d\u5b58\u5728\u8054\u7cfb\uff0c\u66f4\u6539numbers\u7684\u503c\u4e0d\u4f1a\u5f71\u54cdnumbers1\uff01 \u8bf4\u660ecopy\u65b9\u6cd5\u662f\u4e0d\u4f1a\u5efa\u7acb\u4e24\u4e2a\u5207\u7247\u7684\u8054\u7cfb\u7684\uff01 */ numbers[0] = 666 numbers1[0] = 888 printSlices(\"numbers\",numbers)//numbers addr:0xc000134008 len=4 cap=19 slice=[666 100 300 400] printSlices(\"numbers1\",numbers1)//numbers1 addr:0xc000136000 len=4 cap=38 slice=[888 100 300 400] } append()\u4e0ecopy()\u7684\u5bf9\u6bd4\u6848\u4f8b\u4e8c*** package main import ( \"fmt\" \"strconv\" ) // \u8f93\u51fa\u5207\u7247\u683c\u5f0f\u5316\u4fe1\u606f func printSlices(name string,x []string){ fmt.Print(name,\" \") fmt.Printf(\"addr:%p len=%d cap=%d slice=%v \\n\",x,len(x),cap(x),x) } func main(){ // \u601d\u8003\uff1a\u4f7f\u7528\u90a3\u79cd\u521d\u59cb\u5316\u5207\u7247\u7684\u65b9\u5f0f\u66f4\u9ad8\u6548\uff1f var sa []string //sa := make([]string,0,10) printSlices(\"sa\",sa) // \u5f53\u4f7f\u7528append\u8ffd\u52a0\u5143\u7d20\u5230\u5207\u7247\u65f6\uff0c\u5982\u679c\u5bb9\u91cf\u4e0d\u591f\uff0cGo\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5207\u7247\u53d8\u91cf\u6765\u5b58\u50a8\u5143\u7d20 for i := 0; i < 10; i++{ sa = append(sa,strconv.Itoa(i)) printSlices(\"sa\",sa) } printSlices(\"sa\",sa) } // \u53ef\u4ee5\u770b\u5230\u5bb9\u91cfcap\u7684\u503c\u5728\u589e\u52a0\uff01 /* sa addr:0x0 len=0 cap=0 slice=[] sa addr:0xc00008e1f0 len=1 cap=1 slice=[0] sa addr:0xc0000a6060 len=2 cap=2 slice=[0 1] sa addr:0xc0000b2040 len=3 cap=4 slice=[0 1 2] sa addr:0xc0000b2040 len=4 cap=4 slice=[0 1 2 3] sa addr:0xc0000bc000 len=5 cap=8 slice=[0 1 2 3 4] sa addr:0xc0000bc000 len=6 cap=8 slice=[0 1 2 3 4 5] sa addr:0xc0000bc000 len=7 cap=8 slice=[0 1 2 3 4 5 6] sa addr:0xc0000bc000 len=8 cap=8 slice=[0 1 2 3 4 5 6 7] sa addr:0xc0000be000 len=9 cap=16 slice=[0 1 2 3 4 5 6 7 8] sa addr:0xc0000be000 len=10 cap=16 slice=[0 1 2 3 4 5 6 7 8 9] sa addr:0xc0000be000 len=10 cap=16 slice=[0 1 2 3 4 5 6 7 8 9] */ 5.3 map map\u7684\u6982\u5ff5 Go \u8bed\u8a00\u63d0\u4f9b\u4e86\u5185\u7f6e\u7c7b\u578b map\uff0c\u5b83\u5c06\u4e00\u4e2a\u503c\u4e0e\u4e00\u4e2a\u952e\u5173\u8054\u8d77\u6765\uff0c\u53ef\u4ee5\u4f7f\u7528\u76f8\u5e94\u7684\u952e\u68c0\u7d22\u503c\u3002\u8fd9\u79cd\u7ed3\u6784\u5728\u5176\u4ed6\u8d44\u6599\u4e2d\u8bd1\u6210\u5730\u56fe\u3001\u6620\u5c04\u6216\u5b57\u5178\uff0c\u4f46\u662f\u5728Go\u8bed\u8a00\u4e2d\u4e60\u60ef\u4e0a\u7ffb\u8bd1\u6210\u96c6\u5408\u3002map\u6b63\u5982\u73b0\u5b9e\u751f\u6d3b\u4e2d\u7684\u5b57\u5178\u4e00\u6837\uff0c\u4f7f\u7528\u8bcd-\u8bed\u4e49\u8fdb\u884c\u6570\u636e\u7684\u6784\u5efa\uff0c\u5176\u4e2d\u8bcd\u5bf9\u5e94\u952e\uff08key\uff09\uff0c\u8bed\u4e49\u5bf9\u5e94\u503c\uff08value\uff09\uff0c\u5373\u952e\u4e0e\u503c\u6784\u6210\u6620\u5c04\u7684\u5173\u7cfb\uff0c\u901a\u5e38\u5c06\u4e24\u8005\u79f0\u4e3a\u952e\u503c\u5bf9\uff0c\u8fd9\u6837\u901a\u8fc7\u952e\u53ef\u4ee5\u5feb\u901f\u627e\u5230\u5bf9\u5e94\u7684\u503c\u3002map\u662f\u4e00\u79cd\u96c6\u5408\uff0c\u53ef\u4ee5\u50cf\u904d\u5386\u6570\u7ec4\u6216\u5207\u7247\u90a3\u6837\u53bb\u904d\u5386\u5b83\u3002\u56e0\u4e3amap\u662f\u7531Hash\u8868\u5b9e\u73b0\u7684\uff0c\u6240\u4ee5\u5bf9map\u7684\u8bfb\u53d6\u987a\u5e8f\u4e0d\u56fa\u5b9a\u3002 map\u662f\u65e0\u5e8f\u7684\uff0c\u6bcf\u6b21\u6253\u5370\u51fa\u6765\u7684map\u90fd\u4f1a\u4e0d\u4e00\u6837\uff0c\u5b83\u4e0d\u80fd\u901a\u8fc7index\u83b7\u53d6\uff0c\u800c\u5fc5\u987b\u901a\u8fc7key\u83b7\u53d6\u3002 map\u7684\u957f\u5ea6\u662f\u4e0d\u56fa\u5b9a\u7684\uff0c\u548c\u5207\u7247\u4e00\u6837\u53ef\u4ee5\u6269\u5c55\u3002\u5185\u7f6e\u7684len()\u51fd\u6570\u540c\u6837\u9002\u7528\u4e8emap\uff0c\u8fd4\u56demap\u62e5\u6709\u7684\u952e\u503c\u5bf9\u7684\u6570\u91cf\u3002 \u4f46\u662fmap\u4e0d\u80fd\u901a\u8fc7cap()\u51fd\u6570\u8ba1\u7b97\u5bb9\u91cf\uff08\u6216\u8005\u8bf4cap()\u51fd\u6570\u7684\u53c2\u6570\u4e0d\u53ef\u4ee5\u662fmap\uff09\u3002 \u540c\u4e00\u4e2amap\u4e2dkey\u5fc5\u987b\u4fdd\u8bc1\u552f\u4e00\u3002 key\u7684\u6570\u636e\u7c7b\u578b\u5fc5\u987b\u662f\u53ef\u53c2\u4e0e\u6bd4\u8f83\u8fd0\u7b97\u7684\u7c7b\u578b \uff0c\u4e5f\u5c31\u662f\u652f\u6301==\u6216!=\u64cd\u4f5c\u7684\u7c7b\u578b\uff0c \u5982\u5e03\u5c14\u578b\u3001\u6574\u578b\u3001\u6d6e\u70b9\u578b\u3001\u5b57\u7b26\u4e32\u3001\u6570\u7ec4\u3002\u5207\u7247\u3001\u51fd\u6570\u7b49\u5f15\u7528\u7c7b\u578b\u5219\u4e0d\u80fd\u4f5c\u4e3akey\u7684\u6570\u636e\u7c7b\u578b \u3002 map\u7684value\u53ef\u4ee5\u662f\u4efb\u4f55\u6570\u636e\u7c7b\u578b\u3002map\u548c\u5207\u7247\u4e00\u6837\uff0c\u4e5f\u662f\u4e00\u79cd\u5f15\u7528\u7c7b\u578b\u3002 map\u7684\u8bed\u6cd5 *** map\u7684\u58f0\u660e \u53ef\u4ee5\u4f7f\u7528var\u5173\u952e\u5b57\u6765\u5b9a\u4e49map\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5185\u5efa\u51fd\u6570make()\u3002 \uff081\uff09\u4f7f\u7528var\u5173\u952e\u5b57\u5b9a\u4e49map var \u53d8\u91cf\u540d map[key\u7c7b\u578b] value\u7c7b\u578b \u4f7f\u7528var\u5173\u952e\u5b57\u58f0\u660emap\uff0c\u672a\u521d\u59cb\u5316\u7684map\u7684\u9ed8\u8ba4\u503c\u662fnil\u3002 nil map\u4e0d\u80fd\u5b58\u653e\u952e\u503c\u5bf9\u3002\u5982\u679c\u8981\u4f7f\u7528map\u5b58\u50a8\u952e\u503c\u5bf9\uff0c\u5fc5\u987b\u5728\u58f0\u660e\u65f6\u521d\u59cb\u5316\uff0c\u6216\u8005\u4f7f\u7528make()\u51fd\u6570\u5206\u914d\u5230\u5185\u5b58\u7a7a\u95f4\u3002 \uff082\uff09\u4f7f\u7528make()\u51fd\u6570 \u53d8\u91cf\u540d := make(map[key\u7c7b\u578b]value\u7c7b\u578b) \u8be5\u58f0\u660e\u65b9\u5f0f\uff0c\u5982\u679c\u4e0d\u521d\u59cb\u5316map\uff0cmap\u4e5f\u4e0d\u7b49\u4e8enil\u3002 map\u7684\u521d\u59cb\u5316\u8d4b\u503c\u548c\u904d\u5386 package main import ( \"fmt\" ) func main(){ // 1. \u58f0\u660e\u65f6\u540c\u65f6\u521d\u59cb\u5316 var country = map[string]string{ \"China\":\"Beijing\", \"Japan\":\"Tokyo\", \"USA\":\"DC\", } fmt.Println(country) // map[China:Beijing Japan:Tokyo USA:DC] // \u77ed\u53d8\u91cf\u58f0\u660e\u521d\u59cb\u5316\u65b9\u5f0f fating := map[string]float64{ \"a\":12.23, \"b\":22.24, \"c\":34.21, } fmt.Println(fating) // map[a:12.23 b:22.24 c:34.21] // 2. \u521b\u5efamap\u540e\u518d\u8d4b\u503c countryMap := make(map[string]string) countryMap[\"China\"] = \"Beijing\" countryMap[\"Japan\"] = \"Tokyo\" countryMap[\"France\"] = \"paris\" fmt.Println(countryMap) // map[China:Beijing France:paris Japan:Tokyo] // 3. \u904d\u5386map\uff08\u65e0\u5e8f\uff09 // \uff081\uff09key\u3001value\u90fd\u904d\u5386 for k, v := range countryMap{ fmt.Println(\"\u56fd\u5bb6\uff1a\",k,\" \u9996\u90fd\uff1a\",v) } /* \u56fd\u5bb6\uff1a China \u9996\u90fd\uff1a Beijing \u56fd\u5bb6\uff1a Japan \u9996\u90fd\uff1a Tokyo \u56fd\u5bb6\uff1a France \u9996\u90fd\uff1a paris */ // (2) \u53ea\u5c55\u793akey for k := range countryMap{ fmt.Println(k) } // \uff083\uff09\u53ea\u5c55\u793avalue for _, value := range countryMap{ fmt.Println(value) } } \u67e5\u770b\u5143\u7d20\u662f\u5426\u5728map\u4e2d *** \u53ef\u4ee5\u901a\u8fc7key\u83b7\u53d6map\u4e2d\u5bf9\u5e94\u7684value\u503c\u3002\u8bed\u6cd5\u4e3a\uff1amap[key]\u3002\u5f53key\u4e0d\u5b58\u5728\u65f6\uff0c\u4f1a\u5f97\u5230\u8be5value\u503c\u7c7b\u578b\u7684\u9ed8\u8ba4\u503c\uff0c\u6bd4\u5982string\u7c7b\u578b\u5f97\u5230\u7a7a\u5b57\u7b26\u4e32\uff0cint\u7c7b\u578b\u5f97\u52300\uff0c\u7a0b\u5e8f\u4e0d\u4f1a\u62a5\u9519\u3002 \u6240\u4ee5\u53ef\u4ee5\u901a\u8fc7value, ok := map[key]\u83b7\u77e5key/value\u662f\u5426\u5b58\u5728\u3002ok\u662fbool\u578b\uff0c\u5982\u679cok\u662ftrue\uff0c\u5219\u8be5\u952e\u503c\u5bf9\u5b58\u5728\uff0c\u5426\u5219\u4e0d\u5b58\u5728\u3002 package main import ( \"fmt\" ) func main(){ var country = map[string]string{ \"China\":\"Beijing\", \"Japan\":\"Tokyo\", \"USA\":\"DC\", } fmt.Println(country) // map[China:Beijing Japan:Tokyo USA:DC] // \u67e5\u770b\u5143\u7d20\u662f\u5426\u5728map\u4e2d query_str := \"China\" value, ok := country[query_str] fmt.Printf(\"%q\\n\",value) // \"\" fmt.Printf(\"%T , %v\\n\",ok,ok) //bool , false if ok{ fmt.Println(\"\u627e\u5230\u4e86\uff01\") }else{ fmt.Println(\"\u6ca1\u627e\u5230\uff01\") } // \u6216\u8005 if value, ok := country[query_str];ok{ fmt.Println(\"\u627e\u5230\u4e86\uff01\uff0c\u9996\u90fd\uff1a\",value) }else{ fmt.Println(\"\u6ca1\u5f97\uff01\") } } delete()\u51fd\u6570 delete(map, key) \u51fd\u6570\u7528\u4e8e\u5220\u9664\u96c6\u5408\u7684\u67d0\u4e2a\u5143\u7d20\uff0c\u53c2\u6570\u4e3amap\u548c\u5176\u5bf9\u5e94\u7684key\u3002\u5220\u9664\u51fd\u6570\u4e0d\u8fd4\u56de\u4efb\u4f55\u503c\u3002 package main import ( \"fmt\" ) func main(){ var country = map[string]string{ \"China\":\"Beijing\", \"Japan\":\"Tokyo\", \"USA\":\"DC\", } fmt.Println(country) // map[China:Beijing Japan:Tokyo USA:DC] // \u6839\u636ekey\u5220\u9664map\u4e2d\u7684\u67d0\u4e2a\u5143\u7d20 fmt.Println(\"\u5220\u9664\u524d\uff1a\",country) //\u5220\u9664\u524d\uff1a map[China:Beijing Japan:Tokyo USA:DC] if _,ok := country[\"Japan\"];ok{ delete(country,\"China\") } fmt.Println(\"\u5220\u9664\u540e\uff1a\",country) //\u5220\u9664\u540e\uff1a map[Japan:Tokyo USA:DC] // \u6e05\u7a7amap country = make(map[string]string) fmt.Println(\"\u6e05\u7a7a\u540e\uff1a\",country) //\u6e05\u7a7a\u540e\uff1a map[] } Go\u8bed\u8a00\u6ca1\u6709\u4e3amap\u63d0\u4f9b\u6e05\u7a7a\u6240\u6709\u5143\u7d20\u7684\u51fd\u6570\uff0c\u6e05\u7a7amap\u7684\u552f\u4e00\u529e\u6cd5\u662f\u91cd\u65b0make\u4e00\u4e2a\u65b0\u7684map\u3002\u4e0d\u7528\u62c5\u5fc3\u5783\u573e\u56de\u6536\u7684\u6548\u7387\uff0cGo\u8bed\u8a00\u7684\u5783\u573e\u56de\u6536\u6bd4\u5199\u4e00\u4e2a\u6e05\u7a7a\u51fd\u6570\u66f4\u9ad8\u6548\u3002 map\u662f\u5f15\u7528\u7c7b\u578b map\u4e0e\u5207\u7247\u76f8\u4f3c\uff0c\u90fd\u662f\u5f15\u7528\u7c7b\u578b\u3002 \u5c06\u4e00\u4e2amap\u8d4b\u503c\u7ed9\u4e00\u4e2a\u65b0\u7684\u53d8\u91cf\u65f6\uff0c\u5b83\u4eec\u6307\u5411\u540c\u4e00\u5757\u5185\u5b58\uff08\u5e95\u5c42\u6570\u636e\u7ed3\u6784\uff09\u3002\u56e0\u6b64\uff0c\u4fee\u6539\u4e24\u4e2a\u53d8\u91cf\u7684\u5185\u5bb9\u90fd\u80fd\u591f\u5f15\u8d77\u5b83\u4eec\u6240\u6307\u5411\u7684\u6570\u636e\u53d1\u751f\u53d8\u5316\u3002 package main import ( \"fmt\" ) func main(){ var country = map[string]string{ \"China\":\"Beijing\", \"Japan\":\"Tokyo\", \"USA\":\"DC\", } fmt.Println(country) // map[China:Beijing Japan:Tokyo USA:DC] newCountry := country newCountry[\"USA\"] = \"CCCCCC\" fmt.Println(country) // map[China:Beijing Japan:Tokyo USA:CCCCCC] fmt.Println(newCountry) // map[China:Beijing Japan:Tokyo USA:CCCCCC] }","title":"02 \u5bb9\u5668\u7c7b\u578b"},{"location":"%E5%9F%BA%E7%A1%80/2/#_1","text":"","title":""},{"location":"%E5%9F%BA%E7%A1%80/2/#5-go","text":"","title":"5 Go\u8bed\u8a00\u7684\u5185\u7f6e\u5bb9\u5668"},{"location":"%E5%9F%BA%E7%A1%80/2/#51","text":"","title":"5.1 \u6570\u7ec4"},{"location":"%E5%9F%BA%E7%A1%80/2/#_2","text":"\u6570\u7ec4\u662f\u76f8\u540c\u7c7b\u578b\u7684\u4e00\u7ec4\u6570\u636e\u6784\u6210\u7684\u957f\u5ea6\u56fa\u5b9a\u7684\u5e8f\u5217\uff0c\u5176\u4e2d\u6570\u636e\u7c7b\u578b\u5305\u542b\u4e86\u57fa\u672c\u6570\u636e\u7c7b\u578b\u3001\u590d\u5408\u6570\u636e\u7c7b\u578b\u548c\u81ea\u5b9a\u4e49\u7c7b\u578b\u3002\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e00\u9879\u88ab\u79f0\u4e3a\u6570\u7ec4\u7684\u5143\u7d20\u3002\u6570\u7ec4\u540d\u662f\u6570\u7ec4\u7684\u552f\u4e00\u6807\u8bc6\u7b26\uff0c\u6570\u7ec4\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u90fd\u662f\u6ca1\u6709\u540d\u5b57\u7684\uff0c\u53ea\u80fd\u901a\u8fc7\u7d22\u5f15\u4e0b\u6807\uff08\u4f4d\u7f6e\uff09\u8fdb\u884c\u8bbf\u95ee\u3002 \u56e0\u4e3a\u6570\u7ec4\u7684\u5185\u5b58\u662f\u4e00\u6bb5\u8fde\u7eed\u7684\u5b58\u50a8\u533a\u57df\uff0c\u6240\u4ee5\u6570\u7ec4\u7684\u68c0\u7d22\u901f\u5ea6\u662f\u975e\u5e38\u5feb\u7684\uff1b \u4f46\u662f\u6570\u7ec4\u4e5f\u6709\u4e00\u5b9a\u7684\u7f3a\u9677\uff0c\u5c31\u662f\u5b9a\u4e49\u540e\u957f\u5ea6\u4e0d\u80fd\u66f4\u6539\u3002","title":"\u6570\u7ec4\u7684\u6982\u5ff5"},{"location":"%E5%9F%BA%E7%A1%80/2/#_3","text":"Go\u8bed\u8a00\u6570\u7ec4\u58f0\u660e\u9700\u8981\u6307\u5b9a\u5143\u7d20\u7c7b\u578b\u53ca\u5143\u7d20\u4e2a\u6570\uff0c\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u3002 var \u53d8\u91cf\u540d [\u6570\u7ec4\u957f\u5ea6] \u6570\u636e\u7c7b\u578b \u4ee5\u4e0a\u4e3a\u4e00\u7ef4\u6570\u7ec4\u7684\u5b9a\u4e49\u65b9\u5f0f\uff0c\u6570\u7ec4\u957f\u5ea6\u5fc5\u987b\u662f\u6574\u6570\u4e14\u5927\u4e8e0\uff0c\u672a\u521d\u59cb\u5316\u7684\u6570\u7ec4\u4e0d\u662fnil\uff0c\u4e5f\u5c31\u662f\u8bf4\u6ca1\u6709\u7a7a\u6570\u7ec4\uff08\u4e0e\u5207\u7247\u4e0d\u540c\uff09\u3002 \u521d\u59cb\u5316\u6570\u7ec4\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u3002 var nums = [5]{1,2,3,4,5} \u521d\u59cb\u5316\u6570\u7ec4\u4e2d {} \u4e2d\u7684\u5143\u7d20\u4e2a\u6570\u4e0d\u80fd\u5927\u4e8e [] \u4e2d\u7684\u6570\u5b57\u3002 \u5982\u679c\u5ffd\u7565 [] \u4e2d\u7684\u6570\u5b57\uff0c\u4e0d\u8bbe\u7f6e\u6570\u7ec4\u957f\u5ea6\uff0cGo\u8bed\u8a00\u4f1a\u6839\u636e\u5143\u7d20\u7684\u4e2a\u6570\u6765\u8bbe\u7f6e\u6570\u7ec4\u7684\u957f\u5ea6\u3002\u53ef\u4ee5\u5ffd\u7565\u58f0\u660e\u4e2d\u6570\u7ec4\u7684\u957f\u5ea6\u5e76\u5c06\u5176\u66ff\u6362\u4e3a\u201c\u2026\u201d\u3002\u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u8ba1\u7b97\u957f\u5ea6\u3002\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u3002 var nums = [...]int{1,2,3,4,5,6} \u4fee\u6539\u6570\u7ec4\u5185\u5bb9\uff0c\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b: nums[4] = 23 \u4ee5\u4e0a\u5b9e\u4f8b\u8bfb\u53d6\u6570\u7ec4\u7b2c5\u4e2a\u5143\u7d20\u3002\u6570\u7ec4\u5143\u7d20\u53ef\u4ee5\u901a\u8fc7\u7d22\u5f15\uff08\u4f4d\u7f6e\uff09\u6765\u8bfb\u53d6\uff08\u6216\u8005\u4fee\u6539\uff09\uff0c\u7d22\u5f15\u4ece0\u5f00\u59cb\uff0c\u7b2c1\u4e2a\u5143\u7d20\u7d22\u5f15\u4e3a0\uff0c\u7b2c2\u4e2a\u7d22\u5f15\u4e3a1\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002","title":"\u6570\u7ec4\u7684\u8bed\u6cd5"},{"location":"%E5%9F%BA%E7%A1%80/2/#_4","text":"\u6570\u7ec4\u7684\u957f\u5ea6\u662f\u6570\u7ec4\u7684\u4e00\u4e2a\u5185\u7f6e\u5e38\u91cf\uff0c\u901a\u8fc7\u5c06\u6570\u7ec4\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9 len()\u51fd\u6570\uff0c\u53ef\u4ee5\u83b7\u5f97\u6570\u7ec4\u7684\u957f\u5ea6\u3002\u5ffd\u7565\u58f0\u660e\u4e2d\u6570\u7ec4\u7684\u957f\u5ea6\u5e76\u5c06\u5176\u66ff\u6362\u4e3a\u201c\u2026\u201d\uff0c\u7f16\u8bd1\u5668\u53ef\u4ee5\u627e\u5230\u957f\u5ea6\u3002\u63a5\u4e0b\u6765\u4f7f\u7528\u6848\u4f8b\u6f14\u793a\u83b7\u53d6\u6570\u7ec4\u957f\u5ea6\u7684\u65b9\u5f0f\uff1a package main import \"fmt\" func main(){ a := [4]int64{12,22,33,55} b := [...]float64{23.3,22,23.123,12.123} fmt.Printf(\"len_a:%d,len_b:%d \\n\",len(a),len(b)) //len_a:4,len_b:4 }","title":"\u6570\u7ec4\u7684\u957f\u5ea6"},{"location":"%E5%9F%BA%E7%A1%80/2/#_5","text":"package main import \"fmt\" func main(){ a := [4]int64{12,22,33,55} //b := [...]float64{23.3,22,23.123,12.123} // \u904d\u5386\u65b9\u5f0f1 for i:= 0;i<len(a);i++{ fmt.Printf(\"%d \",a[i]) } fmt.Println() // \u904d\u5386\u65b9\u5f0f2 for _, value := range a{ fmt.Printf(\"%d \",value) } }","title":"\u904d\u5386\u6570\u7ec4"},{"location":"%E5%9F%BA%E7%A1%80/2/#_6","text":"\u7531\u4e8e\u6570\u636e\u7684\u590d\u6742\u7a0b\u5ea6\u4e0d\u4e00\u6837\uff0c\u6570\u7ec4\u53ef\u80fd\u6709\u591a\u4e2a\u4e0b\u6807\u3002\u4e00\u822c\u5c06\u6570\u7ec4\u5143\u7d20\u4e0b\u6807\u7684\u4e2a\u6570\u79f0\u4e3a\u7ef4\u6570\uff0c\u6839\u636e\u7ef4\u6570\uff0c\u53ef\u5c06\u6570\u7ec4\u5206\u4e3a\u4e00\u7ef4\u6570\u7ec4\u3001\u4e8c\u7ef4\u6570\u7ec4\u3001\u4e09\u7ef4\u6570\u7ec4\u3001\u56db\u7ef4\u6570\u7ec4\u7b49\u3002\u4e8c\u7ef4\u53ca\u4ee5\u4e0a\u7684\u6570\u7ec4\u53ef\u79f0\u4e3a\u591a\u7ef4\u6570\u7ec4\u3002 Go\u8bed\u8a00\u7684\u591a\u7ef4\u6570\u7ec4\u58f0\u660e\u65b9\u5f0f\uff1a var variable_name [SIZE1][SIZE2]...[SIZEn] variable_type","title":"\u591a\u7ef4\u6570\u7ec4\u2014\u2014\u4e3b\u8981\u662f\u4e8c\u7ef4\u6570\u7ec4"},{"location":"%E5%9F%BA%E7%A1%80/2/#_7","text":"\u5728\u5b9e\u9645\u7684\u5de5\u4f5c\u4e2d\uff0c\u4ec5\u4ec5\u4f7f\u7528\u4e00\u7ef4\u6570\u7ec4\u662f\u8fdc\u8fdc\u4e0d\u591f\u7684\uff0c\u4f8b\u5982\uff0c\u4e00\u4e2a\u5b66\u4e60\u5c0f\u7ec4\u670910\u4e2a\u4eba\uff0c\u6bcf\u4e2a\u4eba\u67093\u95e8\u8bfe\u7684\u8003\u8bd5\u6210\u7ee9\uff0c\u5982\u679c\u4f7f\u7528\u4e00\u7ef4\u6570\u7ec4\u89e3\u51b3\u662f\u5f88\u9ebb\u70e6\u7684\u3002\u8fd9\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e8c\u7ef4\u6570\u7ec4\u3002 \u4e8c\u7ef4\u6570\u7ec4\u662f\u6700\u7b80\u5355\u7684\u591a\u7ef4\u6570\u7ec4\uff0c\u4e8c\u7ef4\u6570\u7ec4\u7684\u672c\u8d28\u4e5f\u662f\u4e00\u4e2a\u4e00\u7ef4\u6570\u7ec4\uff0c\u53ea\u662f\u6570\u7ec4\u6210\u5458\u7531\u57fa\u672c\u6570\u636e\u7c7b\u578b\u53d8\u6210\u4e86\u6784\u9020\u6570\u636e\u7c7b\u578b\uff08\u4e00\u7ef4\u6570\u7ec4\uff09\u3002 \u4e8c\u7ef4\u6570\u7ec4\u7684\u5b9a\u4e49\u65b9\u5f0f\u5982\u4e0b\u3002 var arrayName [x][y] variable_type \u4e8c\u7ef4\u6570\u7ec4\u521d\u59cb\u5316\uff0c\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b: a = [3][4]int{ {0,1,2,3}, // \u7b2c\u4e00\u884c\u7d22\u5f15\u4e3a0 {4,5,6,7}, // \u7b2c\u4e8c\u884c\u7d22\u5f15\u4e3a1 {8,9,10,11} // \u7b2c\u4e09\u884c\u7d22\u5f15\u4e3a2 } \u4e0a\u8ff0\u5b9a\u4e49\u7684\u4e8c\u7ef4\u6570\u7ec4\u5171\u5305\u542b3\u00d74\u4e2a\u5143\u7d20\uff0c\u537312\u4e2a\u5143\u7d20\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u901a\u8fc7\u4e00\u5f20\u56fe\u6765\u63cf\u8ff0\u4e8c\u7ef4\u6570\u7ec4a\u7684\u5143\u7d20\u5206\u5e03\u60c5\u51b5\uff0c\u5982\u56fe5.3\u6240\u793a\u3002 \u4e8c\u7ef4\u6570\u7ec4\u5143\u7d20\u901a\u8fc7\u6307\u5b9a\u5750\u6807\u6765\u8bbf\u95ee\uff0c\u5982\u6570\u7ec4\u4e2d\u7684\u884c\u7d22\u5f15\u4e0e\u5217\u7d22\u5f15\u3002\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u3002 int val = a[2][3] \u4ee5\u4e0a\u5b9e\u4f8b\u8bbf\u95ee\u4e86\u4e8c\u7ef4\u6570\u7ec4val\u7b2c3\u884c\u7684\u7b2c4\u4e2a\u5143\u7d20\u3002 \u4e8c\u7ef4\u6570\u7ec4\u53ef\u4ee5\u4f7f\u7528\u5faa\u73af\u5d4c\u5957\u6765\u8f93\u51fa\u5143\u7d20\uff0c\u5177\u4f53\u8bed\u6cd5\u901a\u8fc7\u6848\u4f8b\u6f14\u793a \u7ed3\u679c\u5982\u4e0b\uff1a","title":"\u4e8c\u7ef4\u6570\u7ec4"},{"location":"%E5%9F%BA%E7%A1%80/2/#_8","text":"Go\u8bed\u8a00\u4e2d\u7684\u6570\u7ec4\u5e76\u975e\u5f15\u7528\u7c7b\u578b\uff0c\u800c\u662f\u503c\u7c7b\u578b\u3002 \u5f53\u5b83\u4eec\u88ab\u5206\u914d\u7ed9\u4e00\u4e2a\u65b0\u53d8\u91cf\u65f6\uff0c\u4f1a\u5c06\u539f\u59cb\u6570\u7ec4\u590d\u5236\u51fa\u4e00\u4efd\u5206\u914d\u7ed9\u65b0\u53d8\u91cf\u3002 \u56e0\u6b64\u5bf9\u65b0\u53d8\u91cf\u8fdb\u884c\u66f4\u6539\uff0c\u539f\u59cb\u6570\u7ec4\u4e0d\u4f1a\u6709\u53cd\u5e94\u3002 package main import \"fmt\" func main(){ a := [...]string{\"USA\",\"China\",\"India\",\"Germany\"} b := a // \u5c06a\u8d4b\u503c\u7ed9b b[0] = \"Singapore\" fmt.Println(\"a>>>\",a) // [USA China India Germany] fmt.Println(\"b>>>\",b) // [Singapore China India Germany] } \u6ce8\u610f\uff1a\u5c06\u6570\u7ec4\u4f5c\u4e3a\u51fd\u6570\u53c2\u6570\u8fdb\u884c\u4f20\u9012\uff0c\u5b83\u4eec\u5c06\u901a\u8fc7\u503c\u4f20\u9012\uff0c\u539f\u59cb\u6570\u7ec4\u4f9d\u7136\u4fdd\u6301\u4e0d\u53d8\u3002","title":"\u6570\u7ec4\u662f\u503c\u7c7b\u578b"},{"location":"%E5%9F%BA%E7%A1%80/2/#52","text":"","title":"5.2 \u5207\u7247***"},{"location":"%E5%9F%BA%E7%A1%80/2/#_9","text":"Go\u8bed\u8a00\u4e2d\u6570\u7ec4\u7684\u957f\u5ea6\u4e0d\u53ef\u6539\u53d8\uff0c\u4f46\u5728\u5f88\u591a\u5e94\u7528\u573a\u666f\u4e2d\uff0c\u5728\u521d\u59cb\u5b9a\u4e49\u6570\u7ec4\u65f6\uff0c\u6570\u7ec4\u7684\u957f\u5ea6\u5e76\u4e0d\u53ef\u9884\u77e5\uff0c\u8fd9\u6837\u7684\u5e8f\u5217\u96c6\u5408\u65e0\u6cd5\u6ee1\u8db3\u8981\u6c42\u3002Go\u4e2d\u63d0\u4f9b\u4e86\u53e6\u5916\u4e00\u79cd\u5185\u7f6e\u7c7b\u578b\u201c\u5207\u7247\uff08slice\uff09\u201d\uff0c\u5f25\u8865\u4e86\u6570\u7ec4\u7684\u7f3a\u9677\u3002\u5207\u7247\u662f\u53ef\u53d8\u957f\u5ea6\u7684\u5e8f\u5217\uff0c\u5e8f\u5217\u4e2d\u6bcf\u4e2a\u5143\u7d20\u90fd\u662f\u76f8\u540c\u7684\u7c7b\u578b\u3002\u5207\u7247\u7684\u8bed\u6cd5\u548c\u6570\u7ec4\u5f88\u50cf\u3002 \u4ece\u5e95\u5c42\u6765\u770b\uff0c\u5207\u7247\u5f15\u7528\u4e86\u6570\u7ec4\u7684\u5bf9\u8c61\u3002\u5207\u7247\u53ef\u4ee5\u8ffd\u52a0\u5143\u7d20\uff0c\u5728\u8ffd\u52a0\u65f6\u53ef\u80fd\u4f7f\u5207\u7247\u7684\u5bb9\u91cf\u589e\u5927\u3002\u4e0e\u6570\u7ec4\u76f8\u6bd4\uff0c\u5207\u7247\u4e0d\u9700\u8981\u8bbe\u5b9a\u957f\u5ea6\uff0c\u5728[]\u4e2d\u4e0d\u7528\u8bbe\u5b9a\u503c\uff0c\u76f8\u5bf9\u6765\u8bf4\u6bd4\u8f83\u81ea\u7531\u3002 \u5207\u7247\u7684\u6570\u636e\u7ed3\u6784\u53ef\u7406\u89e3\u4e3a\u4e00\u4e2a\u7ed3\u6784\u4f53\uff0c\u8fd9\u4e2a\u7ed3\u6784\u4f53\u5305\u542b\u4e86\u4e09\u4e2a\u5143\u7d20\u3002 \u6307\u9488\uff0c\u6307\u5411\u6570\u7ec4\u4e2d\u5207\u7247\u6307\u5b9a\u7684\u5f00\u59cb\u4f4d\u7f6e\u3002 \u957f\u5ea6\uff0c\u5373\u5207\u7247\u7684\u957f\u5ea6\u3002 \u5bb9\u91cf\uff0c\u4e5f\u5c31\u662f\u5207\u7247\u5f00\u59cb\u4f4d\u7f6e\u5230\u6570\u7ec4\u7684\u6700\u540e\u4f4d\u7f6e\u7684\u957f\u5ea6\u3002","title":"\u5207\u7247\u7684\u6982\u5ff5"},{"location":"%E5%9F%BA%E7%A1%80/2/#_10","text":"","title":"\u5207\u7247\u7684\u8bed\u6cd5"},{"location":"%E5%9F%BA%E7%A1%80/2/#1","text":"\u58f0\u660e\u4e00\u4e2a\u672a\u6307\u5b9a\u957f\u5ea6\u7684\u6570\u7ec4\u6765\u5b9a\u4e49\u5207\u7247\uff0c\u5177\u4f53\u793a\u4f8b\u5982\u4e0b\uff1a var indentifier []type \u5207\u7247\u4e0d\u9700\u8981\u8bf4\u660e\u957f\u5ea6\u3002\u91c7\u7528\u8be5\u58f0\u660e\u65b9\u5f0f\u4e14\u672a\u521d\u59cb\u5316\u7684\u5207\u7247\u4e3a\u7a7a\u5207\u7247\u3002\u8be5\u5207\u7247\u9ed8\u8ba4\u4e3anil\uff0c\u957f\u5ea6\u4e3a0\u3002 \u4f7f\u7528make()\u51fd\u6570\u6765\u521b\u5efa\u5207\u7247\uff0c\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b: var slice1 []type make([]type,len) \u4f7f\u7528make()\u51fd\u6570\u6765\u521b\u5efa\u5207\u7247\u53ef\u4ee5\u7b80\u5199\u4e3a\u5982\u4e0b\u683c\u5f0f: slice1 := make([]type,len) \u521b\u5efa\u5207\u7247\u65f6\u53ef\u4ee5\u6307\u5b9a\u5bb9\u91cf\uff0c\u5176\u4e2dcapacity\u4e3a\u53ef\u9009\u53c2\u6570\uff1amake([]T, length,capacity)\u3002\u8be6\u60c5\u5982\u4e0b\uff1a package main import \"fmt\" func main(){ var nums = make([]int,3,5) fmt.Printf(\"%T\\n\",nums)//[]int fmt.Printf(\"len=%d cap=%d slice=%v\\n\",len(nums),cap(nums),nums) //len=3 cap=5 slice=[0 0 0] }","title":"1. \u58f0\u660e\u5207\u7247"},{"location":"%E5%9F%BA%E7%A1%80/2/#2","text":"\uff081\uff09\u76f4\u63a5\u521d\u59cb\u5316\u5207\u7247\uff0c\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\uff1a s := [] int {1,2,3} \uff082\uff09\u901a\u8fc7\u6570\u7ec4\u622a\u53d6\u6765\u521d\u59cb\u5316\u5207\u7247\uff0c\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b: arr := [5]int {1,2,3,4,5} s := arr[:] \u5207\u7247\u4e2d\u5305\u542b\u6570\u7ec4\u6240\u6709\u5143\u7d20\uff0c\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u3002 s := arr[startIndex : endIndex] \u5c06arr\u4e2d\u4ece\u4e0b\u6807startIndex\u5230endIndex-1\u4e0b\u7684\u5143\u7d20\u521b\u5efa\u4e3a\u4e00\u4e2a\u65b0\u7684\u5207\u7247\uff08\u524d\u95ed\u540e\u5f00\uff09\uff0c\u957f\u5ea6\u4e3aendIndex-startIndex\u3002 \u7f3a\u7701endIndex\u65f6\u8868\u793a\u4e00\u76f4\u5230arr\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\uff0c\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u3002 s := arr[startIndex:] \u7f3a\u7701startIndex\u65f6\u8868\u793a\u4ecearr\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u5f00\u59cb\uff0c\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u3002 s := arr[:endIndex] \uff083\uff09\u901a\u8fc7\u5207\u7247\u622a\u53d6\u6765\u521d\u59cb\u5316\u5207\u7247\u3002 \u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e\u4e0b\u9650\u53ca\u4e0a\u9650\u6765\u8bbe\u7f6e\u622a\u53d6\u5207\u7247\uff1a[lower-bound:upper-bound]: package main import \"fmt\" func main(){ // \u521b\u5efa\u5207\u7247 nums := []int{0,1,2,3,4,5,6,7,8,9} printSlice(nums) //len=10,cap=10,slice=[0 1 2 3 4 5 6 7 8 9] // \u4ece\u7d22\u5f151(\u5305\u542b)\u52304(\u4e0d\u5305\u542b) fmt.Println(\"1->4:::\",nums[1:4]) //1->4::: [1 2 3] // \u4f7f\u7528\u5207\u7247\u521d\u59cb\u5316 nums1 := nums[1:4] printSlice(nums1)//len=3,cap=9,slice=[1 2 3] } func printSlice(x []int){ fmt.Printf(\"len=%d,cap=%d,slice=%v\\n\",len(x),cap(x),x) }","title":"2. \u521d\u59cb\u5316"},{"location":"%E5%9F%BA%E7%A1%80/2/#lencap","text":"\u5207\u7247\u7684\u957f\u5ea6\u662f\u5207\u7247\u4e2d\u5143\u7d20\u7684\u6570\u91cf\u3002 \u5207\u7247\u7684\u5bb9\u91cf\u662f\u4ece\u521b\u5efa\u5207\u7247\u7684\u7d22\u5f15\u5f00\u59cb\u7684\u5e95\u5c42\u6570\u7ec4\u4e2d\u5143\u7d20\u7684\u6570\u91cf\u3002 \u5207\u7247\u53ef\u4ee5\u901a\u8fc7len()\u65b9\u6cd5\u83b7\u53d6\u957f\u5ea6\uff0c\u53ef\u4ee5\u901a\u8fc7cap()\u65b9\u6cd5\u83b7\u53d6\u5bb9\u91cf\u3002\u6570\u7ec4\u8ba1\u7b97cap()\u7ed3\u679c\u4e0elen()\u76f8\u540c\u3002","title":"Len()\u548ccap()\u51fd\u6570"},{"location":"%E5%9F%BA%E7%A1%80/2/#_11","text":"\u5207\u7247\u6ca1\u6709\u81ea\u5df1\u7684\u4efb\u4f55\u6570\u636e\u3002\u5b83\u53ea\u662f\u5e95\u5c42\u6570\u7ec4\u7684\u4e00\u4e2a\u5f15\u7528\u3002\u5bf9\u5207\u7247\u6240\u505a\u7684\u4efb\u4f55\u4fee\u6539\u90fd\u5c06\u53cd\u6620\u5728\u5e95\u5c42\u6570\u7ec4\u4e2d\u3002\u6570\u7ec4\u662f\u503c\u7c7b\u578b\uff0c\u800c\u5207\u7247\u662f\u5f15\u7528\u7c7b\u578b\uff0c\u4e24\u8005\u7684\u533a\u522b\u5982\u4e0b\u4f8b\u6240\u793a\uff1a package main import \"fmt\" func main(){ a := [4]float64{56.1,22.2,33.12,55.45} b := []int{2,3,5} fmt.Printf(\"\u53d8\u91cfa \u2014\u2014 \u5730\u5740\uff1a%p\uff0c\u7c7b\u578b\uff1a%T\uff0c\u6570\u503c\uff1a%v\uff0c\u957f\u5ea6\uff1a%d\\n\",&a,a,a,len(a)) fmt.Printf(\"\u53d8\u91cfb \u2014\u2014 \u5730\u5740\uff1a%p\uff0c\u7c7b\u578b\uff1a%T\uff0c\u6570\u503c\uff1a%v\uff0c\u957f\u5ea6\uff1a%d\\n\",&b,b,b,len(b)) c := a d := b fmt.Printf(\"\u53d8\u91cfc \u2014\u2014 \u5730\u5740\uff1a%p\uff0c\u7c7b\u578b\uff1a%T\uff0c\u6570\u503c\uff1a%v\uff0c\u957f\u5ea6\uff1a%d\\n\",&c,c,c,len(c)) fmt.Printf(\"\u53d8\u91cfd \u2014\u2014 \u5730\u5740\uff1a%p\uff0c\u7c7b\u578b\uff1a%T\uff0c\u6570\u503c\uff1a%v\uff0c\u957f\u5ea6\uff1a%d\\n\",&d,d,d,len(d)) c[1] = 666 fmt.Println(\"a=\",a,\"c=\",c) // a= [56.1 22.2 33.12 55.45] c= [56.1 666 33.12 55.45] // \u56e0\u4e3a\u5207\u7247\u662f\u5f15\u7528\u7c7b\u578b\uff08\u8ddfPython\u4e00\u6837\uff01\uff09\u6240\u4ee5\u6539\u53d8d\u7684\u8bdd\u540c\u65f6\u4f1a\u5f71\u54cdb\u4e2d\u7684\u6570\u636e\uff01\uff01\uff01 d[1] = 999 fmt.Println(\"b=\",b,\"d=\",d) // b= [2 999 5] d= [2 999 5] }","title":"\u5207\u7247\u662f\u5f15\u7528\u7c7b\u578b ***"},{"location":"%E5%9F%BA%E7%A1%80/2/#appendcopy","text":"\u4e24\u4e2a\u65b9\u6cd5\u4e0d\u9002\u7528\u4e8e\u6570\u7ec4\u3002 \u51fd\u6570append()\u7528\u4e8e\u5f80\u5207\u7247\u4e2d\u8ffd\u52a0\u65b0\u5143\u7d20\uff0c\u53ef\u4ee5\u5411\u5207\u7247\u91cc\u9762\u8ffd\u52a0\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u5143\u7d20\uff0c\u4e5f\u53ef\u4ee5\u8ffd\u52a0\u4e00\u4e2a\u5207\u7247\u3002append()\u4f1a\u6539\u53d8\u5207\u7247\u6240\u5f15\u7528\u7684\u6570\u7ec4\u7684\u5185\u5bb9\uff0c\u4ece\u800c\u5f71\u54cd\u5230\u5f15\u7528\u540c\u4e00\u6570\u7ec4\u7684\u5176\u4ed6\u5207\u7247\u3002\u5f53\u4f7f\u7528append()\u8ffd\u52a0\u5143\u7d20\u5230\u5207\u7247\u65f6\uff0c\u5982\u679c\u5bb9\u91cf\u4e0d\u591f\uff08\u4e5f\u5c31\u662f(cap-len) == 0\uff09\uff0cGo\u5c31\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5185\u5b58\u5730\u5740\u6765\u50a8\u5b58\u5143\u7d20\u3002 \u51fd\u6570copy()\u4f1a\u590d\u5236\u5207\u7247\u5143\u7d20\uff0c\u5c06\u6e90\u5207\u7247\u4e2d\u7684\u5143\u7d20\u590d\u5236\u5230\u76ee\u6807\u5207\u7247\u4e2d\uff0c\u8fd4\u56de\u590d\u5236\u7684\u5143\u7d20\u7684\u4e2a\u6570\u3002 copy()\u65b9\u6cd5\u4e0d\u4f1a\u5efa\u7acb\u6e90\u5207\u7247\u4e0e\u76ee\u6807\u5207\u7247\u4e4b\u95f4\u7684\u8054\u7cfb\u3002 \u4e5f\u5c31\u662f\u4e24\u4e2a\u5207\u7247\u4e0d\u5b58\u5728\u8054\u7cfb\uff0c\u5176\u4e2d\u4e00\u4e2a\u4fee\u6539\u4e0d\u5f71\u54cd\u53e6\u4e00\u4e2a\u3002 \u5220\u9664\u7b2c\u4e00\u4e2a\u6216\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u7684\u65b9\u6cd5\uff1a \u5220\u9664\u4e2d\u95f4\u5143\u7d20\u7684\u65b9\u6cd5\uff1a","title":"append()\u548ccopy()\u51fd\u6570"},{"location":"%E5%9F%BA%E7%A1%80/2/#appendcopy_1","text":"package main import \"fmt\" // \u8f93\u51fa\u5207\u7247\u683c\u5f0f\u5316\u4fe1\u606f func printSlices(name string,x []int){ fmt.Print(name,\"\\t\") fmt.Printf(\"addr:%p len=%d cap=%d slice=%v \\n\",x,len(x),cap(x),x) } func main(){ fmt.Println(\"1. ----------------------------\") numbers := make([]int, 0, 20) printSlices(\"numbers\",numbers) //numbers addr:0xc00006e000 len=0 cap=20 slice=[] //append numbers = append(numbers,0,1) printSlices(\"numbers\",numbers) //numbers addr:0xc00006e000 len=2 cap=20 slice=[0 1] fmt.Println(\"2. ----------------------------\") //\u8ffd\u52a0\u4e00\u4e2a\u5207\u7247 s1 := []int{100,200,300,400,500} numbers = append(numbers,s1...) printSlices(\"numbers\",numbers) // numbers addr:0xc000134000 len=7 cap=20 slice=[0 1 100 200 300 400 500] fmt.Println(\"3. ----------------------------\") // \u5207\u7247\u5220\u9664\u5143\u7d20 // \u5220\u9664\u7b2c\u4e00\u4e2a\u5143\u7d20 numbers = numbers[1:] // \u5220\u9664\u6700\u540e\u4e00\u4e2a\u5143\u7d20 numbers = numbers[:len(numbers)-1] // \u5220\u9664\u4e2d\u95f4\u5143\u7d20 a := int(len(numbers)/2) // \u4e2d\u95f4\u6570 numbers = append(numbers[:a],numbers[a+1:]...) fmt.Println(\"4. ----------------------------\") // \u521b\u5efa\u5207\u7247 mumbers1 \u662f\u4e4b\u524d\u5207\u7247\u7684\u4e24\u500d\u5bb9\u91cf numbers1 := make([]int,len(numbers),(cap(numbers))*2) // \u590d\u5236numbers\u7684\u5185\u5bb9\u5230numbers1 \u2014\u2014 count\u662f\u590d\u5236\u7684\u4e2a\u6570 count := copy(numbers1,numbers) fmt.Println(\"\u590d\u5236\u7684\u4e2a\u6570\uff1a\",count) // 4 printSlices(\"numbers1\",numbers1)//numbers1 addr:0xc000070000 len=4 cap=38 slice=[1 100 300 400] /* numbers1\u4e0enumbers\u4e24\u8005\u4e0d\u5b58\u5728\u8054\u7cfb\uff0c\u66f4\u6539numbers\u7684\u503c\u4e0d\u4f1a\u5f71\u54cdnumbers1\uff01 \u8bf4\u660ecopy\u65b9\u6cd5\u662f\u4e0d\u4f1a\u5efa\u7acb\u4e24\u4e2a\u5207\u7247\u7684\u8054\u7cfb\u7684\uff01 */ numbers[0] = 666 numbers1[0] = 888 printSlices(\"numbers\",numbers)//numbers addr:0xc000134008 len=4 cap=19 slice=[666 100 300 400] printSlices(\"numbers1\",numbers1)//numbers1 addr:0xc000136000 len=4 cap=38 slice=[888 100 300 400] }","title":"append()\u4e0ecopy()\u7684\u5bf9\u6bd4\u6848\u4f8b\u4e00***"},{"location":"%E5%9F%BA%E7%A1%80/2/#appendcopy_2","text":"package main import ( \"fmt\" \"strconv\" ) // \u8f93\u51fa\u5207\u7247\u683c\u5f0f\u5316\u4fe1\u606f func printSlices(name string,x []string){ fmt.Print(name,\" \") fmt.Printf(\"addr:%p len=%d cap=%d slice=%v \\n\",x,len(x),cap(x),x) } func main(){ // \u601d\u8003\uff1a\u4f7f\u7528\u90a3\u79cd\u521d\u59cb\u5316\u5207\u7247\u7684\u65b9\u5f0f\u66f4\u9ad8\u6548\uff1f var sa []string //sa := make([]string,0,10) printSlices(\"sa\",sa) // \u5f53\u4f7f\u7528append\u8ffd\u52a0\u5143\u7d20\u5230\u5207\u7247\u65f6\uff0c\u5982\u679c\u5bb9\u91cf\u4e0d\u591f\uff0cGo\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5207\u7247\u53d8\u91cf\u6765\u5b58\u50a8\u5143\u7d20 for i := 0; i < 10; i++{ sa = append(sa,strconv.Itoa(i)) printSlices(\"sa\",sa) } printSlices(\"sa\",sa) } // \u53ef\u4ee5\u770b\u5230\u5bb9\u91cfcap\u7684\u503c\u5728\u589e\u52a0\uff01 /* sa addr:0x0 len=0 cap=0 slice=[] sa addr:0xc00008e1f0 len=1 cap=1 slice=[0] sa addr:0xc0000a6060 len=2 cap=2 slice=[0 1] sa addr:0xc0000b2040 len=3 cap=4 slice=[0 1 2] sa addr:0xc0000b2040 len=4 cap=4 slice=[0 1 2 3] sa addr:0xc0000bc000 len=5 cap=8 slice=[0 1 2 3 4] sa addr:0xc0000bc000 len=6 cap=8 slice=[0 1 2 3 4 5] sa addr:0xc0000bc000 len=7 cap=8 slice=[0 1 2 3 4 5 6] sa addr:0xc0000bc000 len=8 cap=8 slice=[0 1 2 3 4 5 6 7] sa addr:0xc0000be000 len=9 cap=16 slice=[0 1 2 3 4 5 6 7 8] sa addr:0xc0000be000 len=10 cap=16 slice=[0 1 2 3 4 5 6 7 8 9] sa addr:0xc0000be000 len=10 cap=16 slice=[0 1 2 3 4 5 6 7 8 9] */","title":"append()\u4e0ecopy()\u7684\u5bf9\u6bd4\u6848\u4f8b\u4e8c***"},{"location":"%E5%9F%BA%E7%A1%80/2/#53-map","text":"map\u7684\u6982\u5ff5 Go \u8bed\u8a00\u63d0\u4f9b\u4e86\u5185\u7f6e\u7c7b\u578b map\uff0c\u5b83\u5c06\u4e00\u4e2a\u503c\u4e0e\u4e00\u4e2a\u952e\u5173\u8054\u8d77\u6765\uff0c\u53ef\u4ee5\u4f7f\u7528\u76f8\u5e94\u7684\u952e\u68c0\u7d22\u503c\u3002\u8fd9\u79cd\u7ed3\u6784\u5728\u5176\u4ed6\u8d44\u6599\u4e2d\u8bd1\u6210\u5730\u56fe\u3001\u6620\u5c04\u6216\u5b57\u5178\uff0c\u4f46\u662f\u5728Go\u8bed\u8a00\u4e2d\u4e60\u60ef\u4e0a\u7ffb\u8bd1\u6210\u96c6\u5408\u3002map\u6b63\u5982\u73b0\u5b9e\u751f\u6d3b\u4e2d\u7684\u5b57\u5178\u4e00\u6837\uff0c\u4f7f\u7528\u8bcd-\u8bed\u4e49\u8fdb\u884c\u6570\u636e\u7684\u6784\u5efa\uff0c\u5176\u4e2d\u8bcd\u5bf9\u5e94\u952e\uff08key\uff09\uff0c\u8bed\u4e49\u5bf9\u5e94\u503c\uff08value\uff09\uff0c\u5373\u952e\u4e0e\u503c\u6784\u6210\u6620\u5c04\u7684\u5173\u7cfb\uff0c\u901a\u5e38\u5c06\u4e24\u8005\u79f0\u4e3a\u952e\u503c\u5bf9\uff0c\u8fd9\u6837\u901a\u8fc7\u952e\u53ef\u4ee5\u5feb\u901f\u627e\u5230\u5bf9\u5e94\u7684\u503c\u3002map\u662f\u4e00\u79cd\u96c6\u5408\uff0c\u53ef\u4ee5\u50cf\u904d\u5386\u6570\u7ec4\u6216\u5207\u7247\u90a3\u6837\u53bb\u904d\u5386\u5b83\u3002\u56e0\u4e3amap\u662f\u7531Hash\u8868\u5b9e\u73b0\u7684\uff0c\u6240\u4ee5\u5bf9map\u7684\u8bfb\u53d6\u987a\u5e8f\u4e0d\u56fa\u5b9a\u3002 map\u662f\u65e0\u5e8f\u7684\uff0c\u6bcf\u6b21\u6253\u5370\u51fa\u6765\u7684map\u90fd\u4f1a\u4e0d\u4e00\u6837\uff0c\u5b83\u4e0d\u80fd\u901a\u8fc7index\u83b7\u53d6\uff0c\u800c\u5fc5\u987b\u901a\u8fc7key\u83b7\u53d6\u3002 map\u7684\u957f\u5ea6\u662f\u4e0d\u56fa\u5b9a\u7684\uff0c\u548c\u5207\u7247\u4e00\u6837\u53ef\u4ee5\u6269\u5c55\u3002\u5185\u7f6e\u7684len()\u51fd\u6570\u540c\u6837\u9002\u7528\u4e8emap\uff0c\u8fd4\u56demap\u62e5\u6709\u7684\u952e\u503c\u5bf9\u7684\u6570\u91cf\u3002 \u4f46\u662fmap\u4e0d\u80fd\u901a\u8fc7cap()\u51fd\u6570\u8ba1\u7b97\u5bb9\u91cf\uff08\u6216\u8005\u8bf4cap()\u51fd\u6570\u7684\u53c2\u6570\u4e0d\u53ef\u4ee5\u662fmap\uff09\u3002 \u540c\u4e00\u4e2amap\u4e2dkey\u5fc5\u987b\u4fdd\u8bc1\u552f\u4e00\u3002 key\u7684\u6570\u636e\u7c7b\u578b\u5fc5\u987b\u662f\u53ef\u53c2\u4e0e\u6bd4\u8f83\u8fd0\u7b97\u7684\u7c7b\u578b \uff0c\u4e5f\u5c31\u662f\u652f\u6301==\u6216!=\u64cd\u4f5c\u7684\u7c7b\u578b\uff0c \u5982\u5e03\u5c14\u578b\u3001\u6574\u578b\u3001\u6d6e\u70b9\u578b\u3001\u5b57\u7b26\u4e32\u3001\u6570\u7ec4\u3002\u5207\u7247\u3001\u51fd\u6570\u7b49\u5f15\u7528\u7c7b\u578b\u5219\u4e0d\u80fd\u4f5c\u4e3akey\u7684\u6570\u636e\u7c7b\u578b \u3002 map\u7684value\u53ef\u4ee5\u662f\u4efb\u4f55\u6570\u636e\u7c7b\u578b\u3002map\u548c\u5207\u7247\u4e00\u6837\uff0c\u4e5f\u662f\u4e00\u79cd\u5f15\u7528\u7c7b\u578b\u3002","title":"5.3 map"},{"location":"%E5%9F%BA%E7%A1%80/2/#map","text":"","title":"map\u7684\u8bed\u6cd5 ***"},{"location":"%E5%9F%BA%E7%A1%80/2/#map_1","text":"\u53ef\u4ee5\u4f7f\u7528var\u5173\u952e\u5b57\u6765\u5b9a\u4e49map\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5185\u5efa\u51fd\u6570make()\u3002 \uff081\uff09\u4f7f\u7528var\u5173\u952e\u5b57\u5b9a\u4e49map var \u53d8\u91cf\u540d map[key\u7c7b\u578b] value\u7c7b\u578b \u4f7f\u7528var\u5173\u952e\u5b57\u58f0\u660emap\uff0c\u672a\u521d\u59cb\u5316\u7684map\u7684\u9ed8\u8ba4\u503c\u662fnil\u3002 nil map\u4e0d\u80fd\u5b58\u653e\u952e\u503c\u5bf9\u3002\u5982\u679c\u8981\u4f7f\u7528map\u5b58\u50a8\u952e\u503c\u5bf9\uff0c\u5fc5\u987b\u5728\u58f0\u660e\u65f6\u521d\u59cb\u5316\uff0c\u6216\u8005\u4f7f\u7528make()\u51fd\u6570\u5206\u914d\u5230\u5185\u5b58\u7a7a\u95f4\u3002 \uff082\uff09\u4f7f\u7528make()\u51fd\u6570 \u53d8\u91cf\u540d := make(map[key\u7c7b\u578b]value\u7c7b\u578b) \u8be5\u58f0\u660e\u65b9\u5f0f\uff0c\u5982\u679c\u4e0d\u521d\u59cb\u5316map\uff0cmap\u4e5f\u4e0d\u7b49\u4e8enil\u3002","title":"map\u7684\u58f0\u660e"},{"location":"%E5%9F%BA%E7%A1%80/2/#map_2","text":"package main import ( \"fmt\" ) func main(){ // 1. \u58f0\u660e\u65f6\u540c\u65f6\u521d\u59cb\u5316 var country = map[string]string{ \"China\":\"Beijing\", \"Japan\":\"Tokyo\", \"USA\":\"DC\", } fmt.Println(country) // map[China:Beijing Japan:Tokyo USA:DC] // \u77ed\u53d8\u91cf\u58f0\u660e\u521d\u59cb\u5316\u65b9\u5f0f fating := map[string]float64{ \"a\":12.23, \"b\":22.24, \"c\":34.21, } fmt.Println(fating) // map[a:12.23 b:22.24 c:34.21] // 2. \u521b\u5efamap\u540e\u518d\u8d4b\u503c countryMap := make(map[string]string) countryMap[\"China\"] = \"Beijing\" countryMap[\"Japan\"] = \"Tokyo\" countryMap[\"France\"] = \"paris\" fmt.Println(countryMap) // map[China:Beijing France:paris Japan:Tokyo] // 3. \u904d\u5386map\uff08\u65e0\u5e8f\uff09 // \uff081\uff09key\u3001value\u90fd\u904d\u5386 for k, v := range countryMap{ fmt.Println(\"\u56fd\u5bb6\uff1a\",k,\" \u9996\u90fd\uff1a\",v) } /* \u56fd\u5bb6\uff1a China \u9996\u90fd\uff1a Beijing \u56fd\u5bb6\uff1a Japan \u9996\u90fd\uff1a Tokyo \u56fd\u5bb6\uff1a France \u9996\u90fd\uff1a paris */ // (2) \u53ea\u5c55\u793akey for k := range countryMap{ fmt.Println(k) } // \uff083\uff09\u53ea\u5c55\u793avalue for _, value := range countryMap{ fmt.Println(value) } }","title":"map\u7684\u521d\u59cb\u5316\u8d4b\u503c\u548c\u904d\u5386"},{"location":"%E5%9F%BA%E7%A1%80/2/#map_3","text":"\u53ef\u4ee5\u901a\u8fc7key\u83b7\u53d6map\u4e2d\u5bf9\u5e94\u7684value\u503c\u3002\u8bed\u6cd5\u4e3a\uff1amap[key]\u3002\u5f53key\u4e0d\u5b58\u5728\u65f6\uff0c\u4f1a\u5f97\u5230\u8be5value\u503c\u7c7b\u578b\u7684\u9ed8\u8ba4\u503c\uff0c\u6bd4\u5982string\u7c7b\u578b\u5f97\u5230\u7a7a\u5b57\u7b26\u4e32\uff0cint\u7c7b\u578b\u5f97\u52300\uff0c\u7a0b\u5e8f\u4e0d\u4f1a\u62a5\u9519\u3002 \u6240\u4ee5\u53ef\u4ee5\u901a\u8fc7value, ok := map[key]\u83b7\u77e5key/value\u662f\u5426\u5b58\u5728\u3002ok\u662fbool\u578b\uff0c\u5982\u679cok\u662ftrue\uff0c\u5219\u8be5\u952e\u503c\u5bf9\u5b58\u5728\uff0c\u5426\u5219\u4e0d\u5b58\u5728\u3002 package main import ( \"fmt\" ) func main(){ var country = map[string]string{ \"China\":\"Beijing\", \"Japan\":\"Tokyo\", \"USA\":\"DC\", } fmt.Println(country) // map[China:Beijing Japan:Tokyo USA:DC] // \u67e5\u770b\u5143\u7d20\u662f\u5426\u5728map\u4e2d query_str := \"China\" value, ok := country[query_str] fmt.Printf(\"%q\\n\",value) // \"\" fmt.Printf(\"%T , %v\\n\",ok,ok) //bool , false if ok{ fmt.Println(\"\u627e\u5230\u4e86\uff01\") }else{ fmt.Println(\"\u6ca1\u627e\u5230\uff01\") } // \u6216\u8005 if value, ok := country[query_str];ok{ fmt.Println(\"\u627e\u5230\u4e86\uff01\uff0c\u9996\u90fd\uff1a\",value) }else{ fmt.Println(\"\u6ca1\u5f97\uff01\") } }","title":"\u67e5\u770b\u5143\u7d20\u662f\u5426\u5728map\u4e2d ***"},{"location":"%E5%9F%BA%E7%A1%80/2/#delete","text":"delete(map, key) \u51fd\u6570\u7528\u4e8e\u5220\u9664\u96c6\u5408\u7684\u67d0\u4e2a\u5143\u7d20\uff0c\u53c2\u6570\u4e3amap\u548c\u5176\u5bf9\u5e94\u7684key\u3002\u5220\u9664\u51fd\u6570\u4e0d\u8fd4\u56de\u4efb\u4f55\u503c\u3002 package main import ( \"fmt\" ) func main(){ var country = map[string]string{ \"China\":\"Beijing\", \"Japan\":\"Tokyo\", \"USA\":\"DC\", } fmt.Println(country) // map[China:Beijing Japan:Tokyo USA:DC] // \u6839\u636ekey\u5220\u9664map\u4e2d\u7684\u67d0\u4e2a\u5143\u7d20 fmt.Println(\"\u5220\u9664\u524d\uff1a\",country) //\u5220\u9664\u524d\uff1a map[China:Beijing Japan:Tokyo USA:DC] if _,ok := country[\"Japan\"];ok{ delete(country,\"China\") } fmt.Println(\"\u5220\u9664\u540e\uff1a\",country) //\u5220\u9664\u540e\uff1a map[Japan:Tokyo USA:DC] // \u6e05\u7a7amap country = make(map[string]string) fmt.Println(\"\u6e05\u7a7a\u540e\uff1a\",country) //\u6e05\u7a7a\u540e\uff1a map[] } Go\u8bed\u8a00\u6ca1\u6709\u4e3amap\u63d0\u4f9b\u6e05\u7a7a\u6240\u6709\u5143\u7d20\u7684\u51fd\u6570\uff0c\u6e05\u7a7amap\u7684\u552f\u4e00\u529e\u6cd5\u662f\u91cd\u65b0make\u4e00\u4e2a\u65b0\u7684map\u3002\u4e0d\u7528\u62c5\u5fc3\u5783\u573e\u56de\u6536\u7684\u6548\u7387\uff0cGo\u8bed\u8a00\u7684\u5783\u573e\u56de\u6536\u6bd4\u5199\u4e00\u4e2a\u6e05\u7a7a\u51fd\u6570\u66f4\u9ad8\u6548\u3002","title":"delete()\u51fd\u6570"},{"location":"%E5%9F%BA%E7%A1%80/2/#map_4","text":"map\u4e0e\u5207\u7247\u76f8\u4f3c\uff0c\u90fd\u662f\u5f15\u7528\u7c7b\u578b\u3002 \u5c06\u4e00\u4e2amap\u8d4b\u503c\u7ed9\u4e00\u4e2a\u65b0\u7684\u53d8\u91cf\u65f6\uff0c\u5b83\u4eec\u6307\u5411\u540c\u4e00\u5757\u5185\u5b58\uff08\u5e95\u5c42\u6570\u636e\u7ed3\u6784\uff09\u3002\u56e0\u6b64\uff0c\u4fee\u6539\u4e24\u4e2a\u53d8\u91cf\u7684\u5185\u5bb9\u90fd\u80fd\u591f\u5f15\u8d77\u5b83\u4eec\u6240\u6307\u5411\u7684\u6570\u636e\u53d1\u751f\u53d8\u5316\u3002 package main import ( \"fmt\" ) func main(){ var country = map[string]string{ \"China\":\"Beijing\", \"Japan\":\"Tokyo\", \"USA\":\"DC\", } fmt.Println(country) // map[China:Beijing Japan:Tokyo USA:DC] newCountry := country newCountry[\"USA\"] = \"CCCCCC\" fmt.Println(country) // map[China:Beijing Japan:Tokyo USA:CCCCCC] fmt.Println(newCountry) // map[China:Beijing Japan:Tokyo USA:CCCCCC] }","title":"map\u662f\u5f15\u7528\u7c7b\u578b"},{"location":"%E5%9F%BA%E7%A1%80/3/","text":"4 Go\u8bed\u8a00\u7684\u51fd\u6570\u4e0e\u6307\u9488 4.1 \u51fd\u6570 *** Go \u8bed\u8a00\u4ece\u8bbe\u8ba1\u4e0a\u5bf9\u51fd\u6570\u8fdb\u884c\u4e86\u4f18\u5316\u548c\u6539\u8fdb\uff0c\u8ba9\u51fd\u6570\u4f7f\u7528\u8d77\u6765\u66f4\u52a0\u65b9\u4fbf\u3002 \u56e0\u4e3aGo\u8bed\u8a00\u7684\u51fd\u6570\u672c\u8eab\u53ef\u4ee5\u4f5c\u4e3a\u503c\u8fdb\u884c\u4f20\u9012\uff0c\u65e2\u652f\u6301\u533f\u540d\u51fd\u6570\u548c\u95ed\u5305\uff0c\u53c8\u80fd\u6ee1\u8db3\u63a5\u53e3\uff0c\u6240\u4ee5 Go \u8bed\u8a00\u7684\u51fd\u6570\u5c5e\u4e8e\u4e00\u7b49\u516c\u6c11\u3002 \u51fd\u6570\u58f0\u660e \u666e\u901a\u51fd\u6570\u9700\u8981\u5148\u58f0\u660e\u624d\u80fd\u8c03\u7528\uff0c\u4e00\u4e2a\u51fd\u6570\u7684\u58f0\u660e\u5305\u62ec\u53c2\u6570\u548c\u51fd\u6570\u540d\u7b49\u3002\u7f16\u8bd1\u5668\u901a\u8fc7\u58f0\u660e\u624d\u80fd\u4e86\u89e3\u51fd\u6570\u5e94\u8be5\u600e\u6837\u5728\u8c03\u7528\u4ee3\u7801\u548c\u51fd\u6570\u4f53\u4e4b\u95f4\u4f20\u5165\u53c2\u6570\u548c\u8fd4\u56de\u53c2\u6570\u3002\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u6240\u793a\uff1a func \u51fd\u6570\u540d(\u53c2\u6570\u5217\u8868)(\u8fd4\u56de\u53c2\u6570\u5217\u8868){ // \u51fd\u6570\u4f53 } func funcName(param1 type1, param2 type2,...)(output1 type1, output2 type2,...){ // ` // \u8fd4\u56de\u591a\u4e2a\u503c return value1, value2,... } 1. \u51fd\u6570\u5b9a\u4e49\u89e3\u6790 func\uff1a\u51fd\u6570\u5173\u952e\u5b57\u3002\u51fd\u6570\u7531func\u5f00\u59cb\u58f0\u660e\u3002 funcName \uff1a\u51fd\u6570\u540d\u3002\u51fd\u6570\u540d\u548c\u53c2\u6570\u5217\u8868\u4e00\u8d77\u6784\u6210\u4e86\u51fd\u6570\u7b7e\u540d\u3002\u51fd\u6570\u540d\u7531\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u4e0b\u753b\u7ebf\u7ec4\u6210\u3002\u51fd\u6570\u540d\u7684\u7b2c\u4e00\u4e2a\u5b57\u6bcd\u4e0d\u80fd\u4e3a\u6570\u5b57\u3002\u5728\u540c\u4e00\u4e2a\u5305\u5185\uff0c\u51fd\u6570\u4e0d\u80fd\u91cd\u540d\u3002 param type \uff1a\u53c2\u6570\u5217\u8868\u3002\u5b9a\u4e49\u51fd\u6570\u65f6\u7684\u53c2\u6570\u53eb\u4f5c\u5f62\u5f0f\u53c2\u6570\uff0c\u5f62\u53c2\u53d8\u91cf\u662f\u51fd\u6570\u7684\u5c40\u90e8\u53d8\u91cf\uff1b\u51fd\u6570\u88ab\u8c03\u7528\u65f6\uff0c\u53ef\u4ee5\u5c06\u503c\u4f20\u9012\u7ed9\u53c2\u6570\uff0c\u8fd9\u4e2a\u503c\u88ab\u79f0\u4e3a\u5b9e\u9645\u53c2\u6570\u3002\u53c2\u6570\u5217\u8868\u6307\u5b9a\u7684\u662f\u53c2\u6570\u7c7b\u578b\u3001\u987a\u5e8f\u53ca\u53c2\u6570\u4e2a\u6570\u3002\u53c2\u6570\u662f\u53ef\u9009\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u51fd\u6570\u53ef\u4ee5\u4e0d\u5305\u542b\u53c2\u6570\u3002 output1 type1, output2 type2 \uff1a\u8fd4\u56de\u503c\u5217\u8868\u3002\u8fd4\u56de\u503c\u8fd4\u56de\u51fd\u6570\u7684\u7ed3\u679c\uff0c\u7ed3\u675f\u51fd\u6570\u7684\u6267\u884c\u3002 Go\u8bed\u8a00\u7684\u51fd\u6570\u53ef\u4ee5\u8fd4\u56de\u591a\u4e2a\u503c\u3002 \u8fd4\u56de\u503c\u53ef\u4ee5\u662f\u8fd4\u56de\u6570\u636e\u7684\u6570\u636e\u7c7b\u578b\uff0c\u4e5f\u53ef\u4ee5\u662f\u53d8\u91cf\u540d+\u53d8\u91cf\u7c7b\u578b\u7684\u7ec4\u5408\u3002 \u51fd\u6570\u58f0\u660e\u65f6\u6709\u8fd4\u56de\u503c\uff0c\u5fc5\u987b\u5728\u51fd\u6570\u4f53\u4e2d\u4f7f\u7528return\u8bed\u53e5\u63d0\u4f9b\u8fd4\u56de\u503c\u5217\u8868\u3002 \u5982\u679c\u53ea\u6709\u4e00\u4e2a\u8fd4\u56de\u503c\u5e76\u4e14\u6ca1\u6709\u58f0\u660e\u8fd4\u56de\u503c\u53d8\u91cf\uff0c\u90a3\u4e48\u53ef\u4ee5\u7701\u7565\u5305\u62ec\u8fd4\u56de\u503c\u7684\u62ec\u53f7\u3002 return\u540e\u7684\u6570\u636e\uff0c\u8981\u4fdd\u6301\u548c\u58f0\u660e\u7684\u8fd4\u56de\u503c\u7c7b\u578b\u3001\u6570\u91cf\u3001\u987a\u5e8f\u4e00\u81f4\u3002 \u5982\u679c\u51fd\u6570\u6ca1\u6709\u58f0\u660e\u8fd4\u56de\u503c\uff0c\u51fd\u6570\u4e2d\u4e5f\u53ef\u4ee5\u4f7f\u7528return\u5173\u952e\u5b57\uff0c\u7528\u4e8e\u5f3a\u5236\u7ed3\u675f\u51fd\u6570\u3002 \u51fd\u6570\u4f53 \uff1a\u51fd\u6570\u5b9a\u4e49\u7684\u4ee3\u7801\u96c6\u5408\uff0c\u662f\u80fd\u591f\u88ab\u91cd\u590d\u8c03\u7528\u7684\u4ee3\u7801\u7247\u6bb5\u3002 2. \u53c2\u6570\u7c7b\u578b\u7b80\u5199 \u5728\u53c2\u6570\u5217\u8868\u4e2d\uff0c\u5982\u679c\u6709\u591a\u4e2a\u53c2\u6570\u53d8\u91cf\uff0c\u5219\u4ee5\u9017\u53f7\u5206\u9694\uff1b\u5982\u679c\u76f8\u90bb\u53d8\u91cf\u662f\u540c\u7c7b\u578b\uff0c\u5219\u53ef\u4ee5\u5c06\u7c7b\u578b\u7701\u7565\u3002\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u6240\u793a\uff1a func add (a,b int){} go\u8bed\u8a00\u7684\u51fd\u6570\u652f\u6301\u53ef\u53d8\u53c2\u6570\u3002\u63a5\u53d7\u53d8\u53c2\u7684\u51fd\u6570\u6709\u7740\u4e0d\u5b9a\u6570\u91cf\u7684\u53c2\u6570\uff0c\u8bed\u6cd5\u7ed3\u6784\u5982\u4e0b\uff1a func myfunc(arg ...int){} arg ...int\u544a\u8bc9Go\u8fd9\u4e2a\u51fd\u6570\u63a5\u53d7\u4e0d\u5b9a\u6570\u91cf\u7684\u53c2\u6570\u3002 \u6ce8\u610f\uff0c\u8fd9\u4e9b\u53c2\u6570\u7684\u7c7b\u578b\u5168\u90e8\u662fint\u3002\u5728\u51fd\u6570\u4f53\u4e2d\uff0c\u53d8\u91cfarg\u662f\u4e00\u4e2aint\u7684slice\uff08\u5207\u7247\uff09\u3002 \u53d8\u91cf\u4f5c\u7528\u57df \u4f5c\u7528\u57df\u662f\u53d8\u91cf\u3001\u5e38\u91cf\u3001\u7c7b\u578b\u3001\u51fd\u6570\u7684\u4f5c\u7528\u8303\u56f4\u3002 \u5728\u51fd\u6570\u4f53\u5185\u58f0\u660e\u7684\u53d8\u91cf\u79f0\u4e3a\u5c40\u90e8\u53d8\u91cf\uff0c\u5b83\u4eec\u7684\u4f5c\u7528\u57df\u53ea\u5728\u51fd\u6570\u4f53\u5185\uff0c\u751f\u547d\u5468\u671f\u540c\u6240\u5728\u7684\u51fd\u6570\u3002\u53c2\u6570\u548c\u8fd4\u56de\u503c\u53d8\u91cf\u4e5f\u662f\u5c40\u90e8\u53d8\u91cf\u3002 \u5728\u51fd\u6570\u4f53\u5916\u58f0\u660e\u7684\u53d8\u91cf\u79f0\u4e3a\u5168\u5c40\u53d8\u91cf\uff0c\u5168\u5c40\u53d8\u91cf\u53ef\u4ee5\u5728\u6574\u4e2a\u5305\u751a\u81f3\u5916\u90e8\u5305\uff08\u88ab\u5bfc\u51fa\u540e\uff09\u4f7f\u7528\u3002\u5168\u5c40\u53d8\u91cf\u7684\u751f\u547d\u5468\u671f\u540cmain()\u3002 \u5168\u5c40\u53d8\u91cf\u53ef\u4ee5\u5728\u4efb\u4f55\u51fd\u6570\u4e2d\u4f7f\u7528\u3002Go\u8bed\u8a00\u7a0b\u5e8f\u4e2d\u5168\u5c40\u53d8\u91cf\u4e0e\u5c40\u90e8\u53d8\u91cf\u540d\u79f0\u53ef\u4ee5\u76f8\u540c\uff0c\u4f46\u662f\u51fd\u6570\u5185\u7684\u5c40\u90e8\u53d8\u91cf\u4f1a\u88ab\u4f18\u5148\u8003\u8651\u3002 \u51fd\u6570\u4e2d\u5b9a\u4e49\u7684\u53c2\u6570\u79f0\u4e3a\u5f62\u5f0f\u53c2\u6570\uff0c\u5f62\u5f0f\u53c2\u6570\u4f1a\u4f5c\u4e3a\u51fd\u6570\u7684\u5c40\u90e8\u53d8\u91cf\u6765\u4f7f\u7528\u3002 \u4e3a\u4e86\u8ba9\u5927\u5bb6\u66f4\u76f4\u89c2\u5730\u7406\u89e3\u4f5c\u7528\u57df\uff0c\u4e0b\u9762\u901a\u8fc7\u4e00\u4e2a\u6848\u4f8b\u52a0\u4ee5\u5206\u6790\uff1a package main import \"fmt\" // \u58f0\u660e\u5168\u5c40\u53d8\u91cf var a1 int = 7 var b1 int = 9 // \u4e24\u6570\u76f8\u52a0\u7684\u51fd\u6570 func sum(a1, b1 int)(c1 int){ a1 ++ b1 += 2 c1 = a1 + b1 fmt.Printf(\"sum\u51fd\u6570\u4e2d\u7684 a1=%d\\n\", a1) //11 fmt.Printf(\"sum\u51fd\u6570\u4e2d\u7684 b1=%d\\n\", b1) //22 fmt.Printf(\"sum\u51fd\u6570\u4e2d\u7684 c1=%d\\n\", c1) //33 return c1 } func main() { // main \u51fd\u6570\u4e2d\u58f0\u660e\u5c40\u90e8\u53d8\u91cf a1, b1, c1 := 10, 20, 0 // \u5c40\u90e8\u4f5c\u7528\u57df\u4f18\u5148\u7528\u5c40\u90e8\u4f5c\u7528\u57df\u7684\u53d8\u91cf fmt.Printf(\"main\u51fd\u6570\u4e2d a1=%d\\n\", a1) // 10 fmt.Printf(\"main\u51fd\u6570\u4e2d b1=%d\\n\", b1) // 20 fmt.Printf(\"main\u51fd\u6570\u4e2d c1=%d\\n\", c1) // 0 c1 = sum(a1,b1) fmt.Printf(\"main\u51fd\u6570\u4e2d\u7684 c1\u53d8\u6210\u4e86:%d\",c1) //33 } \u8fd0\u884c\u7ed3\u679c\u53ef\u4ee5\u770b\u51fa\uff0c\u540c\u6837\u53d8\u91cf\u540d\u7684\u5c40\u90e8\u53d8\u91cf\u548c\u5168\u5c40\u53d8\u91cf\uff0c\u540c\u4e00\u4f5c\u7528\u57df\u5185\u4f18\u5148\u4f7f\u7528\u5c40\u90e8\u53d8\u91cf\uff0c\u6b63\u6240\u8c13\u201c\u5f3a\u9f99\u4e0d\u538b\u5730\u5934\u86c7\u201d\u3002 \u51fd\u6570\u53d8\u91cf(\u51fd\u6570\u4f5c\u4e3a\u503c)*** \u5728Go\u8bed\u8a00\u4e2d\uff0c\u51fd\u6570\u4e5f\u662f\u4e00\u79cd\u7c7b\u578b\uff0c\u53ef\u4ee5\u548c\u5176\u4ed6\u7c7b\u578b\uff08\u5982int32\u3001float\u7b49\u7b49\uff09\u4e00\u6837\u88ab\u4fdd\u5b58\u5728\u53d8\u91cf\u4e2d\u3002 \u5728Go\u8bed\u8a00\u4e2d\u53ef\u4ee5\u901a\u8fc7type\u6765\u5b9a\u4e49\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7c7b\u578b\u3002\u51fd\u6570\u7684\u53c2\u6570\u5b8c\u5168\u76f8\u540c\uff08\u5305\u62ec\u53c2\u6570\u7c7b\u578b\u3001\u4e2a\u6570\u3001\u987a\u5e8f\uff09\uff0c\u51fd\u6570\u8fd4\u56de\u503c\u76f8\u540c\u3002 \u51fd\u6570\u53d8\u91cf\u6848\u4f8b\u4e00 package main import ( \"fmt\" \"strings\" ) func main() { result := StringToLower(\"ADSDFDSKJLkjklsdUOSDFSDF\",processCase) // 7\u884c fmt.Println(result) //AdSdFdSkJlKjKlSdUoSdFsDf result = StringToLower2(\"ADSDFDSKJLkjklsdUOSDFSDF\",processCase) fmt.Println(result) //AdSdFdSkJlKjKlSdUoSdFsDf } // \u5904\u7406\u5b57\u7b26\u4e32\uff0c\u5947\u6570\u5076\u6570\u4f9d\u6b21\u663e\u793a\u4e3a\u5927\u5c0f\u5199 func processCase(str string) string{ // 13\u884c ret := \"\" for i,value := range str{ if i%2 ==0{ ret += strings.ToUpper(string(value)) }else{ ret += strings.ToLower(string(value)) } } return ret } func StringToLower(str string, f func(string) string) string{ // 24\u884c fmt.Printf(\"StringToLower>>> %T \\n\",f) //func(string) string return f(str) } type caseFunc func(string) string // 28\u884c:\u58f0\u660e\u4e86\u4e00\u4e2a\u51fd\u6570\u7c7b\u578b\uff0c\u901a\u8fc7type\u5173\u952e\u5b57\uff0ccaseFunc\u4f1a\u5f62\u6210\u4e00\u79cd\u65b0\u7684\u7c7b\u578b func StringToLower2(str string, f caseFunc) string{ // \u6253\u5370\u53d8\u91cff\u7684\u7c7b\u578b fmt.Printf(\"StringToLower2>>> %T \\n\",f) //main.caseFunc return f(str) } \u5728\u4e0a\u4f8b\u4e2d\uff0c\u7b2c24\u884c\u58f0\u660e\u4e86\u51fd\u6570StringToLower()\uff0c\u7b2c\u4e8c\u4e2a\u4f20\u5165\u53c2\u6570\u4e3a\u4e00\u4e2a\u51fd\u6570\u7c7b\u578b\u53d8\u91cff\u3002\u7b2c7\u884c\u8c03\u7528\u4e86\u51fd\u6570StringToLower()\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4f20\u5165\u4e86\u5728\u7b2c13\u884c\u58f0\u660e\u7684\u51fd\u6570processCase()\u3002\u8fd9\u6837\u5728\u51fd\u6570StringToLower()\u4e2d\u53ef\u4ee5\u901a\u8fc7\u51fd\u6570\u53d8\u91cff\u6267\u884c\u51fd\u6570processCase()\u3002\u7b2c28\u884c\u5c06\u53c2\u6570\u76f8\u540c\u7684\u51fd\u6570\u7c7b\u578b\u58f0\u660e\u4e3a\u65b0\u7684\u7c7b\u578bcaseFunc\uff0c\u90a3\u4e48caseFunc\u5c31\u4ee3\u8868\u7740\u8fd9\u4e00\u79cd\u51fd\u6570\u53d8\u91cf\u4f7f\u7528\u5728StringToLower2()\u4e2d\u3002 \u51fd\u6570\u53d8\u91cf\u6848\u4f8b\u4e8c package main import \"fmt\" type processFunc func(int) bool // \u58f0\u660e\u4e86\u4e00\u4e2a\u51fd\u6570\u7c7b\u578b func main() { slice := []int{1, 2, 3, 4, 5, 7} fmt.Println(\"slice = \",slice) odd := filter(slice, isOdd) // \u51fd\u6570\u5f53\u4f5c\u503c\u6765\u4f20\u9012 fmt.Println(\"\u5947\u6570\u5143\u7d20:\", odd) even := filter(slice, isEven) // \u51fd\u6570\u5f53\u4f5c\u503c\u4f20\u9012 fmt.Println(\"\u5076\u6570\u5143\u7d20:\", even) } //\u5224\u65ad\u5143\u7d20\u662f\u5426\u662f\u5076\u6570 func isEven(integer int) bool{ if integer%2 == 0{ return true } return false } //\u5224\u65ad\u5143\u7d20\u662f\u5426\u662f\u5947\u6570 func isOdd(integer int) bool{ if integer%2 == 0{ return false } return true } //\u6839\u636e\u51fd\u6570\u6765\u5904\u7406\u5207\u7247\uff0c\u6839\u636e\u5143\u7d20\u7684\u5947\u6570\u5076\u6570\u5206\u7ec4\uff0c\u8fd4\u56de\u65b0\u7684\u5207\u7247 func filter(slice []int, f processFunc) []int{ var ret []int for _, value := range(slice){ if f(value){ ret = append(ret,value) } } return ret } /* slice = [1 2 3 4 5 7] \u5947\u6570\u5143\u7d20: [1 3 5 7] \u5076\u6570\u5143\u7d20: [2 4] */ \u51fd\u6570\u53d8\u91cf\u7684\u4f7f\u7528\u6b65\u9aa4\u53ca\u610f\u4e49\u5982\u4e0b: \u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\u7c7b\u578b\u3002 \u5b9e\u73b0\u5b9a\u4e49\u7684\u51fd\u6570\u7c7b\u578b\u3002 \u4f5c\u4e3a\u53c2\u6570\u8c03\u7528\u3002 \u51fd\u6570\u53d8\u91cf\u7684\u7528\u6cd5\u7c7b\u4f3c\u63a5\u53e3\u7684\u7528\u6cd5\u3002 \u51fd\u6570\u5f53\u4f5c\u503c\u548c\u7c7b\u578b\u5728\u5199\u4e00\u4e9b\u901a\u7528\u63a5\u53e3\u7684\u65f6\u5019\u975e\u5e38\u6709\u7528\uff0c\u901a\u8fc7\u4e0a\u9762\u7684\u4f8b\u5b50\u53ef\u4ee5\u770b\u5230processFunc\u8fd9\u4e2a\u7c7b\u578b\u662f\u4e00\u4e2a\u51fd\u6570\u7c7b\u578b\uff0c\u7136\u540e\u4e24\u4e2afilter\u51fd\u6570\u7684\u53c2\u6570\u548c\u8fd4\u56de\u503c\u4e0eprocessFunc\u7c7b\u578b\u662f\u4e00\u6837\u7684\u3002\u7528\u6237\u53ef\u4ee5\u5b9e\u73b0\u5f88\u591a\u79cd\u903b\u8f91\uff0c\u8fd9\u6837\u4f7f\u5f97\u7a0b\u5e8f\u53d8\u5f97\u975e\u5e38\u7075\u6d3b\u3002 4.2 \u533f\u540d\u51fd\u6570 *** Go\u8bed\u8a00\u652f\u6301\u533f\u540d\u51fd\u6570\uff0c\u5373\u5728\u9700\u8981\u4f7f\u7528\u51fd\u6570\u65f6\u518d\u5b9a\u4e49\u51fd\u6570\u3002\u533f\u540d\u51fd\u6570\u6ca1\u6709\u51fd\u6570\u540d\uff0c\u53ea\u6709\u51fd\u6570\u4f53\uff0c\u51fd\u6570\u53ef\u4ee5\u4f5c\u4e3a\u4e00\u79cd\u7c7b\u578b\u88ab\u8d4b\u503c\u7ed9\u53d8\u91cf\uff0c \u533f\u540d\u51fd\u6570\u4e5f\u5f80\u5f80\u4ee5\u53d8\u91cf\u65b9\u5f0f\u88ab\u4f20\u9012 \u3002 \u533f\u540d\u51fd\u6570\u7ecf\u5e38\u88ab\u7528\u4e8e\u5b9e\u73b0\u56de\u8c03\u51fd\u6570\u3001\u95ed\u5305\u7b49\u3002 \u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u6240\u793a\uff1a func(\u53c2\u6570\u5217\u8868)(\u8fd4\u56de\u53c2\u6570\u5217\u8868){ // \u51fd\u6570\u4f53 } 1. \u5728\u5b9a\u4e49\u65f6\u8c03\u7528\u533f\u540d\u51fd\u6570 package main import \"fmt\" func main(){ func(data int){ fmt.Println(\"hello!\",data) }(250) } //hello! 250 2. \u5c06\u533f\u540d\u51fd\u6570\u8d4b\u503c\u7ed9\u53d8\u91cf package main import \"fmt\" func main(){ f := func(data string){ fmt.Println(data) } f(\"\u706b\u5f71whw\") } //\u706b\u5f71whw 3. \u533f\u540d\u51fd\u6570\u7528\u4f5c\u56de\u8c03\u51fd\u6570 *** package main import ( \"fmt\" \"math\" ) func main(){ // \u8c03\u7528\u51fd\u6570\uff0c\u5bf9\u6bcf\u4e2a\u5143\u7d20\u8fdb\u884c\u6c42\u5e73\u65b9\u6839\u7684\u64cd\u4f5c arr := []float64{1,9,16,25,33} visit(arr, func(v float64){ v = math.Sqrt(v) fmt.Printf(\"\u5e73\u65b9\u6839:%.2f \",v) }) println() // \u8c03\u7528\u51fd\u6570\uff0c\u5bf9\u6bcf\u4e2a\u5143\u7d20\u8fdb\u884c\u6c42\u5e73\u65b9\u64cd\u4f5c visit(arr, func(v float64){ v = math.Pow(v,2) fmt.Printf(\"\u5e73\u65b9:%.0f \", v) }) } // \u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\uff0c\u904d\u5386\u5207\u7247\u5143\u7d20\uff0c\u5bf9\u6bcf\u4e2a\u5143\u7d20\u8fdb\u884c\u5904\u7406 func visit(lst []float64, f func(float64)){ for _, value := range lst{ f(value) } } /* \u5e73\u65b9\u6839:1.00 \u5e73\u65b9\u6839:3.00 \u5e73\u65b9\u6839:4.00 \u5e73\u65b9\u6839:5.00 \u5e73\u65b9\u6839:5.74 \u5e73\u65b9:1 \u5e73\u65b9:81 \u5e73\u65b9:256 \u5e73\u65b9:625 \u5e73\u65b9:1089 */ 6 \u95ed\u5305closure *** 1. \u95ed\u5305\u7684\u6982\u5ff5 \u95ed\u5305\u5e76\u4e0d\u662f\u4ec0\u4e48\u65b0\u5947\u7684\u6982\u5ff5\uff0c\u5b83\u65e9\u5728\u9ad8\u7ea7\u8bed\u8a00\u5f00\u59cb\u53d1\u5c55\u7684\u5e74\u4ee3\u5c31\u4ea7\u751f\u4e86\u3002\u95ed\u5305\uff08Closure\uff09\u662f\u8bcd\u6cd5\u95ed\u5305\uff08Lexical Closure\uff09\u7684\u7b80\u79f0\u3002 \u95ed\u5305\u662f\u7531\u51fd\u6570\u548c\u4e0e\u5176\u76f8\u5173\u7684\u5f15\u7528\u73af\u5883\u7ec4\u5408\u800c\u6210\u7684\u5b9e\u4f53\u3002\u5728\u5b9e\u73b0\u6df1\u7ea6\u675f\u65f6\uff0c\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u80fd\u663e\u5f0f\u8868\u793a\u5f15\u7528\u73af\u5883\u7684\u4e1c\u897f\uff0c\u5e76\u5c06\u5b83\u4e0e\u76f8\u5173\u7684\u5b50\u7a0b\u5e8f\u6346\u7ed1\u5728\u4e00\u8d77\uff0c\u8fd9\u6837\u6346\u7ed1\u8d77\u6765\u7684\u6574\u4f53\u88ab\u79f0\u4e3a\u95ed\u5305\u3002\u51fd\u6570 + \u5f15\u7528\u73af\u5883 = \u95ed\u5305\u3002 \u95ed\u5305\u53ea\u662f\u5728\u5f62\u5f0f\u548c\u8868\u73b0\u4e0a\u50cf\u51fd\u6570\uff0c\u4f46\u5b9e\u9645\u4e0a\u4e0d\u662f\u51fd\u6570\u3002\u51fd\u6570\u662f\u4e00\u4e9b\u53ef\u6267\u884c\u7684\u4ee3\u7801\uff0c\u8fd9\u4e9b\u4ee3\u7801\u5728\u51fd\u6570\u88ab\u5b9a\u4e49\u540e\u5c31\u786e\u5b9a\u4e86\uff0c\u4e0d\u4f1a\u5728\u6267\u884c\u65f6\u53d1\u751f\u53d8\u5316\uff0c\u6240\u4ee5\u4e00\u4e2a\u51fd\u6570\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\u3002 \u95ed\u5305\u5728\u8fd0\u884c\u65f6\u53ef\u4ee5\u6709\u591a\u4e2a\u5b9e\u4f8b\uff0c\u4e0d\u540c\u7684\u5f15\u7528\u73af\u5883\u548c\u76f8\u540c\u7684\u51fd\u6570\u7ec4\u5408\u53ef\u4ee5\u4ea7\u751f\u4e0d\u540c\u7684\u5b9e\u4f8b\u3002 \u95ed\u5305\u5728\u67d0\u4e9b\u7f16\u7a0b\u8bed\u8a00\u4e2d\u88ab\u79f0\u4e3aLambda\u8868\u8fbe\u5f0f\u3002 \u51fd\u6570\u672c\u8eab\u4e0d\u5b58\u50a8\u4efb\u4f55\u4fe1\u606f\uff0c\u53ea\u6709\u4e0e\u5f15\u7528\u73af\u5883\u7ed3\u5408\u540e\u5f62\u6210\u7684\u95ed\u5305\u624d\u5177\u6709\u201c\u8bb0\u5fc6\u6027\u201d\u3002\u51fd\u6570\u662f\u7f16\u8bd1\u5668\u9759\u6001\u7684\u6982\u5ff5\uff0c\u800c\u95ed\u5305\u662f\u8fd0\u884c\u671f\u52a8\u6001\u7684\u6982\u5ff5\u3002 \u5bf9\u8c61\u662f\u9644\u6709\u884c\u4e3a\u7684\u6570\u636e\uff0c\u800c\u95ed\u5305\u662f\u9644\u6709\u6570\u636e\u7684\u884c\u4e3a\u3002 2. \u95ed\u5305\u7684\u4f18\u70b9 \uff081\uff09\u52a0\u5f3a\u6a21\u5757\u5316\u3002\u95ed\u5305\u6709\u76ca\u4e8e\u6a21\u5757\u5316\u7f16\u7a0b\uff0c\u4fbf\u4e8e\u4ee5\u7b80\u5355\u7684\u65b9\u5f0f\u5f00\u53d1\u8f83\u5c0f\u7684\u6a21\u5757\uff0c\u4ece\u800c\u63d0\u9ad8\u5f00\u53d1\u901f\u5ea6\u548c\u7a0b\u5e8f\u7684\u53ef\u590d\u7528\u6027\u3002\u548c\u6ca1\u6709\u4f7f\u7528\u95ed\u5305\u7684\u7a0b\u5e8f\u76f8\u6bd4\uff0c\u4f7f\u7528\u95ed\u5305\u53ef\u5c06\u6a21\u5757\u5212\u5206\u5f97\u66f4\u5c0f\u3002 \u6bd4\u5982\u8981\u8ba1\u7b97\u4e00\u4e2a\u6570\u7ec4\u4e2d\u6240\u6709\u6570\u5b57\u7684\u548c\uff0c\u53ea\u9700\u8981\u5faa\u73af\u904d\u5386\u6570\u7ec4\uff0c\u628a\u904d\u5386\u5230\u7684\u6570\u5b57\u52a0\u8d77\u6765\u5c31\u884c\u4e86\u3002\u5982\u679c\u73b0\u5728\u8981\u8ba1\u7b97\u6240\u6709\u5143\u7d20\u7684\u79ef\uff0c\u53c8\u6216\u8005\u8981\u6253\u5370\u6240\u6709\u7684\u5143\u7d20\u5462\uff1f\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\u90fd\u8981\u5bf9\u6570\u7ec4\u8fdb\u884c\u904d\u5386\uff0c\u5982\u679c\u662f\u5728\u4e0d\u652f\u6301\u95ed\u5305\u7684\u8bed\u8a00\u4e2d\uff0c\u7a0b\u5e8f\u5458\u4e0d\u5f97\u4e0d\u4e00\u6b21\u53c8\u4e00\u6b21\u91cd\u590d\u5730\u5199\u5faa\u73af\u8bed\u53e5\u3002\u800c\u8fd9\u5728\u652f\u6301\u95ed\u5305\u7684\u8bed\u8a00\u4e2d\u662f\u4e0d\u5fc5\u8981\u7684\u3002\u8fd9\u79cd\u5904\u7406\u65b9\u6cd5\u591a\u5c11\u6709\u70b9\u50cf\u56de\u8c03\u51fd\u6570\uff0c\u4e0d\u8fc7\u8981\u6bd4\u56de\u8c03\u51fd\u6570\u5199\u6cd5\u66f4\u7b80\u5355\uff0c\u529f\u80fd\u66f4\u5f3a\u5927\u3002 \uff082\uff09\u62bd\u8c61\u3002\u95ed\u5305\u662f\u6570\u636e\u548c\u884c\u4e3a\u7684\u7ec4\u5408\uff0c\u8fd9\u4f7f\u5f97\u95ed\u5305\u5177\u6709\u8f83\u597d\u7684\u62bd\u8c61\u80fd\u529b\u3002 \uff083\uff09\u7b80\u5316\u4ee3\u7801\u3002 \u4e00\u4e2a\u7f16\u7a0b\u8bed\u8a00\u9700\u8981\u4ee5\u4e0b\u7279\u6027\u6765\u652f\u6301\u95ed\u5305\uff1a \u51fd\u6570\u662f\u4e00\u9636\u503c\uff08First-class value\uff0c\u4e00\u7b49\u516c\u6c11\uff09\uff0c\u5373\u51fd\u6570\u53ef\u4ee5\u4f5c\u4e3a\u53e6\u4e00\u4e2a\u51fd\u6570\u7684\u8fd4\u56de\u503c\u6216\u53c2\u6570\uff0c\u8fd8\u53ef\u4ee5\u4f5c\u4e3a\u4e00\u4e2a\u53d8\u91cf\u7684\u503c\u3002 \u51fd\u6570\u53ef\u4ee5\u5d4c\u5957\u5b9a\u4e49\uff0c\u5373\u5728\u4e00\u4e2a\u51fd\u6570\u5185\u90e8\u53ef\u4ee5\u5b9a\u4e49\u53e6\u4e00\u4e2a\u51fd\u6570\u3002 \u5141\u8bb8\u5b9a\u4e49\u533f\u540d\u51fd\u6570\u3002 \u53ef\u4ee5\u6355\u83b7\u5f15\u7528\u73af\u5883\uff0c\u5e76\u628a\u5f15\u7528\u73af\u5883\u548c\u51fd\u6570\u4ee3\u7801\u7ec4\u6210\u4e00\u4e2a\u53ef\u8c03\u7528\u7684\u5b9e\u4f53\u3002 \u7531\u4e8e\u95ed\u5305\u51fd\u6570\u201c\u6355\u83b7\u201d\u4e86\u548c\u5b83\u5728\u540c\u4e00\u4f5c\u7528\u57df\u7684\u5176\u4ed6\u5e38\u91cf\u548c\u53d8\u91cf\uff0c\u6240\u4ee5\u5f53\u95ed\u5305\u5728\u4efb\u4f55\u5730\u65b9\u88ab\u8c03\u7528\uff0c\u95ed\u5305\u90fd\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e9b\u5e38\u91cf\u6216\u8005\u53d8\u91cf\u3002\u5b83\u4e0d\u5173\u5fc3\u8fd9\u4e9b\u53d8\u91cf\u662f\u5426\u5df2\u7ecf\u8d85\u51fa\u4f5c\u7528\u57df\uff0c\u53ea\u8981\u95ed\u5305\u8fd8\u5728\u4f7f\u7528\u8fd9\u4e9b\u53d8\u91cf\uff0c\u8fd9\u4e9b\u53d8\u91cf\u5c31\u4f9d\u7136\u5b58\u5728\u3002 \u6ca1\u6709\u4f7f\u7528\u95ed\u5305\u8fdb\u884c\u8ba1\u6570\u7684\u4ee3\u7801\uff1a package main import \"fmt\" func main(){ for i:=0;i<5;i++{ fmt.Printf(\"i=%d \",i) fmt.Println(add2(i)) } } func add2(x int) int{ sum := 0 sum += x return x } // for\u5faa\u73af\u6bcf\u6267\u884c\u4e00\u6b21\uff0csum\u90fd\u4f1a\u6e05\u96f6\uff0c\u6ca1\u6709\u5b9e\u73b0sum\u7d2f\u52a0\u8ba1\u6570\u3002 /* i=0 0 i=1 1 i=2 2 i=3 3 i=4 4 */ 3.\u95ed\u5305\u5b9e\u73b0\u8ba1\u6570\u53ca\u8bf4\u660e package main import \"fmt\" func main(){ pos := adder() for i := 0;i<=5;i++{ fmt.Printf(\"i=%d \",i) fmt.Println(pos(i)) } fmt.Println(\"------------------\u7ee7\u7eed\u5728\u4e4b\u524d\u7684\u57fa\u7840\u4e0a\u7d2f\u548c-----------------\") for i := 0;i<=5;i++{ fmt.Printf(\"i=%d \",i) fmt.Println(pos(i)) } } // \u8fd9\u91cc\u7684 adder\u662f\u4e00\u4e2a\u51fd\u6570 \u2014\u2014 \u8fd4\u56de\u7684\u7c7b\u578b\u662f func(int) int func adder() func(int) int{ sum := 0 // \u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u533f\u540d\u51fd\u6570 return func(x int) int{ fmt.Printf(\"sum1=%d \",sum) sum += x fmt.Printf(\"sum2=%d \",sum) return sum } } /* i=0 sum1=0 sum2=0 0 i=1 sum1=0 sum2=1 1 i=2 sum1=1 sum2=3 3 i=3 sum1=3 sum2=6 6 i=4 sum1=6 sum2=10 10 i=5 sum1=10 sum2=15 15 ------------------\u7ee7\u7eed\u5728\u4e4b\u524d\u7684\u57fa\u7840\u4e0a\u7d2f\u548c----------------- i=0 sum1=15 sum2=15 15 i=1 sum1=15 sum2=16 16 i=2 sum1=16 sum2=18 18 i=3 sum1=18 sum2=21 21 i=4 sum1=21 sum2=25 25 i=5 sum1=25 sum2=30 30 */ \uff081\uff09\u8fd9\u91cc\u7684 adder\u662f\u4e00\u4e2a\u51fd\u6570 \u2014\u2014 \u8fd4\u56de\u7684\u7c7b\u578b\u662f func(int) int\uff01 \uff082\uff09adder\u51fd\u6570\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u533f\u540d\u51fd\u6570\uff0c\u4f46\u662f\u8fd9\u4e2a\u533f\u540d\u51fd\u6570\u5f15\u7528\u5230\u51fd\u6570\u5916\u7684sum\uff0c\u56e0\u6b64\u8fd9\u4e2a\u533f\u540d\u51fd\u6570\u5c31\u548csum\u5f62\u6210\u4e00\u4e2a\u6574\u4f53\uff0c\u6784\u6210\u95ed\u5305\u3002 \uff083\uff09\u5f53\u6211\u4eec\u53cd\u590d\u8c03\u7528pos\u51fd\u6570\u7684\u65f6\u5019\uff0c\u56e0\u4e3asum\u662f\u521d\u59cb\u5316\u4e00\u6b21\uff0c\u56e0\u6b64\u6bcf\u6b21\u8c03\u7528\u90fd\u4f1a\u8fdb\u884c\u7d2f\u8ba1\u3002 \uff084\uff09\u6211\u4eec\u8981\u641e\u6e05\u695a\u95ed\u5305\u7684\u5173\u952e\uff0c\u5c31\u8981\u5206\u6790\u51fa\u8fd4\u56de\u7684\u51fd\u6570\u5b83\u4f7f\u7528(\u5f15\u7528)\u5230\u54ea\u4e9b\u53d8\u91cf\uff0c\u56e0\u4e3a\u51fd\u6570\u548c\u5b83\u5f15\u7528\u5230\u7684\u53d8\u91cf\u5171\u540c\u6784\u6210\u95ed\u5305 4.\u95ed\u5305\u7684\u6700\u4f73\u5b9e\u8df51 package main import \"fmt\" func main(){ myfunc := Counter() fmt.Println(\"myfunc\",myfunc)//myfunc 0x109f170 // \u8c03\u7528 myfunc\u51fd\u6570\uff0ci\u53d8\u91cf\u81ea\u589e1\u5e76\u8fd4\u56de fmt.Println(myfunc())//1 fmt.Println(myfunc())//2 fmt.Println(myfunc())//3 // \u521b\u5efa\u65b0\u7684\u51fd\u6570 nextNumber1\uff0c\u5e76\u67e5\u770b\u7ed3\u679c myfunc1 := Counter() fmt.Println(\"myfunc1>>\",myfunc1)//0x109f180 fmt.Println(\"myfunc1\u7684ret>>\",myfunc1()) //1 fmt.Println(\"myfunc1\u7684ret>>\",myfunc1()) //2 } // \u8ba1\u6570\u5668\uff0c\u95ed\u5305\u51fd\u6570 func Counter() func() int{ i := 0 res := func() int{ i += 1 return i } fmt.Printf(\"%T, %v \\n\", res, res) //func() int, 0x109f170 fmt.Println(\"Counter\u4e2d\u7684\u5185\u90e8\u51fd\u6570:\",res) //Counter\u4e2d\u7684\u5185\u90e8\u51fd\u6570: 0x109f170 return res } 5.\u95ed\u5305\u7684\u6700\u4f73\u5b9e\u8df52 \u8981\u6c42\uff1a 1\u3001\u51fd\u6570 makeSuffix(suffix string) \u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u6587\u4ef6\u540e\u7f00(\u6bd4\u5982.jpg)\uff0c\u8fd4\u56de\u4e00\u4e2a\u95ed\u5305\u3002 2\u3001\u8c03\u7528\u95ed\u5305\uff0c\u53ef\u4ee5\u4f20\u5165\u4e00\u4e2a\u6587\u4ef6\u540d\uff0c\u5982\u679c\u8be5\u6587\u4ef6\u540d\u6ca1\u6709\u6307\u5b9a\u540e\u7f00\uff0c\u5c31\u8fd4\u56de\u6587\u4ef6\u540d.jpg\uff0c\u5982\u679c\u6709\u540e\u7f00\u4e86\u5c31\u8fd4\u56de\u539f\u6587\u4ef6\u3002 3\u3001strings.HasSuffix\u51fd\u6570\u53ef\u4ee5\u5224\u65ad\u67d0\u4e2a\u5b57\u7b26\u4e32\u662f\u5426\u6709\u6307\u5b9a\u7684\u540e\u7f00\u3002 package main import ( \"fmt\" \"strings\" ) // \u95ed\u5305\u7684\u4f7f\u7528 func makeSuffix(suffix string) func(string) string{ return func (name string) string{ // \u5982\u679cname\u6ca1\u6709\u540e\u7f00\u5c31\u52a0\u4e0a\uff0c\u5982\u679c\u6709\u5c31\u8fd4\u56de\u539f\u6765\u7684\u540d\u5b57 if !strings.HasSuffix(name,suffix){ return name + suffix } return name } } func main() { // \u8fd4\u56de\u4e00\u4e2a\u95ed\u5305 f2 := makeSuffix(\".mp4\") fmt.Println(\"\u6587\u4ef6\u5904\u7406\u540e\uff1a\",f2(\"whw\")) // whw.mp4 fmt.Println(\"\u6587\u4ef6\u5904\u7406\u540e\uff1a\",f2(\"wanghw.mp4\")) // wanghw.mp4 } \u4e0a\u9762\u4ee3\u7801\u7684\u8bf4\u660e: \uff081\uff09\u8fd4\u56de\u7684\u533f\u540d\u51fd\u6570\u548c makeSuffix(suffix string)\u7684 suffix \u53d8\u91cf\uff0c\u7ec4\u5408\u6210\u4e00\u4e2a\u95ed\u5305\uff0c\u56e0\u4e3a\u8fd4\u56de\u7684\u51fd\u6570\u5f15\u7528\u5230\u4e86suffix\u8fd9\u4e2a\u53d8\u91cf\u4e86\uff01 \uff082\uff09\u6bd4\u4f20\u7edf\u65b9\u6cd5\u7684\u597d\u5904\u662f\uff1a\u4f20\u7edf\u7684\u65b9\u6cd5\u9700\u8981\u6bcf\u6b21\u90fd\u4f20\u5165\u540e\u7f00\u540d\uff08\u6bd4\u5982.mp4\uff09\uff0c\u800c\u95ed\u5305\u53ef\u4ee5\u4fdd\u7559\u4e0a\u6b21\u5f15\u7528\u7684\u67d0\u4e2a\u503c\uff0c\u6240\u4ee5\u6211\u4eec\u4f20\u5165\u4e00\u6b21\u5373\u53ef\u53cd\u590d\u4f7f\u7528\uff01 7 \u53ef\u53d8\u53c2\u6570 \u5982\u679c\u4e00\u4e2a\u51fd\u6570\u7684\u53c2\u6570\uff0c\u7c7b\u578b\u4e00\u81f4\uff0c\u4f46\u4e2a\u6570\u4e0d\u5b9a\uff0c\u53ef\u4ee5\u4f7f\u7528\u51fd\u6570\u7684\u53ef\u53d8\u53c2\u6570\u3002\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u6240\u793a func \u51fd\u6570\u540d(\u53c2\u6570\u540d ...\u7c7b\u578b)[\u8fd4\u56de\u503c\u5217\u8868]{ // \u51fd\u6570\u4f53 } \u8be5\u8bed\u6cd5\u683c\u5f0f\u5b9a\u4e49\u4e86\u4e00\u4e2a\u63a5\u53d7\u4efb\u4f55\u6570\u76ee\u3001\u4efb\u4f55\u7c7b\u578b\u53c2\u6570\u7684\u51fd\u6570\u3002 \u8fd9\u91cc\u7279\u6b8a\u7684\u8bed\u6cd5\u662f\u4e09\u4e2a\u70b9\u201c...\u201d\uff0c \u5728\u4e00\u4e2a\u53d8\u91cf\u540e\u9762\u52a0\u4e0a\u4e09\u4e2a\u70b9\uff0c\u8868\u793a\u4ece\u8be5\u5904\u5f00\u59cb\u63a5\u53d7\u53ef\u53d8\u53c2\u6570\u3002 \u5f53\u8981\u4f20\u9012\u82e5\u5e72\u4e2a\u503c\u5230\u53ef\u53d8\u53c2\u6570\u51fd\u6570\u4e2d\u65f6\uff0c\u53ef\u4ee5\u624b\u52a8\u4e66\u5199\u6bcf\u4e2a\u53c2\u6570\uff0c\u4e5f\u53ef\u4ee5\u5c06\u4e00\u4e2aslice\u4f20\u9012\u7ed9\u8be5\u51fd\u6570\uff0c\u901a\u8fc7\u201c...\u201d\u53ef\u4ee5\u5c06slice\u4e2d\u7684\u53c2\u6570\u5bf9\u5e94\u5730\u4f20\u9012\u7ed9\u51fd\u6570\u3002 package main import \"fmt\" func main(){ sum, avg, count := GetScore(90,87,86,92) fmt.Printf(\"sum=%.2f, avg=%.2f, count=%d\",sum,avg,count)//sum=355.00, avg=88.75, count=4 fmt.Println() // \u5217\u8868\u4f20\u4e0d\u5b9a\u53c2\u6570\uff0c\u540e\u9762\u8ddf... scores := []float64{99,88,55,21.1,97,3} sum2, avg2, count2 := GetScore(scores...) fmt.Printf(\"sum=%.2f, avg=%.2f, count=%d\",sum2,avg2,count2)//sum=363.10, avg=60.52, count=6 } func GetScore(scores ...float64)(sum, avg float64,count int){ for _,value := range scores{ sum += value count ++ } avg = sum / float64(count) return } \u4f7f\u7528\u53ef\u53d8\u53c2\u6570\u5e94\u6ce8\u610f\u5982\u4e0b\u7ec6\u8282: \u4e00\u4e2a\u51fd\u6570\u6700\u591a\u53ea\u80fd\u6709\u4e00\u4e2a\u53ef\u53d8\u53c2\u6570\u3002 \u82e5\u53c2\u6570\u5217\u8868\u4e2d\u8fd8\u6709\u5176\u4ed6\u7c7b\u578b\u53c2\u6570\uff0c\u5219\u53ef\u53d8\u53c2\u6570\u5199\u5728\u6240\u6709\u53c2\u6570\u7684\u6700\u540e\u3002 8 \u9012\u5f52\u51fd\u6570 \u5728\u51fd\u6570\u5185\u90e8\uff0c\u53ef\u4ee5\u8c03\u7528\u5176\u4ed6\u51fd\u6570\u3002\u5982\u679c\u4e00\u4e2a\u51fd\u6570\u5728\u5185\u90e8\u8c03\u7528\u81ea\u8eab\uff0c\u90a3\u4e48\u8fd9\u4e2a\u51fd\u6570\u5c31\u662f\u9012\u5f52\u51fd\u6570\u3002\u9012\u5f52\u51fd\u6570\u5fc5\u987b\u6ee1\u8db3\u4ee5\u4e0b\u4e24\u4e2a\u6761\u4ef6\u3002 \uff081\uff09\u5728\u6bcf\u4e00\u6b21\u8c03\u7528\u81ea\u5df1\u65f6\uff0c\u5fc5\u987b\u662f\uff08\u5728\u67d0\u79cd\u610f\u4e49\u4e0a\uff09\u66f4\u63a5\u8fd1\u4e8e\u89e3\u3002 \uff082\uff09\u5fc5\u987b\u6709\u4e00\u4e2a\u7ec8\u6b62\u5904\u7406\u6216\u8ba1\u7b97\u7684\u51c6\u5219\u3002 \u4e0b\u9762\u901a\u8fc7\u6848\u4f8b\u6765\u7406\u89e3\u9012\u5f52\u51fd\u6570\u7684\u4f5c\u7528\u3002 \u8ba1\u7b97\u9636\u4e58n!=1\u00d72\u00d73\u00d7...\u00d7n\uff0c\u7528\u51fd\u6570fact(n)\u8868\u793a\uff0c\u53ef\u4ee5\u770b\u51fa\uff1afact(n)=n!=1\u00d72\u00d73\u00d7...\u00d7(n-1)\u00d7n=(n-1)!\u00d7n=fact(n-1)\u00d7n\u3002\u6240\u4ee5\uff0cfact(n)\u53ef\u4ee5\u8868\u793a\u4e3an\u00d7fact(n-1)\uff0c\u53ea\u6709n=1\u65f6\u9700\u8981\u7279\u6b8a\u5904\u7406\u3002\u5982\u4f8b4-11\u6240\u793a\u3002 \u9012\u5f52\u7684\u8ba1\u7b97\u8fc7\u7a0b\u5982\u4e0b\u6240\u793a\u3002 \u4f7f\u7528\u9012\u5f52\u9700\u8981\u6ce8\u610f\u5982\u4e0b\u4e8b\u9879\uff1a \u9012\u5f52\u51fd\u6570\u7684\u4f18\u70b9\u662f\u5b9a\u4e49\u7b80\u5355\uff0c\u903b\u8f91\u6e05\u6670\u3002\u7406\u8bba\u4e0a\uff0c\u6240\u6709\u7684\u9012\u5f52\u51fd\u6570\u90fd\u53ef\u4ee5\u7528\u5faa\u73af\u7684\u65b9\u5f0f\u5b9e\u73b0\uff0c\u4f46\u5faa\u73af\u7684\u903b\u8f91\u4e0d\u5982\u9012\u5f52\u6e05\u6670\u3002 \u4f7f\u7528\u9012\u5f52\u51fd\u6570\u9700\u8981\u6ce8\u610f\u9632\u6b62\u6808\u6ea2\u51fa\u3002\u5728\u8ba1\u7b97\u673a\u4e2d\uff0c\u51fd\u6570\u8c03\u7528\u662f\u901a\u8fc7\u6808\uff08stack\uff09\u8fd9\u79cd\u6570\u636e\u7ed3\u6784\u5b9e\u73b0\u7684\uff0c\u6bcf\u5f53\u8fdb\u5165\u4e00\u4e2a\u51fd\u6570\u8c03\u7528\uff0c\u6808\u5c31\u4f1a\u52a0\u4e00\u5c42\uff0c\u6bcf\u5f53\u51fd\u6570\u8fd4\u56de\uff0c\u6808\u5c31\u4f1a\u51cf\u4e00\u5c42\u3002\u7531\u4e8e\u6808\u7684\u5927\u5c0f\u4e0d\u662f\u65e0\u9650\u7684\uff0c\u6240\u4ee5\uff0c\u9012\u5f52\u8c03\u7528\u7684\u6b21\u6570\u8fc7\u591a\uff0c\u4f1a\u5bfc\u81f4\u6808\u6ea2\u51fa\u3002 \u4f7f\u7528\u9012\u5f52\u51fd\u6570\u7684\u4f18\u70b9\u662f\u903b\u8f91\u7b80\u5355\u6e05\u6670\uff0c\u7f3a\u70b9\u662f\u8fc7\u6df1\u7684\u8c03\u7528\u4f1a\u5bfc\u81f4\u6808\u6ea2\u51fa\u3002 9 \u6307\u9488 \u6307\u9488\u7684\u6982\u5ff5 \u6307\u9488\u662f\u5b58\u50a8\u53e6\u4e00\u4e2a\u53d8\u91cf\u7684\u5185\u5b58\u5730\u5740\u7684\u53d8\u91cf\u3002\u53d8\u91cf\u662f\u4e00\u79cd\u4f7f\u7528\u65b9\u4fbf\u7684\u5360\u4f4d\u7b26\uff0c \u53d8\u91cf\u90fd\u6307\u5411\u8ba1\u7b97\u673a\u7684\u5185\u5b58\u5730\u5740 \u3002 \u4e00\u4e2a\u6307\u9488\u53d8\u91cf\u53ef\u4ee5\u6307\u5411\u4efb\u4f55\u4e00\u4e2a\u503c\u7684\u5185\u5b58\u5730\u5740\u3002 \u4f8b\u5982\uff1a\u53d8\u91cfb\u7684\u503c\u4e3a156\uff0c\u5b58\u50a8\u5728\u5185\u5b58\u5730\u57400x1040a124\u3002\u53d8\u91cfa\u6301\u6709b\u7684\u5730\u5740\uff0c\u5219a\u88ab\u8ba4\u4e3a\u6307\u5411b\u3002\u5982\u56fe4.12\u6240\u793a\u3002 \u5728Go\u8bed\u8a00\u4e2d\u4f7f\u7528\u53d6\u5730\u5740\u7b26\uff08\uff06\uff09\u6765\u83b7\u53d6\u53d8\u91cf\u7684\u5730\u5740\uff0c\u4e00\u4e2a\u53d8\u91cf\u524d\u4f7f\u7528\uff06\uff0c\u4f1a\u8fd4\u56de\u8be5\u53d8\u91cf\u7684\u5185\u5b58\u5730\u5740\u3002 package main import \"fmt\" func main(){ a := 10 fmt.Printf(\"\u53d8\u91cfa\u7684\u5730\u5740\uff1a%x\\n\",&a) // \u53d8\u91cfa\u7684\u5730\u5740\uff1ac00001e060 } Go\u8bed\u8a00\u6307\u9488\u7684\u7279\u70b9\u5982\u4e0b: Go\u8bed\u8a00\u6307\u9488\u7684\u6700\u5927\u7279\u70b9\u662f\uff1a\u6307\u9488\u4e0d\u80fd\u8fd0\u7b97\uff08\u4e0d\u540c\u4e8eC\u8bed\u8a00\uff09\u3002 \u5728Go\u8bed\u8a00\u4e2d\u5982\u679c\u5bf9\u6307\u9488\u8fdb\u884c\u8fd0\u7b97\u4f1a\u62a5\u9519\uff01 \u58f0\u660e\u6307\u9488 \u58f0\u660e\u6307\u9488\uff0c*T\u662f\u6307\u9488\u53d8\u91cf\u7684\u7c7b\u578b\uff0c\u5b83\u6307\u5411T\u7c7b\u578b\u7684\u503c\u3002 var \u6307\u9488\u53d8\u91cf\u540d *\u6307\u9488\u7c7b\u578b *\u53f7\u7528\u4e8e\u6307\u5b9a\u53d8\u91cf\u662f\u4e00\u4e2a\u6307\u9488\uff1a var ip *int // \u6307\u5411\u6574\u578b\u7684\u6307\u9488 var fp *float32 // \u6307\u5411\u6d6e\u70b9\u578b\u7684\u6307\u9488 \u6307\u9488\u4f7f\u7528\u6d41\u7a0b\u5982\u4e0b\uff1a \u5b9a\u4e49\u6307\u9488\u53d8\u91cf\u3002 \u4e3a\u6307\u9488\u53d8\u91cf\u8d4b\u503c\u3002 \u8bbf\u95ee\u6307\u9488\u53d8\u91cf\u4e2d\u6307\u5411\u5730\u5740\u7684\u503c\u3002 \u83b7\u53d6\u6307\u9488\u6307\u5411\u7684\u53d8\u91cf\u503c\uff1a\u5728\u6307\u9488\u7c7b\u578b\u7684\u53d8\u91cf\u524d\u52a0\u4e0a * \u53f7\uff08\u524d\u7f00\uff09\uff0c\u5982*a\u3002 \u6307\u9488\u793a\u4f8b\u4e00 package main import \"fmt\" func main(){ // \u58f0\u660e\u5b9e\u9645\u53d8\u91cf var a int = 120 // \u58f0\u660e\u6307\u9488\u53d8\u91cf var ip *int // \u7ed9\u6307\u9488\u53d8\u91cf\u8d4b\u503c\uff0c\u5c06\u53d8\u91cfa\u7684\u5730\u5740\u8d4b\u503c\u7ed9ip ip = &a // \u6253\u5370 a \u7684\u7c7b\u578b\u548c\u503c fmt.Printf(\"a\u7684\u7c7b\u578b:%T,\u503c\u662f:%v \\n\",a,a)//a\u7684\u7c7b\u578b:int,\u503c\u662f:120 // \u6253\u5370 &a \u7684\u7c7b\u578b\u4e0e\u503c fmt.Printf(\"&a\u7684\u7c7b\u578b:%T,\u503c\u662f:%v \\n\",&a,&a)//&a\u7684\u7c7b\u578b:*int,\u503c\u662f:0xc0000b4008 // \u6253\u5370 ip \u7684\u7c7b\u578b\u548c\u503c fmt.Printf(\"ip\u7684\u7c7b\u578b:%T,\u503c\u662f:%v \\n\",ip,ip)//ip\u7684\u7c7b\u578b:*int,\u503c\u662f:0xc0000b4008 // \u6253\u5370 *ip \u7684\u7c7b\u578b\u548c\u503c fmt.Printf(\"*ip\u7684\u7c7b\u578b:%T,\u503c\u662f:%v \\n\",*ip,*ip)//*ip\u7684\u7c7b\u578b:int,\u503c\u662f:120 // \u6253\u5370 *&a \u7684\u7c7b\u578b\u548c\u503c fmt.Printf(\"*&a\u7684\u7c7b\u578b:%T,\u503c\u662f:%v \\n\",*&a,*&a)//*&a\u7684\u7c7b\u578b:int,\u503c\u662f:120 } \u6307\u9488\u793a\u4f8b\u4e8c \u7ed3\u679c\u5982\u4e0b\uff1a \u7a7a\u6307\u9488 \u5728Go\u8bed\u8a00\u4e2d\uff0c\u5f53\u4e00\u4e2a\u6307\u9488\u88ab\u5b9a\u4e49\u540e\u6ca1\u6709\u5206\u914d\u5230\u4efb\u4f55\u53d8\u91cf\u65f6\uff0c\u5b83\u7684\u503c\u4e3anil\u3002nil\u6307\u9488\u4e5f\u79f0\u4e3a\u7a7a\u6307\u9488\u3002nil\u5728\u6982\u5ff5\u4e0a\u548c\u5176\u4ed6\u8bed\u8a00\u7684null\u3001None\u3001NULL\u4e00\u6837\uff0c\u90fd\u6307\u4ee3\u96f6\u503c\u6216\u7a7a\u503c\u3002 \u5047\u8bbe\u6307\u9488\u53d8\u91cf\u547d\u540d\u4e3aptr\u3002\u7a7a\u6307\u9488\u5224\u65ad\u5982\u4e0b\uff1a if ptr != nil // ptr\u4e0d\u662f\u7a7a\u6307\u9488 if ptr == nil // ptr\u662f\u7a7a\u6307\u9488 \u4f7f\u7528\u6307\u9488*** 1. \u901a\u8fc7\u6307\u9488\u4fee\u6539\u53d8\u91cf\u7684\u6570\u503c package main import \"fmt\" func main(){ b := 996 a := &b fmt.Println(\"b\u7684\u5730\u5740:\",a) fmt.Println(\"*a\u7684\u503c:\",*a) *a++ fmt.Println(\"b\u7684\u65b0\u503c:\",b) } /* b\u7684\u5730\u5740: 0xc0000b4008 *a\u7684\u503c: 996 b\u7684\u65b0\u503c: 997 */ 2. \u4f7f\u7528\u6307\u9488\u4f5c\u4e3a\u51fd\u6570\u7684\u53c2\u6570 package main import \"fmt\" func main(){ a := 58 fmt.Printf(\"%T \\n\",a) //int fmt.Printf(\"%x \\n\",&a)//c00012c008 // b := &a var b *int = &a change(b) fmt.Println(\"\u51fd\u6570\u8c03\u7528\u4e4b\u540e\u7684a\u7684\u503c:\",a) //\u51fd\u6570\u8c03\u7528\u4e4b\u540e\u7684a\u7684\u503c: 15 } func change(val *int){ *val = 15 } \u5c06\u57fa\u672c\u6570\u636e\u7c7b\u578b\u7684\u6307\u9488\u4f5c\u4e3a\u51fd\u6570\u7684\u53c2\u6570\uff0c\u53ef\u4ee5\u5b9e\u73b0\u5bf9\u4f20\u5165\u6570\u636e\u7684\u4fee\u6539\uff0c\u8fd9\u662f\u56e0\u4e3a\u6307\u9488\u4f5c\u4e3a\u51fd\u6570\u7684\u53c2\u6570\u53ea\u662f\u590d\u5236\u4e86\u4e00\u4e2a\u6307\u9488\uff0c\u6307\u9488\u6307\u5411\u7684\u5185\u5b58\u6ca1\u6709\u53d1\u751f\u6539\u53d8\u3002 \u6307\u9488\u6570\u7ec4 \u6307\u9488\u6570\u7ec4\uff1a\u5c31\u662f\u5143\u7d20\u4e3a\u6307\u9488\u7c7b\u578b\u7684\u6570\u7ec4\u3002 var ptr [3]*string \u6709\u4e00\u4e2a\u5143\u7d20\u4e2a\u6570\u4e0e\u4e4b\u76f8\u540c\u7684\u6570\u7ec4\uff0c\u5c06\u8be5\u6570\u7ec4\u4e2d\u6bcf\u4e2a\u5143\u7d20\u7684\u5730\u5740\u8d4b\u503c\u7ed9\u8be5\u6307\u9488\u6570\u7ec4\u3002\u4e5f\u5c31\u662f\u8bf4\u8be5\u6307\u9488\u6570\u7ec4\u4e0e\u67d0\u4e00\u4e2a\u6570\u7ec4\u5b8c\u5168\u5bf9\u5e94\u3002\u53ef\u4ee5\u901a\u8fc7*\u6307\u9488\u53d8\u91cf\u83b7\u53d6\u5230\u8be5\u5730\u5740\u6240\u5bf9\u5e94\u7684\u6570\u503c\u3002 package main import \"fmt\" const COUNT int = 3 func main() { a := [COUNT]string{\"abc\", \"ABC\", \"whw\"} // \u5b9a\u4e49\u6307\u9488\u6570\u7ec4 var ptr [COUNT]*string fmt.Printf(\"%T, %v \\n\", ptr, ptr) //[3]*string, [<nil> <nil> <nil>] for i := 0; i < COUNT; i++ { // \u5c06\u6570\u7ec4\u4e2d\u6bcf\u4e2a\u5143\u7d20\u7684\u5730\u5740\u8d4b\u503c\u7ed9\u6307\u9488\u6570\u7ec4 ptr[i] = &a[i] } fmt.Printf(\"%T, %v \\n\", ptr, ptr) //[3]*string, [0xc000090180 0xc000090190 0xc0000901a0] // \u83b7\u53d6\u6307\u9488\u6570\u7ec4\u4e2d\u7684\u7b2c\u4e00\u4e2a\u503c\uff0c\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u5730\u5740 fmt.Println(ptr[0]) //0xc000090180 // \u6839\u636e\u6570\u7ec4\u5143\u7d20\u7684\u6bcf\u4e2a\u5730\u5740\u83b7\u53d6\u8be5\u5730\u5740\u6240\u6307\u5411\u7684\u5143\u7d20\u7684\u6570\u503c for i := 0; i < COUNT; i++ { fmt.Printf(\"a[%d]=%s \\n\", i, *ptr[i]) } /* a[0]=abc a[1]=ABC a[2]=whw */ } \u6307\u9488\u7684\u6307\u9488 \u5982\u679c\u4e00\u4e2a\u6307\u9488\u53d8\u91cf\u5b58\u653e\u7684\u53c8\u662f\u53e6\u4e00\u4e2a\u6307\u9488\u53d8\u91cf\u7684\u5730\u5740\uff0c\u5219\u79f0\u8fd9\u4e2a\u6307\u9488\u53d8\u91cf\u4e3a\u6307\u5411\u6307\u9488\u7684\u6307\u9488\u53d8\u91cf\u3002\u5f53\u5b9a\u4e49\u4e00\u4e2a\u6307\u5411\u6307\u9488\u7684\u6307\u9488\u53d8\u91cf\u65f6\uff0c\u7b2c\u4e00\u4e2a\u6307\u9488\u5b58\u653e\u7b2c\u4e8c\u4e2a\u6307\u9488\u7684\u5730\u5740\uff0c\u7b2c\u4e8c\u4e2a\u6307\u9488\u5b58\u653e\u53d8\u91cf\u7684\u5730\u5740\uff0c\u5982\u56fe4.19\u6240\u793a\u3002 \u6307\u5411\u6307\u9488\u7684\u6307\u9488\u53d8\u91cf\u58f0\u660e\u683c\u5f0f\u5982\u4e0b\u3002 var ptr **int \u4ee5\u4e0a\u6307\u5411\u6307\u9488\u7684\u6307\u9488\u53d8\u91cf\u4e3a\u6574\u578b\u3002 \u8bbf\u95ee\u6307\u5411\u6307\u9488\u7684\u6307\u9488\u53d8\u91cf\u503c\u9700\u8981\u4f7f\u7528\u4e24\u4e2a * \u53f7\u3002 package main import \"fmt\" func main(){ var a string var ptr *string var pptr **string a = \"\u706b\u5f71whw\" // \u6307\u9488ptr\u5730\u5740 ptr = &a fmt.Println(\"ptr>>>\",ptr)//0xc0000901e0 // pptr\uff1a\u6307\u5411\u6307\u9488ptr\u7684\u6307\u9488 pptr = &ptr fmt.Println(\"pptr>>>\",pptr)//0xc0000b0018 // \u83b7\u53d6\u5177\u4f53\u7684\u503c fmt.Printf(\"a=%v \\n\",a) fmt.Printf(\"*ptr=%v \\n\",*ptr) fmt.Printf(\"**pptr=%v \\n\",**pptr) /* a=\u706b\u5f71whw *ptr=\u706b\u5f71whw **pptr=\u706b\u5f71whw */ }","title":"03 \u51fd\u6570\u95ed\u5305\u6307\u9488"},{"location":"%E5%9F%BA%E7%A1%80/3/#_1","text":"","title":""},{"location":"%E5%9F%BA%E7%A1%80/3/#4-go","text":"","title":"4 Go\u8bed\u8a00\u7684\u51fd\u6570\u4e0e\u6307\u9488"},{"location":"%E5%9F%BA%E7%A1%80/3/#41","text":"Go \u8bed\u8a00\u4ece\u8bbe\u8ba1\u4e0a\u5bf9\u51fd\u6570\u8fdb\u884c\u4e86\u4f18\u5316\u548c\u6539\u8fdb\uff0c\u8ba9\u51fd\u6570\u4f7f\u7528\u8d77\u6765\u66f4\u52a0\u65b9\u4fbf\u3002 \u56e0\u4e3aGo\u8bed\u8a00\u7684\u51fd\u6570\u672c\u8eab\u53ef\u4ee5\u4f5c\u4e3a\u503c\u8fdb\u884c\u4f20\u9012\uff0c\u65e2\u652f\u6301\u533f\u540d\u51fd\u6570\u548c\u95ed\u5305\uff0c\u53c8\u80fd\u6ee1\u8db3\u63a5\u53e3\uff0c\u6240\u4ee5 Go \u8bed\u8a00\u7684\u51fd\u6570\u5c5e\u4e8e\u4e00\u7b49\u516c\u6c11\u3002","title":"4.1 \u51fd\u6570 ***"},{"location":"%E5%9F%BA%E7%A1%80/3/#_2","text":"\u666e\u901a\u51fd\u6570\u9700\u8981\u5148\u58f0\u660e\u624d\u80fd\u8c03\u7528\uff0c\u4e00\u4e2a\u51fd\u6570\u7684\u58f0\u660e\u5305\u62ec\u53c2\u6570\u548c\u51fd\u6570\u540d\u7b49\u3002\u7f16\u8bd1\u5668\u901a\u8fc7\u58f0\u660e\u624d\u80fd\u4e86\u89e3\u51fd\u6570\u5e94\u8be5\u600e\u6837\u5728\u8c03\u7528\u4ee3\u7801\u548c\u51fd\u6570\u4f53\u4e4b\u95f4\u4f20\u5165\u53c2\u6570\u548c\u8fd4\u56de\u53c2\u6570\u3002\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u6240\u793a\uff1a func \u51fd\u6570\u540d(\u53c2\u6570\u5217\u8868)(\u8fd4\u56de\u53c2\u6570\u5217\u8868){ // \u51fd\u6570\u4f53 } func funcName(param1 type1, param2 type2,...)(output1 type1, output2 type2,...){ // ` // \u8fd4\u56de\u591a\u4e2a\u503c return value1, value2,... }","title":"\u51fd\u6570\u58f0\u660e"},{"location":"%E5%9F%BA%E7%A1%80/3/#1","text":"func\uff1a\u51fd\u6570\u5173\u952e\u5b57\u3002\u51fd\u6570\u7531func\u5f00\u59cb\u58f0\u660e\u3002 funcName \uff1a\u51fd\u6570\u540d\u3002\u51fd\u6570\u540d\u548c\u53c2\u6570\u5217\u8868\u4e00\u8d77\u6784\u6210\u4e86\u51fd\u6570\u7b7e\u540d\u3002\u51fd\u6570\u540d\u7531\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u4e0b\u753b\u7ebf\u7ec4\u6210\u3002\u51fd\u6570\u540d\u7684\u7b2c\u4e00\u4e2a\u5b57\u6bcd\u4e0d\u80fd\u4e3a\u6570\u5b57\u3002\u5728\u540c\u4e00\u4e2a\u5305\u5185\uff0c\u51fd\u6570\u4e0d\u80fd\u91cd\u540d\u3002 param type \uff1a\u53c2\u6570\u5217\u8868\u3002\u5b9a\u4e49\u51fd\u6570\u65f6\u7684\u53c2\u6570\u53eb\u4f5c\u5f62\u5f0f\u53c2\u6570\uff0c\u5f62\u53c2\u53d8\u91cf\u662f\u51fd\u6570\u7684\u5c40\u90e8\u53d8\u91cf\uff1b\u51fd\u6570\u88ab\u8c03\u7528\u65f6\uff0c\u53ef\u4ee5\u5c06\u503c\u4f20\u9012\u7ed9\u53c2\u6570\uff0c\u8fd9\u4e2a\u503c\u88ab\u79f0\u4e3a\u5b9e\u9645\u53c2\u6570\u3002\u53c2\u6570\u5217\u8868\u6307\u5b9a\u7684\u662f\u53c2\u6570\u7c7b\u578b\u3001\u987a\u5e8f\u53ca\u53c2\u6570\u4e2a\u6570\u3002\u53c2\u6570\u662f\u53ef\u9009\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u51fd\u6570\u53ef\u4ee5\u4e0d\u5305\u542b\u53c2\u6570\u3002 output1 type1, output2 type2 \uff1a\u8fd4\u56de\u503c\u5217\u8868\u3002\u8fd4\u56de\u503c\u8fd4\u56de\u51fd\u6570\u7684\u7ed3\u679c\uff0c\u7ed3\u675f\u51fd\u6570\u7684\u6267\u884c\u3002 Go\u8bed\u8a00\u7684\u51fd\u6570\u53ef\u4ee5\u8fd4\u56de\u591a\u4e2a\u503c\u3002 \u8fd4\u56de\u503c\u53ef\u4ee5\u662f\u8fd4\u56de\u6570\u636e\u7684\u6570\u636e\u7c7b\u578b\uff0c\u4e5f\u53ef\u4ee5\u662f\u53d8\u91cf\u540d+\u53d8\u91cf\u7c7b\u578b\u7684\u7ec4\u5408\u3002 \u51fd\u6570\u58f0\u660e\u65f6\u6709\u8fd4\u56de\u503c\uff0c\u5fc5\u987b\u5728\u51fd\u6570\u4f53\u4e2d\u4f7f\u7528return\u8bed\u53e5\u63d0\u4f9b\u8fd4\u56de\u503c\u5217\u8868\u3002 \u5982\u679c\u53ea\u6709\u4e00\u4e2a\u8fd4\u56de\u503c\u5e76\u4e14\u6ca1\u6709\u58f0\u660e\u8fd4\u56de\u503c\u53d8\u91cf\uff0c\u90a3\u4e48\u53ef\u4ee5\u7701\u7565\u5305\u62ec\u8fd4\u56de\u503c\u7684\u62ec\u53f7\u3002 return\u540e\u7684\u6570\u636e\uff0c\u8981\u4fdd\u6301\u548c\u58f0\u660e\u7684\u8fd4\u56de\u503c\u7c7b\u578b\u3001\u6570\u91cf\u3001\u987a\u5e8f\u4e00\u81f4\u3002 \u5982\u679c\u51fd\u6570\u6ca1\u6709\u58f0\u660e\u8fd4\u56de\u503c\uff0c\u51fd\u6570\u4e2d\u4e5f\u53ef\u4ee5\u4f7f\u7528return\u5173\u952e\u5b57\uff0c\u7528\u4e8e\u5f3a\u5236\u7ed3\u675f\u51fd\u6570\u3002 \u51fd\u6570\u4f53 \uff1a\u51fd\u6570\u5b9a\u4e49\u7684\u4ee3\u7801\u96c6\u5408\uff0c\u662f\u80fd\u591f\u88ab\u91cd\u590d\u8c03\u7528\u7684\u4ee3\u7801\u7247\u6bb5\u3002","title":"1. \u51fd\u6570\u5b9a\u4e49\u89e3\u6790"},{"location":"%E5%9F%BA%E7%A1%80/3/#2","text":"\u5728\u53c2\u6570\u5217\u8868\u4e2d\uff0c\u5982\u679c\u6709\u591a\u4e2a\u53c2\u6570\u53d8\u91cf\uff0c\u5219\u4ee5\u9017\u53f7\u5206\u9694\uff1b\u5982\u679c\u76f8\u90bb\u53d8\u91cf\u662f\u540c\u7c7b\u578b\uff0c\u5219\u53ef\u4ee5\u5c06\u7c7b\u578b\u7701\u7565\u3002\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u6240\u793a\uff1a func add (a,b int){} go\u8bed\u8a00\u7684\u51fd\u6570\u652f\u6301\u53ef\u53d8\u53c2\u6570\u3002\u63a5\u53d7\u53d8\u53c2\u7684\u51fd\u6570\u6709\u7740\u4e0d\u5b9a\u6570\u91cf\u7684\u53c2\u6570\uff0c\u8bed\u6cd5\u7ed3\u6784\u5982\u4e0b\uff1a func myfunc(arg ...int){} arg ...int\u544a\u8bc9Go\u8fd9\u4e2a\u51fd\u6570\u63a5\u53d7\u4e0d\u5b9a\u6570\u91cf\u7684\u53c2\u6570\u3002 \u6ce8\u610f\uff0c\u8fd9\u4e9b\u53c2\u6570\u7684\u7c7b\u578b\u5168\u90e8\u662fint\u3002\u5728\u51fd\u6570\u4f53\u4e2d\uff0c\u53d8\u91cfarg\u662f\u4e00\u4e2aint\u7684slice\uff08\u5207\u7247\uff09\u3002","title":"2. \u53c2\u6570\u7c7b\u578b\u7b80\u5199"},{"location":"%E5%9F%BA%E7%A1%80/3/#_3","text":"\u4f5c\u7528\u57df\u662f\u53d8\u91cf\u3001\u5e38\u91cf\u3001\u7c7b\u578b\u3001\u51fd\u6570\u7684\u4f5c\u7528\u8303\u56f4\u3002 \u5728\u51fd\u6570\u4f53\u5185\u58f0\u660e\u7684\u53d8\u91cf\u79f0\u4e3a\u5c40\u90e8\u53d8\u91cf\uff0c\u5b83\u4eec\u7684\u4f5c\u7528\u57df\u53ea\u5728\u51fd\u6570\u4f53\u5185\uff0c\u751f\u547d\u5468\u671f\u540c\u6240\u5728\u7684\u51fd\u6570\u3002\u53c2\u6570\u548c\u8fd4\u56de\u503c\u53d8\u91cf\u4e5f\u662f\u5c40\u90e8\u53d8\u91cf\u3002 \u5728\u51fd\u6570\u4f53\u5916\u58f0\u660e\u7684\u53d8\u91cf\u79f0\u4e3a\u5168\u5c40\u53d8\u91cf\uff0c\u5168\u5c40\u53d8\u91cf\u53ef\u4ee5\u5728\u6574\u4e2a\u5305\u751a\u81f3\u5916\u90e8\u5305\uff08\u88ab\u5bfc\u51fa\u540e\uff09\u4f7f\u7528\u3002\u5168\u5c40\u53d8\u91cf\u7684\u751f\u547d\u5468\u671f\u540cmain()\u3002 \u5168\u5c40\u53d8\u91cf\u53ef\u4ee5\u5728\u4efb\u4f55\u51fd\u6570\u4e2d\u4f7f\u7528\u3002Go\u8bed\u8a00\u7a0b\u5e8f\u4e2d\u5168\u5c40\u53d8\u91cf\u4e0e\u5c40\u90e8\u53d8\u91cf\u540d\u79f0\u53ef\u4ee5\u76f8\u540c\uff0c\u4f46\u662f\u51fd\u6570\u5185\u7684\u5c40\u90e8\u53d8\u91cf\u4f1a\u88ab\u4f18\u5148\u8003\u8651\u3002 \u51fd\u6570\u4e2d\u5b9a\u4e49\u7684\u53c2\u6570\u79f0\u4e3a\u5f62\u5f0f\u53c2\u6570\uff0c\u5f62\u5f0f\u53c2\u6570\u4f1a\u4f5c\u4e3a\u51fd\u6570\u7684\u5c40\u90e8\u53d8\u91cf\u6765\u4f7f\u7528\u3002 \u4e3a\u4e86\u8ba9\u5927\u5bb6\u66f4\u76f4\u89c2\u5730\u7406\u89e3\u4f5c\u7528\u57df\uff0c\u4e0b\u9762\u901a\u8fc7\u4e00\u4e2a\u6848\u4f8b\u52a0\u4ee5\u5206\u6790\uff1a package main import \"fmt\" // \u58f0\u660e\u5168\u5c40\u53d8\u91cf var a1 int = 7 var b1 int = 9 // \u4e24\u6570\u76f8\u52a0\u7684\u51fd\u6570 func sum(a1, b1 int)(c1 int){ a1 ++ b1 += 2 c1 = a1 + b1 fmt.Printf(\"sum\u51fd\u6570\u4e2d\u7684 a1=%d\\n\", a1) //11 fmt.Printf(\"sum\u51fd\u6570\u4e2d\u7684 b1=%d\\n\", b1) //22 fmt.Printf(\"sum\u51fd\u6570\u4e2d\u7684 c1=%d\\n\", c1) //33 return c1 } func main() { // main \u51fd\u6570\u4e2d\u58f0\u660e\u5c40\u90e8\u53d8\u91cf a1, b1, c1 := 10, 20, 0 // \u5c40\u90e8\u4f5c\u7528\u57df\u4f18\u5148\u7528\u5c40\u90e8\u4f5c\u7528\u57df\u7684\u53d8\u91cf fmt.Printf(\"main\u51fd\u6570\u4e2d a1=%d\\n\", a1) // 10 fmt.Printf(\"main\u51fd\u6570\u4e2d b1=%d\\n\", b1) // 20 fmt.Printf(\"main\u51fd\u6570\u4e2d c1=%d\\n\", c1) // 0 c1 = sum(a1,b1) fmt.Printf(\"main\u51fd\u6570\u4e2d\u7684 c1\u53d8\u6210\u4e86:%d\",c1) //33 } \u8fd0\u884c\u7ed3\u679c\u53ef\u4ee5\u770b\u51fa\uff0c\u540c\u6837\u53d8\u91cf\u540d\u7684\u5c40\u90e8\u53d8\u91cf\u548c\u5168\u5c40\u53d8\u91cf\uff0c\u540c\u4e00\u4f5c\u7528\u57df\u5185\u4f18\u5148\u4f7f\u7528\u5c40\u90e8\u53d8\u91cf\uff0c\u6b63\u6240\u8c13\u201c\u5f3a\u9f99\u4e0d\u538b\u5730\u5934\u86c7\u201d\u3002","title":"\u53d8\u91cf\u4f5c\u7528\u57df"},{"location":"%E5%9F%BA%E7%A1%80/3/#_4","text":"\u5728Go\u8bed\u8a00\u4e2d\uff0c\u51fd\u6570\u4e5f\u662f\u4e00\u79cd\u7c7b\u578b\uff0c\u53ef\u4ee5\u548c\u5176\u4ed6\u7c7b\u578b\uff08\u5982int32\u3001float\u7b49\u7b49\uff09\u4e00\u6837\u88ab\u4fdd\u5b58\u5728\u53d8\u91cf\u4e2d\u3002 \u5728Go\u8bed\u8a00\u4e2d\u53ef\u4ee5\u901a\u8fc7type\u6765\u5b9a\u4e49\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7c7b\u578b\u3002\u51fd\u6570\u7684\u53c2\u6570\u5b8c\u5168\u76f8\u540c\uff08\u5305\u62ec\u53c2\u6570\u7c7b\u578b\u3001\u4e2a\u6570\u3001\u987a\u5e8f\uff09\uff0c\u51fd\u6570\u8fd4\u56de\u503c\u76f8\u540c\u3002","title":"\u51fd\u6570\u53d8\u91cf(\u51fd\u6570\u4f5c\u4e3a\u503c)***"},{"location":"%E5%9F%BA%E7%A1%80/3/#_5","text":"package main import ( \"fmt\" \"strings\" ) func main() { result := StringToLower(\"ADSDFDSKJLkjklsdUOSDFSDF\",processCase) // 7\u884c fmt.Println(result) //AdSdFdSkJlKjKlSdUoSdFsDf result = StringToLower2(\"ADSDFDSKJLkjklsdUOSDFSDF\",processCase) fmt.Println(result) //AdSdFdSkJlKjKlSdUoSdFsDf } // \u5904\u7406\u5b57\u7b26\u4e32\uff0c\u5947\u6570\u5076\u6570\u4f9d\u6b21\u663e\u793a\u4e3a\u5927\u5c0f\u5199 func processCase(str string) string{ // 13\u884c ret := \"\" for i,value := range str{ if i%2 ==0{ ret += strings.ToUpper(string(value)) }else{ ret += strings.ToLower(string(value)) } } return ret } func StringToLower(str string, f func(string) string) string{ // 24\u884c fmt.Printf(\"StringToLower>>> %T \\n\",f) //func(string) string return f(str) } type caseFunc func(string) string // 28\u884c:\u58f0\u660e\u4e86\u4e00\u4e2a\u51fd\u6570\u7c7b\u578b\uff0c\u901a\u8fc7type\u5173\u952e\u5b57\uff0ccaseFunc\u4f1a\u5f62\u6210\u4e00\u79cd\u65b0\u7684\u7c7b\u578b func StringToLower2(str string, f caseFunc) string{ // \u6253\u5370\u53d8\u91cff\u7684\u7c7b\u578b fmt.Printf(\"StringToLower2>>> %T \\n\",f) //main.caseFunc return f(str) } \u5728\u4e0a\u4f8b\u4e2d\uff0c\u7b2c24\u884c\u58f0\u660e\u4e86\u51fd\u6570StringToLower()\uff0c\u7b2c\u4e8c\u4e2a\u4f20\u5165\u53c2\u6570\u4e3a\u4e00\u4e2a\u51fd\u6570\u7c7b\u578b\u53d8\u91cff\u3002\u7b2c7\u884c\u8c03\u7528\u4e86\u51fd\u6570StringToLower()\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4f20\u5165\u4e86\u5728\u7b2c13\u884c\u58f0\u660e\u7684\u51fd\u6570processCase()\u3002\u8fd9\u6837\u5728\u51fd\u6570StringToLower()\u4e2d\u53ef\u4ee5\u901a\u8fc7\u51fd\u6570\u53d8\u91cff\u6267\u884c\u51fd\u6570processCase()\u3002\u7b2c28\u884c\u5c06\u53c2\u6570\u76f8\u540c\u7684\u51fd\u6570\u7c7b\u578b\u58f0\u660e\u4e3a\u65b0\u7684\u7c7b\u578bcaseFunc\uff0c\u90a3\u4e48caseFunc\u5c31\u4ee3\u8868\u7740\u8fd9\u4e00\u79cd\u51fd\u6570\u53d8\u91cf\u4f7f\u7528\u5728StringToLower2()\u4e2d\u3002","title":"\u51fd\u6570\u53d8\u91cf\u6848\u4f8b\u4e00"},{"location":"%E5%9F%BA%E7%A1%80/3/#_6","text":"package main import \"fmt\" type processFunc func(int) bool // \u58f0\u660e\u4e86\u4e00\u4e2a\u51fd\u6570\u7c7b\u578b func main() { slice := []int{1, 2, 3, 4, 5, 7} fmt.Println(\"slice = \",slice) odd := filter(slice, isOdd) // \u51fd\u6570\u5f53\u4f5c\u503c\u6765\u4f20\u9012 fmt.Println(\"\u5947\u6570\u5143\u7d20:\", odd) even := filter(slice, isEven) // \u51fd\u6570\u5f53\u4f5c\u503c\u4f20\u9012 fmt.Println(\"\u5076\u6570\u5143\u7d20:\", even) } //\u5224\u65ad\u5143\u7d20\u662f\u5426\u662f\u5076\u6570 func isEven(integer int) bool{ if integer%2 == 0{ return true } return false } //\u5224\u65ad\u5143\u7d20\u662f\u5426\u662f\u5947\u6570 func isOdd(integer int) bool{ if integer%2 == 0{ return false } return true } //\u6839\u636e\u51fd\u6570\u6765\u5904\u7406\u5207\u7247\uff0c\u6839\u636e\u5143\u7d20\u7684\u5947\u6570\u5076\u6570\u5206\u7ec4\uff0c\u8fd4\u56de\u65b0\u7684\u5207\u7247 func filter(slice []int, f processFunc) []int{ var ret []int for _, value := range(slice){ if f(value){ ret = append(ret,value) } } return ret } /* slice = [1 2 3 4 5 7] \u5947\u6570\u5143\u7d20: [1 3 5 7] \u5076\u6570\u5143\u7d20: [2 4] */ \u51fd\u6570\u53d8\u91cf\u7684\u4f7f\u7528\u6b65\u9aa4\u53ca\u610f\u4e49\u5982\u4e0b: \u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\u7c7b\u578b\u3002 \u5b9e\u73b0\u5b9a\u4e49\u7684\u51fd\u6570\u7c7b\u578b\u3002 \u4f5c\u4e3a\u53c2\u6570\u8c03\u7528\u3002 \u51fd\u6570\u53d8\u91cf\u7684\u7528\u6cd5\u7c7b\u4f3c\u63a5\u53e3\u7684\u7528\u6cd5\u3002 \u51fd\u6570\u5f53\u4f5c\u503c\u548c\u7c7b\u578b\u5728\u5199\u4e00\u4e9b\u901a\u7528\u63a5\u53e3\u7684\u65f6\u5019\u975e\u5e38\u6709\u7528\uff0c\u901a\u8fc7\u4e0a\u9762\u7684\u4f8b\u5b50\u53ef\u4ee5\u770b\u5230processFunc\u8fd9\u4e2a\u7c7b\u578b\u662f\u4e00\u4e2a\u51fd\u6570\u7c7b\u578b\uff0c\u7136\u540e\u4e24\u4e2afilter\u51fd\u6570\u7684\u53c2\u6570\u548c\u8fd4\u56de\u503c\u4e0eprocessFunc\u7c7b\u578b\u662f\u4e00\u6837\u7684\u3002\u7528\u6237\u53ef\u4ee5\u5b9e\u73b0\u5f88\u591a\u79cd\u903b\u8f91\uff0c\u8fd9\u6837\u4f7f\u5f97\u7a0b\u5e8f\u53d8\u5f97\u975e\u5e38\u7075\u6d3b\u3002","title":"\u51fd\u6570\u53d8\u91cf\u6848\u4f8b\u4e8c"},{"location":"%E5%9F%BA%E7%A1%80/3/#42","text":"Go\u8bed\u8a00\u652f\u6301\u533f\u540d\u51fd\u6570\uff0c\u5373\u5728\u9700\u8981\u4f7f\u7528\u51fd\u6570\u65f6\u518d\u5b9a\u4e49\u51fd\u6570\u3002\u533f\u540d\u51fd\u6570\u6ca1\u6709\u51fd\u6570\u540d\uff0c\u53ea\u6709\u51fd\u6570\u4f53\uff0c\u51fd\u6570\u53ef\u4ee5\u4f5c\u4e3a\u4e00\u79cd\u7c7b\u578b\u88ab\u8d4b\u503c\u7ed9\u53d8\u91cf\uff0c \u533f\u540d\u51fd\u6570\u4e5f\u5f80\u5f80\u4ee5\u53d8\u91cf\u65b9\u5f0f\u88ab\u4f20\u9012 \u3002 \u533f\u540d\u51fd\u6570\u7ecf\u5e38\u88ab\u7528\u4e8e\u5b9e\u73b0\u56de\u8c03\u51fd\u6570\u3001\u95ed\u5305\u7b49\u3002 \u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u6240\u793a\uff1a func(\u53c2\u6570\u5217\u8868)(\u8fd4\u56de\u53c2\u6570\u5217\u8868){ // \u51fd\u6570\u4f53 }","title":"4.2 \u533f\u540d\u51fd\u6570 ***"},{"location":"%E5%9F%BA%E7%A1%80/3/#1_1","text":"package main import \"fmt\" func main(){ func(data int){ fmt.Println(\"hello!\",data) }(250) } //hello! 250","title":"1. \u5728\u5b9a\u4e49\u65f6\u8c03\u7528\u533f\u540d\u51fd\u6570"},{"location":"%E5%9F%BA%E7%A1%80/3/#2_1","text":"package main import \"fmt\" func main(){ f := func(data string){ fmt.Println(data) } f(\"\u706b\u5f71whw\") } //\u706b\u5f71whw","title":"2. \u5c06\u533f\u540d\u51fd\u6570\u8d4b\u503c\u7ed9\u53d8\u91cf"},{"location":"%E5%9F%BA%E7%A1%80/3/#3","text":"package main import ( \"fmt\" \"math\" ) func main(){ // \u8c03\u7528\u51fd\u6570\uff0c\u5bf9\u6bcf\u4e2a\u5143\u7d20\u8fdb\u884c\u6c42\u5e73\u65b9\u6839\u7684\u64cd\u4f5c arr := []float64{1,9,16,25,33} visit(arr, func(v float64){ v = math.Sqrt(v) fmt.Printf(\"\u5e73\u65b9\u6839:%.2f \",v) }) println() // \u8c03\u7528\u51fd\u6570\uff0c\u5bf9\u6bcf\u4e2a\u5143\u7d20\u8fdb\u884c\u6c42\u5e73\u65b9\u64cd\u4f5c visit(arr, func(v float64){ v = math.Pow(v,2) fmt.Printf(\"\u5e73\u65b9:%.0f \", v) }) } // \u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\uff0c\u904d\u5386\u5207\u7247\u5143\u7d20\uff0c\u5bf9\u6bcf\u4e2a\u5143\u7d20\u8fdb\u884c\u5904\u7406 func visit(lst []float64, f func(float64)){ for _, value := range lst{ f(value) } } /* \u5e73\u65b9\u6839:1.00 \u5e73\u65b9\u6839:3.00 \u5e73\u65b9\u6839:4.00 \u5e73\u65b9\u6839:5.00 \u5e73\u65b9\u6839:5.74 \u5e73\u65b9:1 \u5e73\u65b9:81 \u5e73\u65b9:256 \u5e73\u65b9:625 \u5e73\u65b9:1089 */","title":"3. \u533f\u540d\u51fd\u6570\u7528\u4f5c\u56de\u8c03\u51fd\u6570 ***"},{"location":"%E5%9F%BA%E7%A1%80/3/#6-closure","text":"","title":"6 \u95ed\u5305closure ***"},{"location":"%E5%9F%BA%E7%A1%80/3/#1_2","text":"\u95ed\u5305\u5e76\u4e0d\u662f\u4ec0\u4e48\u65b0\u5947\u7684\u6982\u5ff5\uff0c\u5b83\u65e9\u5728\u9ad8\u7ea7\u8bed\u8a00\u5f00\u59cb\u53d1\u5c55\u7684\u5e74\u4ee3\u5c31\u4ea7\u751f\u4e86\u3002\u95ed\u5305\uff08Closure\uff09\u662f\u8bcd\u6cd5\u95ed\u5305\uff08Lexical Closure\uff09\u7684\u7b80\u79f0\u3002 \u95ed\u5305\u662f\u7531\u51fd\u6570\u548c\u4e0e\u5176\u76f8\u5173\u7684\u5f15\u7528\u73af\u5883\u7ec4\u5408\u800c\u6210\u7684\u5b9e\u4f53\u3002\u5728\u5b9e\u73b0\u6df1\u7ea6\u675f\u65f6\uff0c\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u80fd\u663e\u5f0f\u8868\u793a\u5f15\u7528\u73af\u5883\u7684\u4e1c\u897f\uff0c\u5e76\u5c06\u5b83\u4e0e\u76f8\u5173\u7684\u5b50\u7a0b\u5e8f\u6346\u7ed1\u5728\u4e00\u8d77\uff0c\u8fd9\u6837\u6346\u7ed1\u8d77\u6765\u7684\u6574\u4f53\u88ab\u79f0\u4e3a\u95ed\u5305\u3002\u51fd\u6570 + \u5f15\u7528\u73af\u5883 = \u95ed\u5305\u3002 \u95ed\u5305\u53ea\u662f\u5728\u5f62\u5f0f\u548c\u8868\u73b0\u4e0a\u50cf\u51fd\u6570\uff0c\u4f46\u5b9e\u9645\u4e0a\u4e0d\u662f\u51fd\u6570\u3002\u51fd\u6570\u662f\u4e00\u4e9b\u53ef\u6267\u884c\u7684\u4ee3\u7801\uff0c\u8fd9\u4e9b\u4ee3\u7801\u5728\u51fd\u6570\u88ab\u5b9a\u4e49\u540e\u5c31\u786e\u5b9a\u4e86\uff0c\u4e0d\u4f1a\u5728\u6267\u884c\u65f6\u53d1\u751f\u53d8\u5316\uff0c\u6240\u4ee5\u4e00\u4e2a\u51fd\u6570\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\u3002 \u95ed\u5305\u5728\u8fd0\u884c\u65f6\u53ef\u4ee5\u6709\u591a\u4e2a\u5b9e\u4f8b\uff0c\u4e0d\u540c\u7684\u5f15\u7528\u73af\u5883\u548c\u76f8\u540c\u7684\u51fd\u6570\u7ec4\u5408\u53ef\u4ee5\u4ea7\u751f\u4e0d\u540c\u7684\u5b9e\u4f8b\u3002 \u95ed\u5305\u5728\u67d0\u4e9b\u7f16\u7a0b\u8bed\u8a00\u4e2d\u88ab\u79f0\u4e3aLambda\u8868\u8fbe\u5f0f\u3002 \u51fd\u6570\u672c\u8eab\u4e0d\u5b58\u50a8\u4efb\u4f55\u4fe1\u606f\uff0c\u53ea\u6709\u4e0e\u5f15\u7528\u73af\u5883\u7ed3\u5408\u540e\u5f62\u6210\u7684\u95ed\u5305\u624d\u5177\u6709\u201c\u8bb0\u5fc6\u6027\u201d\u3002\u51fd\u6570\u662f\u7f16\u8bd1\u5668\u9759\u6001\u7684\u6982\u5ff5\uff0c\u800c\u95ed\u5305\u662f\u8fd0\u884c\u671f\u52a8\u6001\u7684\u6982\u5ff5\u3002 \u5bf9\u8c61\u662f\u9644\u6709\u884c\u4e3a\u7684\u6570\u636e\uff0c\u800c\u95ed\u5305\u662f\u9644\u6709\u6570\u636e\u7684\u884c\u4e3a\u3002","title":"1. \u95ed\u5305\u7684\u6982\u5ff5"},{"location":"%E5%9F%BA%E7%A1%80/3/#2_2","text":"\uff081\uff09\u52a0\u5f3a\u6a21\u5757\u5316\u3002\u95ed\u5305\u6709\u76ca\u4e8e\u6a21\u5757\u5316\u7f16\u7a0b\uff0c\u4fbf\u4e8e\u4ee5\u7b80\u5355\u7684\u65b9\u5f0f\u5f00\u53d1\u8f83\u5c0f\u7684\u6a21\u5757\uff0c\u4ece\u800c\u63d0\u9ad8\u5f00\u53d1\u901f\u5ea6\u548c\u7a0b\u5e8f\u7684\u53ef\u590d\u7528\u6027\u3002\u548c\u6ca1\u6709\u4f7f\u7528\u95ed\u5305\u7684\u7a0b\u5e8f\u76f8\u6bd4\uff0c\u4f7f\u7528\u95ed\u5305\u53ef\u5c06\u6a21\u5757\u5212\u5206\u5f97\u66f4\u5c0f\u3002 \u6bd4\u5982\u8981\u8ba1\u7b97\u4e00\u4e2a\u6570\u7ec4\u4e2d\u6240\u6709\u6570\u5b57\u7684\u548c\uff0c\u53ea\u9700\u8981\u5faa\u73af\u904d\u5386\u6570\u7ec4\uff0c\u628a\u904d\u5386\u5230\u7684\u6570\u5b57\u52a0\u8d77\u6765\u5c31\u884c\u4e86\u3002\u5982\u679c\u73b0\u5728\u8981\u8ba1\u7b97\u6240\u6709\u5143\u7d20\u7684\u79ef\uff0c\u53c8\u6216\u8005\u8981\u6253\u5370\u6240\u6709\u7684\u5143\u7d20\u5462\uff1f\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\u90fd\u8981\u5bf9\u6570\u7ec4\u8fdb\u884c\u904d\u5386\uff0c\u5982\u679c\u662f\u5728\u4e0d\u652f\u6301\u95ed\u5305\u7684\u8bed\u8a00\u4e2d\uff0c\u7a0b\u5e8f\u5458\u4e0d\u5f97\u4e0d\u4e00\u6b21\u53c8\u4e00\u6b21\u91cd\u590d\u5730\u5199\u5faa\u73af\u8bed\u53e5\u3002\u800c\u8fd9\u5728\u652f\u6301\u95ed\u5305\u7684\u8bed\u8a00\u4e2d\u662f\u4e0d\u5fc5\u8981\u7684\u3002\u8fd9\u79cd\u5904\u7406\u65b9\u6cd5\u591a\u5c11\u6709\u70b9\u50cf\u56de\u8c03\u51fd\u6570\uff0c\u4e0d\u8fc7\u8981\u6bd4\u56de\u8c03\u51fd\u6570\u5199\u6cd5\u66f4\u7b80\u5355\uff0c\u529f\u80fd\u66f4\u5f3a\u5927\u3002 \uff082\uff09\u62bd\u8c61\u3002\u95ed\u5305\u662f\u6570\u636e\u548c\u884c\u4e3a\u7684\u7ec4\u5408\uff0c\u8fd9\u4f7f\u5f97\u95ed\u5305\u5177\u6709\u8f83\u597d\u7684\u62bd\u8c61\u80fd\u529b\u3002 \uff083\uff09\u7b80\u5316\u4ee3\u7801\u3002 \u4e00\u4e2a\u7f16\u7a0b\u8bed\u8a00\u9700\u8981\u4ee5\u4e0b\u7279\u6027\u6765\u652f\u6301\u95ed\u5305\uff1a \u51fd\u6570\u662f\u4e00\u9636\u503c\uff08First-class value\uff0c\u4e00\u7b49\u516c\u6c11\uff09\uff0c\u5373\u51fd\u6570\u53ef\u4ee5\u4f5c\u4e3a\u53e6\u4e00\u4e2a\u51fd\u6570\u7684\u8fd4\u56de\u503c\u6216\u53c2\u6570\uff0c\u8fd8\u53ef\u4ee5\u4f5c\u4e3a\u4e00\u4e2a\u53d8\u91cf\u7684\u503c\u3002 \u51fd\u6570\u53ef\u4ee5\u5d4c\u5957\u5b9a\u4e49\uff0c\u5373\u5728\u4e00\u4e2a\u51fd\u6570\u5185\u90e8\u53ef\u4ee5\u5b9a\u4e49\u53e6\u4e00\u4e2a\u51fd\u6570\u3002 \u5141\u8bb8\u5b9a\u4e49\u533f\u540d\u51fd\u6570\u3002 \u53ef\u4ee5\u6355\u83b7\u5f15\u7528\u73af\u5883\uff0c\u5e76\u628a\u5f15\u7528\u73af\u5883\u548c\u51fd\u6570\u4ee3\u7801\u7ec4\u6210\u4e00\u4e2a\u53ef\u8c03\u7528\u7684\u5b9e\u4f53\u3002 \u7531\u4e8e\u95ed\u5305\u51fd\u6570\u201c\u6355\u83b7\u201d\u4e86\u548c\u5b83\u5728\u540c\u4e00\u4f5c\u7528\u57df\u7684\u5176\u4ed6\u5e38\u91cf\u548c\u53d8\u91cf\uff0c\u6240\u4ee5\u5f53\u95ed\u5305\u5728\u4efb\u4f55\u5730\u65b9\u88ab\u8c03\u7528\uff0c\u95ed\u5305\u90fd\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e9b\u5e38\u91cf\u6216\u8005\u53d8\u91cf\u3002\u5b83\u4e0d\u5173\u5fc3\u8fd9\u4e9b\u53d8\u91cf\u662f\u5426\u5df2\u7ecf\u8d85\u51fa\u4f5c\u7528\u57df\uff0c\u53ea\u8981\u95ed\u5305\u8fd8\u5728\u4f7f\u7528\u8fd9\u4e9b\u53d8\u91cf\uff0c\u8fd9\u4e9b\u53d8\u91cf\u5c31\u4f9d\u7136\u5b58\u5728\u3002 \u6ca1\u6709\u4f7f\u7528\u95ed\u5305\u8fdb\u884c\u8ba1\u6570\u7684\u4ee3\u7801\uff1a package main import \"fmt\" func main(){ for i:=0;i<5;i++{ fmt.Printf(\"i=%d \",i) fmt.Println(add2(i)) } } func add2(x int) int{ sum := 0 sum += x return x } // for\u5faa\u73af\u6bcf\u6267\u884c\u4e00\u6b21\uff0csum\u90fd\u4f1a\u6e05\u96f6\uff0c\u6ca1\u6709\u5b9e\u73b0sum\u7d2f\u52a0\u8ba1\u6570\u3002 /* i=0 0 i=1 1 i=2 2 i=3 3 i=4 4 */","title":"2. \u95ed\u5305\u7684\u4f18\u70b9"},{"location":"%E5%9F%BA%E7%A1%80/3/#3_1","text":"package main import \"fmt\" func main(){ pos := adder() for i := 0;i<=5;i++{ fmt.Printf(\"i=%d \",i) fmt.Println(pos(i)) } fmt.Println(\"------------------\u7ee7\u7eed\u5728\u4e4b\u524d\u7684\u57fa\u7840\u4e0a\u7d2f\u548c-----------------\") for i := 0;i<=5;i++{ fmt.Printf(\"i=%d \",i) fmt.Println(pos(i)) } } // \u8fd9\u91cc\u7684 adder\u662f\u4e00\u4e2a\u51fd\u6570 \u2014\u2014 \u8fd4\u56de\u7684\u7c7b\u578b\u662f func(int) int func adder() func(int) int{ sum := 0 // \u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u533f\u540d\u51fd\u6570 return func(x int) int{ fmt.Printf(\"sum1=%d \",sum) sum += x fmt.Printf(\"sum2=%d \",sum) return sum } } /* i=0 sum1=0 sum2=0 0 i=1 sum1=0 sum2=1 1 i=2 sum1=1 sum2=3 3 i=3 sum1=3 sum2=6 6 i=4 sum1=6 sum2=10 10 i=5 sum1=10 sum2=15 15 ------------------\u7ee7\u7eed\u5728\u4e4b\u524d\u7684\u57fa\u7840\u4e0a\u7d2f\u548c----------------- i=0 sum1=15 sum2=15 15 i=1 sum1=15 sum2=16 16 i=2 sum1=16 sum2=18 18 i=3 sum1=18 sum2=21 21 i=4 sum1=21 sum2=25 25 i=5 sum1=25 sum2=30 30 */ \uff081\uff09\u8fd9\u91cc\u7684 adder\u662f\u4e00\u4e2a\u51fd\u6570 \u2014\u2014 \u8fd4\u56de\u7684\u7c7b\u578b\u662f func(int) int\uff01 \uff082\uff09adder\u51fd\u6570\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u533f\u540d\u51fd\u6570\uff0c\u4f46\u662f\u8fd9\u4e2a\u533f\u540d\u51fd\u6570\u5f15\u7528\u5230\u51fd\u6570\u5916\u7684sum\uff0c\u56e0\u6b64\u8fd9\u4e2a\u533f\u540d\u51fd\u6570\u5c31\u548csum\u5f62\u6210\u4e00\u4e2a\u6574\u4f53\uff0c\u6784\u6210\u95ed\u5305\u3002 \uff083\uff09\u5f53\u6211\u4eec\u53cd\u590d\u8c03\u7528pos\u51fd\u6570\u7684\u65f6\u5019\uff0c\u56e0\u4e3asum\u662f\u521d\u59cb\u5316\u4e00\u6b21\uff0c\u56e0\u6b64\u6bcf\u6b21\u8c03\u7528\u90fd\u4f1a\u8fdb\u884c\u7d2f\u8ba1\u3002 \uff084\uff09\u6211\u4eec\u8981\u641e\u6e05\u695a\u95ed\u5305\u7684\u5173\u952e\uff0c\u5c31\u8981\u5206\u6790\u51fa\u8fd4\u56de\u7684\u51fd\u6570\u5b83\u4f7f\u7528(\u5f15\u7528)\u5230\u54ea\u4e9b\u53d8\u91cf\uff0c\u56e0\u4e3a\u51fd\u6570\u548c\u5b83\u5f15\u7528\u5230\u7684\u53d8\u91cf\u5171\u540c\u6784\u6210\u95ed\u5305","title":"3.\u95ed\u5305\u5b9e\u73b0\u8ba1\u6570\u53ca\u8bf4\u660e"},{"location":"%E5%9F%BA%E7%A1%80/3/#41_1","text":"package main import \"fmt\" func main(){ myfunc := Counter() fmt.Println(\"myfunc\",myfunc)//myfunc 0x109f170 // \u8c03\u7528 myfunc\u51fd\u6570\uff0ci\u53d8\u91cf\u81ea\u589e1\u5e76\u8fd4\u56de fmt.Println(myfunc())//1 fmt.Println(myfunc())//2 fmt.Println(myfunc())//3 // \u521b\u5efa\u65b0\u7684\u51fd\u6570 nextNumber1\uff0c\u5e76\u67e5\u770b\u7ed3\u679c myfunc1 := Counter() fmt.Println(\"myfunc1>>\",myfunc1)//0x109f180 fmt.Println(\"myfunc1\u7684ret>>\",myfunc1()) //1 fmt.Println(\"myfunc1\u7684ret>>\",myfunc1()) //2 } // \u8ba1\u6570\u5668\uff0c\u95ed\u5305\u51fd\u6570 func Counter() func() int{ i := 0 res := func() int{ i += 1 return i } fmt.Printf(\"%T, %v \\n\", res, res) //func() int, 0x109f170 fmt.Println(\"Counter\u4e2d\u7684\u5185\u90e8\u51fd\u6570:\",res) //Counter\u4e2d\u7684\u5185\u90e8\u51fd\u6570: 0x109f170 return res }","title":"4.\u95ed\u5305\u7684\u6700\u4f73\u5b9e\u8df51"},{"location":"%E5%9F%BA%E7%A1%80/3/#52","text":"\u8981\u6c42\uff1a 1\u3001\u51fd\u6570 makeSuffix(suffix string) \u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u6587\u4ef6\u540e\u7f00(\u6bd4\u5982.jpg)\uff0c\u8fd4\u56de\u4e00\u4e2a\u95ed\u5305\u3002 2\u3001\u8c03\u7528\u95ed\u5305\uff0c\u53ef\u4ee5\u4f20\u5165\u4e00\u4e2a\u6587\u4ef6\u540d\uff0c\u5982\u679c\u8be5\u6587\u4ef6\u540d\u6ca1\u6709\u6307\u5b9a\u540e\u7f00\uff0c\u5c31\u8fd4\u56de\u6587\u4ef6\u540d.jpg\uff0c\u5982\u679c\u6709\u540e\u7f00\u4e86\u5c31\u8fd4\u56de\u539f\u6587\u4ef6\u3002 3\u3001strings.HasSuffix\u51fd\u6570\u53ef\u4ee5\u5224\u65ad\u67d0\u4e2a\u5b57\u7b26\u4e32\u662f\u5426\u6709\u6307\u5b9a\u7684\u540e\u7f00\u3002 package main import ( \"fmt\" \"strings\" ) // \u95ed\u5305\u7684\u4f7f\u7528 func makeSuffix(suffix string) func(string) string{ return func (name string) string{ // \u5982\u679cname\u6ca1\u6709\u540e\u7f00\u5c31\u52a0\u4e0a\uff0c\u5982\u679c\u6709\u5c31\u8fd4\u56de\u539f\u6765\u7684\u540d\u5b57 if !strings.HasSuffix(name,suffix){ return name + suffix } return name } } func main() { // \u8fd4\u56de\u4e00\u4e2a\u95ed\u5305 f2 := makeSuffix(\".mp4\") fmt.Println(\"\u6587\u4ef6\u5904\u7406\u540e\uff1a\",f2(\"whw\")) // whw.mp4 fmt.Println(\"\u6587\u4ef6\u5904\u7406\u540e\uff1a\",f2(\"wanghw.mp4\")) // wanghw.mp4 } \u4e0a\u9762\u4ee3\u7801\u7684\u8bf4\u660e: \uff081\uff09\u8fd4\u56de\u7684\u533f\u540d\u51fd\u6570\u548c makeSuffix(suffix string)\u7684 suffix \u53d8\u91cf\uff0c\u7ec4\u5408\u6210\u4e00\u4e2a\u95ed\u5305\uff0c\u56e0\u4e3a\u8fd4\u56de\u7684\u51fd\u6570\u5f15\u7528\u5230\u4e86suffix\u8fd9\u4e2a\u53d8\u91cf\u4e86\uff01 \uff082\uff09\u6bd4\u4f20\u7edf\u65b9\u6cd5\u7684\u597d\u5904\u662f\uff1a\u4f20\u7edf\u7684\u65b9\u6cd5\u9700\u8981\u6bcf\u6b21\u90fd\u4f20\u5165\u540e\u7f00\u540d\uff08\u6bd4\u5982.mp4\uff09\uff0c\u800c\u95ed\u5305\u53ef\u4ee5\u4fdd\u7559\u4e0a\u6b21\u5f15\u7528\u7684\u67d0\u4e2a\u503c\uff0c\u6240\u4ee5\u6211\u4eec\u4f20\u5165\u4e00\u6b21\u5373\u53ef\u53cd\u590d\u4f7f\u7528\uff01","title":"5.\u95ed\u5305\u7684\u6700\u4f73\u5b9e\u8df52"},{"location":"%E5%9F%BA%E7%A1%80/3/#7","text":"\u5982\u679c\u4e00\u4e2a\u51fd\u6570\u7684\u53c2\u6570\uff0c\u7c7b\u578b\u4e00\u81f4\uff0c\u4f46\u4e2a\u6570\u4e0d\u5b9a\uff0c\u53ef\u4ee5\u4f7f\u7528\u51fd\u6570\u7684\u53ef\u53d8\u53c2\u6570\u3002\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u6240\u793a func \u51fd\u6570\u540d(\u53c2\u6570\u540d ...\u7c7b\u578b)[\u8fd4\u56de\u503c\u5217\u8868]{ // \u51fd\u6570\u4f53 } \u8be5\u8bed\u6cd5\u683c\u5f0f\u5b9a\u4e49\u4e86\u4e00\u4e2a\u63a5\u53d7\u4efb\u4f55\u6570\u76ee\u3001\u4efb\u4f55\u7c7b\u578b\u53c2\u6570\u7684\u51fd\u6570\u3002 \u8fd9\u91cc\u7279\u6b8a\u7684\u8bed\u6cd5\u662f\u4e09\u4e2a\u70b9\u201c...\u201d\uff0c \u5728\u4e00\u4e2a\u53d8\u91cf\u540e\u9762\u52a0\u4e0a\u4e09\u4e2a\u70b9\uff0c\u8868\u793a\u4ece\u8be5\u5904\u5f00\u59cb\u63a5\u53d7\u53ef\u53d8\u53c2\u6570\u3002 \u5f53\u8981\u4f20\u9012\u82e5\u5e72\u4e2a\u503c\u5230\u53ef\u53d8\u53c2\u6570\u51fd\u6570\u4e2d\u65f6\uff0c\u53ef\u4ee5\u624b\u52a8\u4e66\u5199\u6bcf\u4e2a\u53c2\u6570\uff0c\u4e5f\u53ef\u4ee5\u5c06\u4e00\u4e2aslice\u4f20\u9012\u7ed9\u8be5\u51fd\u6570\uff0c\u901a\u8fc7\u201c...\u201d\u53ef\u4ee5\u5c06slice\u4e2d\u7684\u53c2\u6570\u5bf9\u5e94\u5730\u4f20\u9012\u7ed9\u51fd\u6570\u3002 package main import \"fmt\" func main(){ sum, avg, count := GetScore(90,87,86,92) fmt.Printf(\"sum=%.2f, avg=%.2f, count=%d\",sum,avg,count)//sum=355.00, avg=88.75, count=4 fmt.Println() // \u5217\u8868\u4f20\u4e0d\u5b9a\u53c2\u6570\uff0c\u540e\u9762\u8ddf... scores := []float64{99,88,55,21.1,97,3} sum2, avg2, count2 := GetScore(scores...) fmt.Printf(\"sum=%.2f, avg=%.2f, count=%d\",sum2,avg2,count2)//sum=363.10, avg=60.52, count=6 } func GetScore(scores ...float64)(sum, avg float64,count int){ for _,value := range scores{ sum += value count ++ } avg = sum / float64(count) return } \u4f7f\u7528\u53ef\u53d8\u53c2\u6570\u5e94\u6ce8\u610f\u5982\u4e0b\u7ec6\u8282: \u4e00\u4e2a\u51fd\u6570\u6700\u591a\u53ea\u80fd\u6709\u4e00\u4e2a\u53ef\u53d8\u53c2\u6570\u3002 \u82e5\u53c2\u6570\u5217\u8868\u4e2d\u8fd8\u6709\u5176\u4ed6\u7c7b\u578b\u53c2\u6570\uff0c\u5219\u53ef\u53d8\u53c2\u6570\u5199\u5728\u6240\u6709\u53c2\u6570\u7684\u6700\u540e\u3002","title":"7 \u53ef\u53d8\u53c2\u6570"},{"location":"%E5%9F%BA%E7%A1%80/3/#8","text":"\u5728\u51fd\u6570\u5185\u90e8\uff0c\u53ef\u4ee5\u8c03\u7528\u5176\u4ed6\u51fd\u6570\u3002\u5982\u679c\u4e00\u4e2a\u51fd\u6570\u5728\u5185\u90e8\u8c03\u7528\u81ea\u8eab\uff0c\u90a3\u4e48\u8fd9\u4e2a\u51fd\u6570\u5c31\u662f\u9012\u5f52\u51fd\u6570\u3002\u9012\u5f52\u51fd\u6570\u5fc5\u987b\u6ee1\u8db3\u4ee5\u4e0b\u4e24\u4e2a\u6761\u4ef6\u3002 \uff081\uff09\u5728\u6bcf\u4e00\u6b21\u8c03\u7528\u81ea\u5df1\u65f6\uff0c\u5fc5\u987b\u662f\uff08\u5728\u67d0\u79cd\u610f\u4e49\u4e0a\uff09\u66f4\u63a5\u8fd1\u4e8e\u89e3\u3002 \uff082\uff09\u5fc5\u987b\u6709\u4e00\u4e2a\u7ec8\u6b62\u5904\u7406\u6216\u8ba1\u7b97\u7684\u51c6\u5219\u3002 \u4e0b\u9762\u901a\u8fc7\u6848\u4f8b\u6765\u7406\u89e3\u9012\u5f52\u51fd\u6570\u7684\u4f5c\u7528\u3002 \u8ba1\u7b97\u9636\u4e58n!=1\u00d72\u00d73\u00d7...\u00d7n\uff0c\u7528\u51fd\u6570fact(n)\u8868\u793a\uff0c\u53ef\u4ee5\u770b\u51fa\uff1afact(n)=n!=1\u00d72\u00d73\u00d7...\u00d7(n-1)\u00d7n=(n-1)!\u00d7n=fact(n-1)\u00d7n\u3002\u6240\u4ee5\uff0cfact(n)\u53ef\u4ee5\u8868\u793a\u4e3an\u00d7fact(n-1)\uff0c\u53ea\u6709n=1\u65f6\u9700\u8981\u7279\u6b8a\u5904\u7406\u3002\u5982\u4f8b4-11\u6240\u793a\u3002 \u9012\u5f52\u7684\u8ba1\u7b97\u8fc7\u7a0b\u5982\u4e0b\u6240\u793a\u3002 \u4f7f\u7528\u9012\u5f52\u9700\u8981\u6ce8\u610f\u5982\u4e0b\u4e8b\u9879\uff1a \u9012\u5f52\u51fd\u6570\u7684\u4f18\u70b9\u662f\u5b9a\u4e49\u7b80\u5355\uff0c\u903b\u8f91\u6e05\u6670\u3002\u7406\u8bba\u4e0a\uff0c\u6240\u6709\u7684\u9012\u5f52\u51fd\u6570\u90fd\u53ef\u4ee5\u7528\u5faa\u73af\u7684\u65b9\u5f0f\u5b9e\u73b0\uff0c\u4f46\u5faa\u73af\u7684\u903b\u8f91\u4e0d\u5982\u9012\u5f52\u6e05\u6670\u3002 \u4f7f\u7528\u9012\u5f52\u51fd\u6570\u9700\u8981\u6ce8\u610f\u9632\u6b62\u6808\u6ea2\u51fa\u3002\u5728\u8ba1\u7b97\u673a\u4e2d\uff0c\u51fd\u6570\u8c03\u7528\u662f\u901a\u8fc7\u6808\uff08stack\uff09\u8fd9\u79cd\u6570\u636e\u7ed3\u6784\u5b9e\u73b0\u7684\uff0c\u6bcf\u5f53\u8fdb\u5165\u4e00\u4e2a\u51fd\u6570\u8c03\u7528\uff0c\u6808\u5c31\u4f1a\u52a0\u4e00\u5c42\uff0c\u6bcf\u5f53\u51fd\u6570\u8fd4\u56de\uff0c\u6808\u5c31\u4f1a\u51cf\u4e00\u5c42\u3002\u7531\u4e8e\u6808\u7684\u5927\u5c0f\u4e0d\u662f\u65e0\u9650\u7684\uff0c\u6240\u4ee5\uff0c\u9012\u5f52\u8c03\u7528\u7684\u6b21\u6570\u8fc7\u591a\uff0c\u4f1a\u5bfc\u81f4\u6808\u6ea2\u51fa\u3002 \u4f7f\u7528\u9012\u5f52\u51fd\u6570\u7684\u4f18\u70b9\u662f\u903b\u8f91\u7b80\u5355\u6e05\u6670\uff0c\u7f3a\u70b9\u662f\u8fc7\u6df1\u7684\u8c03\u7528\u4f1a\u5bfc\u81f4\u6808\u6ea2\u51fa\u3002","title":"8 \u9012\u5f52\u51fd\u6570"},{"location":"%E5%9F%BA%E7%A1%80/3/#9","text":"","title":"9 \u6307\u9488"},{"location":"%E5%9F%BA%E7%A1%80/3/#_7","text":"\u6307\u9488\u662f\u5b58\u50a8\u53e6\u4e00\u4e2a\u53d8\u91cf\u7684\u5185\u5b58\u5730\u5740\u7684\u53d8\u91cf\u3002\u53d8\u91cf\u662f\u4e00\u79cd\u4f7f\u7528\u65b9\u4fbf\u7684\u5360\u4f4d\u7b26\uff0c \u53d8\u91cf\u90fd\u6307\u5411\u8ba1\u7b97\u673a\u7684\u5185\u5b58\u5730\u5740 \u3002 \u4e00\u4e2a\u6307\u9488\u53d8\u91cf\u53ef\u4ee5\u6307\u5411\u4efb\u4f55\u4e00\u4e2a\u503c\u7684\u5185\u5b58\u5730\u5740\u3002 \u4f8b\u5982\uff1a\u53d8\u91cfb\u7684\u503c\u4e3a156\uff0c\u5b58\u50a8\u5728\u5185\u5b58\u5730\u57400x1040a124\u3002\u53d8\u91cfa\u6301\u6709b\u7684\u5730\u5740\uff0c\u5219a\u88ab\u8ba4\u4e3a\u6307\u5411b\u3002\u5982\u56fe4.12\u6240\u793a\u3002 \u5728Go\u8bed\u8a00\u4e2d\u4f7f\u7528\u53d6\u5730\u5740\u7b26\uff08\uff06\uff09\u6765\u83b7\u53d6\u53d8\u91cf\u7684\u5730\u5740\uff0c\u4e00\u4e2a\u53d8\u91cf\u524d\u4f7f\u7528\uff06\uff0c\u4f1a\u8fd4\u56de\u8be5\u53d8\u91cf\u7684\u5185\u5b58\u5730\u5740\u3002 package main import \"fmt\" func main(){ a := 10 fmt.Printf(\"\u53d8\u91cfa\u7684\u5730\u5740\uff1a%x\\n\",&a) // \u53d8\u91cfa\u7684\u5730\u5740\uff1ac00001e060 } Go\u8bed\u8a00\u6307\u9488\u7684\u7279\u70b9\u5982\u4e0b: Go\u8bed\u8a00\u6307\u9488\u7684\u6700\u5927\u7279\u70b9\u662f\uff1a\u6307\u9488\u4e0d\u80fd\u8fd0\u7b97\uff08\u4e0d\u540c\u4e8eC\u8bed\u8a00\uff09\u3002 \u5728Go\u8bed\u8a00\u4e2d\u5982\u679c\u5bf9\u6307\u9488\u8fdb\u884c\u8fd0\u7b97\u4f1a\u62a5\u9519\uff01","title":"\u6307\u9488\u7684\u6982\u5ff5"},{"location":"%E5%9F%BA%E7%A1%80/3/#_8","text":"\u58f0\u660e\u6307\u9488\uff0c*T\u662f\u6307\u9488\u53d8\u91cf\u7684\u7c7b\u578b\uff0c\u5b83\u6307\u5411T\u7c7b\u578b\u7684\u503c\u3002 var \u6307\u9488\u53d8\u91cf\u540d *\u6307\u9488\u7c7b\u578b *\u53f7\u7528\u4e8e\u6307\u5b9a\u53d8\u91cf\u662f\u4e00\u4e2a\u6307\u9488\uff1a var ip *int // \u6307\u5411\u6574\u578b\u7684\u6307\u9488 var fp *float32 // \u6307\u5411\u6d6e\u70b9\u578b\u7684\u6307\u9488 \u6307\u9488\u4f7f\u7528\u6d41\u7a0b\u5982\u4e0b\uff1a \u5b9a\u4e49\u6307\u9488\u53d8\u91cf\u3002 \u4e3a\u6307\u9488\u53d8\u91cf\u8d4b\u503c\u3002 \u8bbf\u95ee\u6307\u9488\u53d8\u91cf\u4e2d\u6307\u5411\u5730\u5740\u7684\u503c\u3002 \u83b7\u53d6\u6307\u9488\u6307\u5411\u7684\u53d8\u91cf\u503c\uff1a\u5728\u6307\u9488\u7c7b\u578b\u7684\u53d8\u91cf\u524d\u52a0\u4e0a * \u53f7\uff08\u524d\u7f00\uff09\uff0c\u5982*a\u3002","title":"\u58f0\u660e\u6307\u9488"},{"location":"%E5%9F%BA%E7%A1%80/3/#_9","text":"package main import \"fmt\" func main(){ // \u58f0\u660e\u5b9e\u9645\u53d8\u91cf var a int = 120 // \u58f0\u660e\u6307\u9488\u53d8\u91cf var ip *int // \u7ed9\u6307\u9488\u53d8\u91cf\u8d4b\u503c\uff0c\u5c06\u53d8\u91cfa\u7684\u5730\u5740\u8d4b\u503c\u7ed9ip ip = &a // \u6253\u5370 a \u7684\u7c7b\u578b\u548c\u503c fmt.Printf(\"a\u7684\u7c7b\u578b:%T,\u503c\u662f:%v \\n\",a,a)//a\u7684\u7c7b\u578b:int,\u503c\u662f:120 // \u6253\u5370 &a \u7684\u7c7b\u578b\u4e0e\u503c fmt.Printf(\"&a\u7684\u7c7b\u578b:%T,\u503c\u662f:%v \\n\",&a,&a)//&a\u7684\u7c7b\u578b:*int,\u503c\u662f:0xc0000b4008 // \u6253\u5370 ip \u7684\u7c7b\u578b\u548c\u503c fmt.Printf(\"ip\u7684\u7c7b\u578b:%T,\u503c\u662f:%v \\n\",ip,ip)//ip\u7684\u7c7b\u578b:*int,\u503c\u662f:0xc0000b4008 // \u6253\u5370 *ip \u7684\u7c7b\u578b\u548c\u503c fmt.Printf(\"*ip\u7684\u7c7b\u578b:%T,\u503c\u662f:%v \\n\",*ip,*ip)//*ip\u7684\u7c7b\u578b:int,\u503c\u662f:120 // \u6253\u5370 *&a \u7684\u7c7b\u578b\u548c\u503c fmt.Printf(\"*&a\u7684\u7c7b\u578b:%T,\u503c\u662f:%v \\n\",*&a,*&a)//*&a\u7684\u7c7b\u578b:int,\u503c\u662f:120 }","title":"\u6307\u9488\u793a\u4f8b\u4e00"},{"location":"%E5%9F%BA%E7%A1%80/3/#_10","text":"\u7ed3\u679c\u5982\u4e0b\uff1a","title":"\u6307\u9488\u793a\u4f8b\u4e8c"},{"location":"%E5%9F%BA%E7%A1%80/3/#_11","text":"\u5728Go\u8bed\u8a00\u4e2d\uff0c\u5f53\u4e00\u4e2a\u6307\u9488\u88ab\u5b9a\u4e49\u540e\u6ca1\u6709\u5206\u914d\u5230\u4efb\u4f55\u53d8\u91cf\u65f6\uff0c\u5b83\u7684\u503c\u4e3anil\u3002nil\u6307\u9488\u4e5f\u79f0\u4e3a\u7a7a\u6307\u9488\u3002nil\u5728\u6982\u5ff5\u4e0a\u548c\u5176\u4ed6\u8bed\u8a00\u7684null\u3001None\u3001NULL\u4e00\u6837\uff0c\u90fd\u6307\u4ee3\u96f6\u503c\u6216\u7a7a\u503c\u3002 \u5047\u8bbe\u6307\u9488\u53d8\u91cf\u547d\u540d\u4e3aptr\u3002\u7a7a\u6307\u9488\u5224\u65ad\u5982\u4e0b\uff1a if ptr != nil // ptr\u4e0d\u662f\u7a7a\u6307\u9488 if ptr == nil // ptr\u662f\u7a7a\u6307\u9488","title":"\u7a7a\u6307\u9488"},{"location":"%E5%9F%BA%E7%A1%80/3/#_12","text":"","title":"\u4f7f\u7528\u6307\u9488***"},{"location":"%E5%9F%BA%E7%A1%80/3/#1_3","text":"package main import \"fmt\" func main(){ b := 996 a := &b fmt.Println(\"b\u7684\u5730\u5740:\",a) fmt.Println(\"*a\u7684\u503c:\",*a) *a++ fmt.Println(\"b\u7684\u65b0\u503c:\",b) } /* b\u7684\u5730\u5740: 0xc0000b4008 *a\u7684\u503c: 996 b\u7684\u65b0\u503c: 997 */","title":"1. \u901a\u8fc7\u6307\u9488\u4fee\u6539\u53d8\u91cf\u7684\u6570\u503c"},{"location":"%E5%9F%BA%E7%A1%80/3/#2_3","text":"package main import \"fmt\" func main(){ a := 58 fmt.Printf(\"%T \\n\",a) //int fmt.Printf(\"%x \\n\",&a)//c00012c008 // b := &a var b *int = &a change(b) fmt.Println(\"\u51fd\u6570\u8c03\u7528\u4e4b\u540e\u7684a\u7684\u503c:\",a) //\u51fd\u6570\u8c03\u7528\u4e4b\u540e\u7684a\u7684\u503c: 15 } func change(val *int){ *val = 15 } \u5c06\u57fa\u672c\u6570\u636e\u7c7b\u578b\u7684\u6307\u9488\u4f5c\u4e3a\u51fd\u6570\u7684\u53c2\u6570\uff0c\u53ef\u4ee5\u5b9e\u73b0\u5bf9\u4f20\u5165\u6570\u636e\u7684\u4fee\u6539\uff0c\u8fd9\u662f\u56e0\u4e3a\u6307\u9488\u4f5c\u4e3a\u51fd\u6570\u7684\u53c2\u6570\u53ea\u662f\u590d\u5236\u4e86\u4e00\u4e2a\u6307\u9488\uff0c\u6307\u9488\u6307\u5411\u7684\u5185\u5b58\u6ca1\u6709\u53d1\u751f\u6539\u53d8\u3002","title":"2. \u4f7f\u7528\u6307\u9488\u4f5c\u4e3a\u51fd\u6570\u7684\u53c2\u6570"},{"location":"%E5%9F%BA%E7%A1%80/3/#_13","text":"\u6307\u9488\u6570\u7ec4\uff1a\u5c31\u662f\u5143\u7d20\u4e3a\u6307\u9488\u7c7b\u578b\u7684\u6570\u7ec4\u3002 var ptr [3]*string \u6709\u4e00\u4e2a\u5143\u7d20\u4e2a\u6570\u4e0e\u4e4b\u76f8\u540c\u7684\u6570\u7ec4\uff0c\u5c06\u8be5\u6570\u7ec4\u4e2d\u6bcf\u4e2a\u5143\u7d20\u7684\u5730\u5740\u8d4b\u503c\u7ed9\u8be5\u6307\u9488\u6570\u7ec4\u3002\u4e5f\u5c31\u662f\u8bf4\u8be5\u6307\u9488\u6570\u7ec4\u4e0e\u67d0\u4e00\u4e2a\u6570\u7ec4\u5b8c\u5168\u5bf9\u5e94\u3002\u53ef\u4ee5\u901a\u8fc7*\u6307\u9488\u53d8\u91cf\u83b7\u53d6\u5230\u8be5\u5730\u5740\u6240\u5bf9\u5e94\u7684\u6570\u503c\u3002 package main import \"fmt\" const COUNT int = 3 func main() { a := [COUNT]string{\"abc\", \"ABC\", \"whw\"} // \u5b9a\u4e49\u6307\u9488\u6570\u7ec4 var ptr [COUNT]*string fmt.Printf(\"%T, %v \\n\", ptr, ptr) //[3]*string, [<nil> <nil> <nil>] for i := 0; i < COUNT; i++ { // \u5c06\u6570\u7ec4\u4e2d\u6bcf\u4e2a\u5143\u7d20\u7684\u5730\u5740\u8d4b\u503c\u7ed9\u6307\u9488\u6570\u7ec4 ptr[i] = &a[i] } fmt.Printf(\"%T, %v \\n\", ptr, ptr) //[3]*string, [0xc000090180 0xc000090190 0xc0000901a0] // \u83b7\u53d6\u6307\u9488\u6570\u7ec4\u4e2d\u7684\u7b2c\u4e00\u4e2a\u503c\uff0c\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u5730\u5740 fmt.Println(ptr[0]) //0xc000090180 // \u6839\u636e\u6570\u7ec4\u5143\u7d20\u7684\u6bcf\u4e2a\u5730\u5740\u83b7\u53d6\u8be5\u5730\u5740\u6240\u6307\u5411\u7684\u5143\u7d20\u7684\u6570\u503c for i := 0; i < COUNT; i++ { fmt.Printf(\"a[%d]=%s \\n\", i, *ptr[i]) } /* a[0]=abc a[1]=ABC a[2]=whw */ }","title":"\u6307\u9488\u6570\u7ec4"},{"location":"%E5%9F%BA%E7%A1%80/3/#_14","text":"\u5982\u679c\u4e00\u4e2a\u6307\u9488\u53d8\u91cf\u5b58\u653e\u7684\u53c8\u662f\u53e6\u4e00\u4e2a\u6307\u9488\u53d8\u91cf\u7684\u5730\u5740\uff0c\u5219\u79f0\u8fd9\u4e2a\u6307\u9488\u53d8\u91cf\u4e3a\u6307\u5411\u6307\u9488\u7684\u6307\u9488\u53d8\u91cf\u3002\u5f53\u5b9a\u4e49\u4e00\u4e2a\u6307\u5411\u6307\u9488\u7684\u6307\u9488\u53d8\u91cf\u65f6\uff0c\u7b2c\u4e00\u4e2a\u6307\u9488\u5b58\u653e\u7b2c\u4e8c\u4e2a\u6307\u9488\u7684\u5730\u5740\uff0c\u7b2c\u4e8c\u4e2a\u6307\u9488\u5b58\u653e\u53d8\u91cf\u7684\u5730\u5740\uff0c\u5982\u56fe4.19\u6240\u793a\u3002 \u6307\u5411\u6307\u9488\u7684\u6307\u9488\u53d8\u91cf\u58f0\u660e\u683c\u5f0f\u5982\u4e0b\u3002 var ptr **int \u4ee5\u4e0a\u6307\u5411\u6307\u9488\u7684\u6307\u9488\u53d8\u91cf\u4e3a\u6574\u578b\u3002 \u8bbf\u95ee\u6307\u5411\u6307\u9488\u7684\u6307\u9488\u53d8\u91cf\u503c\u9700\u8981\u4f7f\u7528\u4e24\u4e2a * \u53f7\u3002 package main import \"fmt\" func main(){ var a string var ptr *string var pptr **string a = \"\u706b\u5f71whw\" // \u6307\u9488ptr\u5730\u5740 ptr = &a fmt.Println(\"ptr>>>\",ptr)//0xc0000901e0 // pptr\uff1a\u6307\u5411\u6307\u9488ptr\u7684\u6307\u9488 pptr = &ptr fmt.Println(\"pptr>>>\",pptr)//0xc0000b0018 // \u83b7\u53d6\u5177\u4f53\u7684\u503c fmt.Printf(\"a=%v \\n\",a) fmt.Printf(\"*ptr=%v \\n\",*ptr) fmt.Printf(\"**pptr=%v \\n\",**pptr) /* a=\u706b\u5f71whw *ptr=\u706b\u5f71whw **pptr=\u706b\u5f71whw */ }","title":"\u6307\u9488\u7684\u6307\u9488"},{"location":"%E5%9F%BA%E7%A1%80/4/","text":"1 \u503c\u7c7b\u578b\u4e0e\u5f15\u7528\u7c7b\u578b \u503c\u7c7b\u578b \u57fa\u672c\u6570\u636e\u7c7b\u578b \uff08\u5982\uff1aint\u7cfb\u5217\u3001float\u7cfb\u5217\u3001bool\u3001string\uff09\uff1b \u6570\u7ec4 \uff1b \u7ed3\u6784\u4f53 \u5f15\u7528\u7c7b\u578b \u6307\u9488\uff1b slice\u5207\u7247 \uff1b map \uff1b \u7ba1\u9053chan \uff1b \u63a5\u53e3interface *\u503c\u4f20\u9012\u4e0e\u5f15\u7528\u4f20\u9012 2 \u51fd\u6570\u7684\u53c2\u6570\u4f20\u9012 \u51fd\u6570\u5982\u679c\u4f7f\u7528\u53c2\u6570\uff0c\u8be5\u53c2\u6570\u53d8\u91cf\u79f0\u4e3a\u51fd\u6570\u7684\u5f62\u53c2\u3002\u5f62\u53c2\u5c31\u50cf\u5b9a\u4e49\u5728\u51fd\u6570\u4f53\u5185\u7684\u5c40\u90e8\u53d8\u91cf\u3002 \u8c03\u7528\u51fd\u6570\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e24\u79cd\u65b9\u5f0f\u6765\u4f20\u9012\u53c2\u6570\uff0c\u5373\u503c\u4f20\u9012\u548c\u5f15\u7528\u4f20\u9012\uff0c\u6216\u8005\u53eb\u4f5c\u4f20\u503c\u548c\u4f20\u5f15\u7528\u3002 \u503c\u4f20\u9012\uff08\u4f20\u503c\uff09 \u503c\u4f20\u9012\u662f\u6307\u5728\u8c03\u7528\u51fd\u6570\u65f6\u5c06\u5b9e\u9645\u53c2\u6570\u590d\u5236\u4e00\u4efd\u4f20\u9012\u5230\u51fd\u6570\u4e2d\uff0c\u8fd9\u6837\u5728\u51fd\u6570\u4e2d\u5982\u679c\u5bf9\u53c2\u6570\u8fdb\u884c\u4fee\u6539\uff0c\u5c06\u4e0d\u4f1a\u5f71\u54cd\u5230\u539f\u5185\u5bb9\u6570\u636e\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cGo\u8bed\u8a00\u4f7f\u7528\u7684\u662f\u503c\u4f20\u9012\uff0c\u5373\u5728\u8c03\u7528\u8fc7\u7a0b\u4e2d\u4e0d\u4f1a\u5f71\u54cd\u5230\u539f\u5185\u5bb9\u6570\u636e\u3002 \u6bcf\u6b21\u8c03\u7528\u51fd\u6570\uff0c\u90fd\u5c06\u5b9e\u53c2\u590d\u5236\u4e00\u4efd\u518d\u4f20\u9012\u5230\u51fd\u6570\u4e2d\u3002\u6bcf\u6b21\u90fd\u590d\u5236\u4e00\u4efd\uff0c\u6027\u80fd\u4f1a\u4e0b\u964d\uff0c\u4f46\u662fGo \u8bed\u8a00\u4e2d\u4f7f\u7528\u6307\u9488\u548c\u503c\u4f20\u9012\u914d\u5408\u5c31\u907f\u514d\u4e86\u6027\u80fd\u964d\u4f4e\u95ee\u9898\uff0c\u4e5f\u5c31\u662f\u901a\u8fc7\u4f20\u6307\u9488\u53c2\u6570\u6765\u89e3\u51b3\u5b9e\u53c2\u590d\u5236\u7684\u95ee\u9898\u3002 \u5f15\u7528\u4f20\u9012\uff08\u4f20\u5f15\u7528\uff09 \u5f15\u7528\u4f20\u9012\u662f\u6307\u5728\u8c03\u7528\u51fd\u6570\u65f6 \u5c06\u5b9e\u9645\u53c2\u6570\u7684\u5730\u5740\u4f20\u9012\u5230\u51fd\u6570\u4e2d \uff0c \u90a3\u4e48\u5728\u51fd\u6570\u4e2d\u5bf9\u53c2\u6570\u6240\u8fdb\u884c\u7684\u4fee\u6539\uff0c\u5c06\u5f71\u54cd\u5230\u539f\u5185\u5bb9\u6570\u636e\u3002 \u4e25\u683c\u6765\u8bf4Go\u8bed\u8a00\u53ea\u6709\u503c\u4f20\u9012\u8fd9\u4e00\u79cd\u4f20\u53c2\u65b9\u5f0f\uff0cGo\u8bed\u8a00\u662f\u6ca1\u6709\u5f15\u7528\u4f20\u9012\u7684\u3002 Go\u8bed\u8a00\u4e2d\u53ef\u4ee5\u501f\u52a9\u4f20\u6307\u9488\u6765\u5b9e\u73b0\u5f15\u7528\u4f20\u9012\u7684\u6548\u679c\u3002\u51fd\u6570\u53c2\u6570\u4f7f\u7528\u6307\u9488\u53c2\u6570\uff0c\u4f20\u53c2\u7684\u65f6\u5019\u5176\u5b9e\u662f\u590d\u5236\u4e00\u4efd\u6307\u9488\u53c2\u6570\uff0c\u4e5f\u5c31\u662f\u590d\u5236\u4e86\u4e00\u4efd\u53d8\u91cf\u5730\u5740\u3002 \u51fd\u6570\u7684\u53c2\u6570\u5982\u679c\u662f\u6307\u9488\uff0c\u5f53\u51fd\u6570\u8c03\u7528\u65f6\uff0c\u867d\u7136\u53c2\u6570\u4ecd\u7136\u662f\u6309\u590d\u5236\u4f20\u9012\u7684\uff0c\u4f46\u662f\u6b64\u65f6\u4ec5\u4ec5\u53ea\u662f\u590d\u5236\u4e00\u4e2a\u6307\u9488\uff0c\u4e5f\u5c31\u662f\u4e00\u4e2a\u5185\u5b58\u5730\u5740\uff0c\u8fd9\u6837\u5c31\u4e0d\u7528\u62c5\u5fc3\u5b9e\u53c2\u590d\u5236\u9020\u6210\u7684\u5185\u5b58\u6d6a\u8d39\u3001\u65f6\u95f4\u5f00\u9500\u3001\u6027\u80fd\u964d\u4f4e\u3002 \u5f15\u7528\u4f20\u9012\u7684\u4f5c\u7528\u5982\u4e0b\uff1a \u4f20\u6307\u9488\u4f7f\u5f97\u591a\u4e2a\u51fd\u6570\u80fd\u64cd\u4f5c\u540c\u4e00\u4e2a\u5bf9\u8c61\u3002 \u4f20\u6307\u9488\u66f4\u8f7b\u91cf\u7ea7\uff088 bytes\uff09\uff0c\u53ea\u9700\u8981\u4f20\u5185\u5b58\u5730\u5740\u3002\u5982\u679c\u53c2\u6570\u662f\u975e\u6307\u9488\u53c2\u6570\uff0c\u90a3\u4e48\u503c\u4f20\u9012\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6bcf\u6b21\u5728\u590d\u5236\u4e0a\u9762\u5c31\u4f1a\u82b1\u8d39\u76f8\u5bf9\u8f83\u591a\u7684\u7cfb\u7edf\u5f00\u9500\uff08\u5185\u5b58\u548c\u65f6\u95f4\uff09\u3002\u6240\u4ee5\u8981\u4f20\u9012\u5927\u7684\u7ed3\u6784\u4f53\u7684\u65f6\u5019\uff0c\u7528\u6307\u9488\u662f\u4e00\u4e2a\u660e\u667a\u7684\u9009\u62e9\u3002 Go\u8bed\u8a00\u4e2dslice\u3001map\u3001chan\u7c7b\u578b\u7684\u5b9e\u73b0\u673a\u5236\u90fd\u7c7b\u4f3c\u6307\u9488\uff0c\u6240\u4ee5\u53ef\u4ee5\u76f4\u63a5\u4f20\u9012\uff0c\u800c\u4e0d\u5fc5\u53d6\u5730\u5740\u540e\u4f20\u9012\u6307\u9488\u3002 \u51fd\u6570\u4f20int\u7c7b\u578b\u7684\u503c\u4e0e\u5f15\u7528\u7684\u5bf9\u6bd4\uff1a package main import \"fmt\" func main(){ a := 10 fmt.Printf(\"1. \u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a%v \\n\",&a,a) fmt.Printf(\"======int\u578b\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p \\n\",a) changeIntVal(a) fmt.Printf(\"2. changeIntVal\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v \\n\",&a,a) // a\u8fd8\u662f10 changeIntPtr(&a) fmt.Printf(\"3. changeIntPtr\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v \\n\",&a,a) // a\u53d8\u6210\u4e8650 } //\u51fd\u6570\u4f20int\u7c7b\u578b\u7684\u503c func changeIntVal(a int){ fmt.Printf(\"------changeIntVal\u51fd\u6570\u5185:\u503c\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v\\n\",&a,a) // \u6539\u53d8a a = 90 } //\u51fd\u6570\u4f20\u5f15\u7528 func changeIntPtr(a *int){ fmt.Printf(\"------changeIntPtr\u51fd\u6570\u5185:\u6307\u9488\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v\\n\",&a,a) // \u6539\u53d8a *a = 50 } /* 1. \u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:0xc0000b4008,\u503c\u4e3a10 ======int\u578b\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%!p(int=10) ------changeIntVal\u51fd\u6570\u5185:\u503c\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:0xc0000b4020,\u503c\u4e3a:10 2. changeIntVal\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:0xc0000b4008,\u503c\u4e3a:10 ------changeIntPtr\u51fd\u6570\u5185:\u6307\u9488\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:0xc0000ae020,\u503c\u4e3a:0xc0000b4008 3. changeIntPtr\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:0xc0000b4008,\u503c\u4e3a:50 */ \u51fd\u6570\u4f20slice\u7c7b\u578b\u7684\u503c\u4e0e\u5f15\u7528\u7684\u5bf9\u6bd4 package main import \"fmt\" func main(){ a := []int{1,2,3,4} fmt.Printf(\"1. \u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a%v \\n\",&a,a) fmt.Printf(\"======int\u578b\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p \\n\",a) changeIntVal(a) fmt.Printf(\"2. changeIntVal\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v \\n\",&a,a) // a\u53d8\u6210\u4e86[90 2 3 4] changeIntPtr(&a) fmt.Printf(\"3. changeIntPtr\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v \\n\",&a,a) // a\u53d8\u6210\u4e86[50 2 3 4] } //\u51fd\u6570\u4f20int\u7c7b\u578b\u7684\u503c func changeIntVal(a []int){ fmt.Printf(\"------changeIntVal\u51fd\u6570\u5185:\u503c\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v\\n\",&a,a) // \u6539\u53d8a a[0] = 90 } //\u51fd\u6570\u4f20\u5f15\u7528 func changeIntPtr(a *[]int){ fmt.Printf(\"------changeIntPtr\u51fd\u6570\u5185:\u6307\u9488\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v\\n\",&a,a) // \u6539\u53d8a (*a)[0] = 50 } /* 1. \u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:0xc00000c080,\u503c\u4e3a[1 2 3 4] ======int\u578b\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:0xc000018100 ------changeIntVal\u51fd\u6570\u5185:\u503c\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:0xc00000c0e0,\u503c\u4e3a:[1 2 3 4] 2. changeIntVal\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:0xc00000c080,\u503c\u4e3a:[90 2 3 4] ------changeIntPtr\u51fd\u6570\u5185:\u6307\u9488\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:0xc00000e030,\u503c\u4e3a:&[90 2 3 4] 3. changeIntPtr\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:0xc00000c080,\u503c\u4e3a:[50 2 3 4] */ \u51fd\u6570\u4f20\u6570\u7ec4\uff0c\u5176\u7c7b\u578b\u7684\u503c\u4e0e\u5f15\u7528\u7684\u5bf9\u6bd4 package main import \"fmt\" func main(){ a := [4]int{1,2,3,4} fmt.Printf(\"1. \u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a%v \\n\",&a,a) fmt.Printf(\"======int\u578b\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p \\n\",a) changeIntVal(a) fmt.Printf(\"2. changeIntVal\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v \\n\",&a,a) // a\u6ca1\u53d8 \u8fd8\u662f[1 2 3 4] changeIntPtr(&a) fmt.Printf(\"3. changeIntPtr\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v \\n\",&a,a) // a\u53d8\u6210\u4e86[50 2 3 4] } //\u51fd\u6570\u4f20int\u7c7b\u578b\u7684\u503c func changeIntVal(a [4]int){ fmt.Printf(\"------changeIntVal\u51fd\u6570\u5185:\u503c\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v\\n\",&a,a) // \u6539\u53d8a a[0] = 90 } //\u51fd\u6570\u4f20\u5f15\u7528 func changeIntPtr(a *[4]int){ fmt.Printf(\"------changeIntPtr\u51fd\u6570\u5185:\u6307\u9488\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v\\n\",&a,a) // \u6539\u53d8a (*a)[0] = 50 } /* 1. \u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:0xc0000b8000,\u503c\u4e3a[1 2 3 4] ======int\u578b\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%!p([4]int=[1 2 3 4]) ------changeIntVal\u51fd\u6570\u5185:\u503c\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:0xc0000b8080,\u503c\u4e3a:[1 2 3 4] 2. changeIntVal\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:0xc0000b8000,\u503c\u4e3a:[1 2 3 4] ------changeIntPtr\u51fd\u6570\u5185:\u6307\u9488\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:0xc0000ae020,\u503c\u4e3a:&[1 2 3 4] 3. changeIntPtr\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:0xc0000b8000,\u503c\u4e3a:[50 2 3 4] */ \u51fd\u6570\u4f20\u7ed3\u6784\u4f53 package main import \"fmt\" type Teacher struct{ name string age int married bool } func main(){ a := Teacher{\"wanghe\",22,false} fmt.Printf(\"1. \u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a%v \\n\",&a,a) fmt.Printf(\"======int\u578b\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p \\n\",a) changeIntVal(a) fmt.Printf(\"2. changeIntVal\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v \\n\",&a,a) // a\u6ca1\u53d8 \u8fd8\u662f{wanghe 22 false} changeIntPtr(&a) fmt.Printf(\"3. changeIntPtr\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v \\n\",&a,a) // a\u53d8\u6210\u4e86{sasuke 32 false} } //\u51fd\u6570\u4f20int\u7c7b\u578b\u7684\u503c func changeIntVal(a Teacher){ fmt.Printf(\"------changeIntVal\u51fd\u6570\u5185:\u503c\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v\\n\",&a,a) // \u6539\u53d8a a.name = \"naruto\" a.age = 23 } //\u51fd\u6570\u4f20\u5f15\u7528 func changeIntPtr(a *Teacher){ fmt.Printf(\"------changeIntPtr\u51fd\u6570\u5185:\u6307\u9488\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v\\n\",&a,a) // \u6539\u53d8a a.name = \"sasuke\" a.age = 32 } /* 1. \u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:0xc00000c080,\u503c\u4e3a{wanghe 22 false} ======int\u578b\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%!p(main.Teacher={wanghe 22 false}) ------changeIntVal\u51fd\u6570\u5185:\u503c\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:0xc00000c0e0,\u503c\u4e3a:{wanghe 22 false} 2. changeIntVal\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:0xc00000c080,\u503c\u4e3a:{wanghe 22 false} ------changeIntPtr\u51fd\u6570\u5185:\u6307\u9488\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:0xc00000e030,\u503c\u4e3a:&{wanghe 22 false} 3. changeIntPtr\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:0xc00000c080,\u503c\u4e3a:{sasuke 32 false} */ \u503c\u4f20\u9012\u4e0e\u5f15\u7528\u4f20\u9012\u7684\u7ec6\u8282\u95ee\u9898 Go\u8bed\u8a00\u4e2d\u6240\u6709\u7684\u4f20\u53c2\u90fd\u662f\u503c\u4f20\u9012\uff08\u4f20\u503c\uff09\uff0c\u90fd\u662f\u4e00\u4e2a\u526f\u672c\u3002 \u526f\u672c\u7684\u5185\u5bb9\u6709\u7684\u662f\u503c\u7c7b\u578b\uff08int\u3001string\u3001bool\u3001array\u3001struct\u5c5e\u4e8e\u503c\u7c7b\u578b\uff09\uff0c\u8fd9\u6837\u5728\u51fd\u6570\u4e2d\u5c31\u65e0\u6cd5\u4fee\u6539\u539f\u5185\u5bb9\u6570\u636e\uff1b \u6709\u7684\u662f\u5f15\u7528\u7c7b\u578b\uff08pointer\u3001 slice\u3001map\u3001chan\u5c5e\u4e8e\u5f15\u7528\u7c7b\u578b\uff09\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u4fee\u6539\u539f\u5185\u5bb9\u6570\u636e\u3002 \u662f\u5426\u53ef\u4ee5\u4fee\u6539\u539f\u5185\u5bb9\u6570\u636e\uff0c\u548c\u4f20\u503c\u3001\u4f20\u5f15\u7528\u6ca1\u6709\u5fc5\u7136\u7684\u5173\u7cfb\u3002\u5728C++\u4e2d\uff0c\u4f20\u5f15\u7528\u80af\u5b9a\u662f\u53ef\u4ee5\u4fee\u6539\u539f\u5185\u5bb9\u6570\u636e\u7684\uff1b\u5728Go\u8bed\u8a00\u91cc\uff0c\u867d\u7136\u53ea\u6709\u4f20\u503c\uff0c\u4f46\u662f\u4e5f\u53ef\u4ee5\u4fee\u6539\u539f\u5185\u5bb9\u6570\u636e\uff0c\u56e0\u4e3a\u53c2\u6570\u53ef\u4ee5\u662f\u5f15\u7528\u7c7b\u578b\u3002 \u4f20\u5f15\u7528\u548c\u5f15\u7528\u7c7b\u578b\u662f\u4e24\u4e2a\u6982\u5ff5\u3002\u867d\u7136Go\u8bed\u8a00\u53ea\u6709\u4f20\u503c\u4e00\u79cd\u65b9\u5f0f\uff0c\u4f46\u662f\u53ef\u4ee5\u901a\u8fc7\u4f20\u5f15\u7528\u7c7b\u578b\u53d8\u91cf\u8fbe\u5230\u4e0e\u4f20\u5f15\u7528\u4e00\u6837\u7684\u6548\u679c\u3002 3 Go\u8bed\u8a00\u5f02\u5e38\u5904\u7406 \u4e3a\u4e86\u4fdd\u8bc1\u7a0b\u5e8f\u7684\u7a33\u5b9a\u6027\u3001\u53ef\u8c03\u8bd5\u6027\uff0c\u4e3a\u4e86\u65b9\u4fbf\u7ef4\u62a4\u8005\u9605\u8bfb\u548c\u7406\u89e3\uff0c\u964d\u4f4e\u7ef4\u62a4\u6210\u672c\uff0cGo\u8bed\u8a00\u63d0\u4f9b\u4e86\u5f02\u5e38\u5904\u7406\u3002 3.0 \u9519\u8bef\u5904\u7406 Go\u4e2d\u5f15\u5165\u7684\u5904\u7406\u65b9\u5f0f\u4e3a\uff1adefer\u3001panic\u3001recover \u7b80\u5355\u63cf\u8ff0\uff1a Go\u4e2d\u53ef\u4ee5\u629b\u51fa\u4e00\u4e2apanic\u5f02\u5e38\uff0c\u7136\u540e\u5728defer\u4e2d\u901a\u8fc7recover\u6355\u83b7\u8fd9\u4e2a\u5f02\u5e38\uff0c\u7136\u540e\u6b63\u5e38\u5904\u7406\u3002 package main import \"fmt\" func test(){ // \u4f7f\u7528 defer + recover \u6765\u6355\u83b7\u548c\u5904\u7406\u5f02\u5e38 defer func(){ err := recover() // recover()\u5185\u7f6e\u51fd\u6570\uff0c\u53ef\u4ee5\u6355\u83b7\u5f02\u5e38 if err != nil{ // \u8bf4\u660e\u6355\u83b7\u5230\u9519\u8bef fmt.Println(\"err= \",err) } }() num1 := 10 num2 := 0 res := num1 / num2 fmt.Println(\"res= \",res) } func main() { test() // err= runtime error: integer divide by zero } \u9519\u8bef\u5904\u7406\u7684\u597d\u5904 \u8fdb\u884c\u9519\u8bef\u5904\u7406\u540e\uff0c\u7a0b\u5e8f\u4e0d\u4f1a\u8f7b\u6613\u6302\u6389\uff0c\u5982\u679c\u52a0\u5165\u9884\u8b66\u4ee3\u7801\uff0c\u5c31\u53ef\u4ee5\u8ba9\u7a0b\u5e8f\u66f4\u52a0\u7684\u5065\u58ee\u3002 3.0 \u81ea\u5b9a\u4e49\u9519\u8bef\u5904\u7406 \u4f7f\u7528 errors.New \u548c panic \u5185\u7f6e\u51fd\u6570\u3002 \uff081\uff09errors.New(\"\u9519\u8bef\u8bf4\u660e\"),\u4f1a\u8fd4\u56de\u4e00\u4e2aerror\u7c7b\u578b\u7684\u503c\uff0c\u8868\u793a\u4e00\u4e2a\u9519\u8bef\u3002 \uff082\uff09panic\u5185\u7f6e\u51fd\u6570\uff0c\u63a5\u53d7\u4e00\u4e2ainterface{}\u7c7b\u578b\u7684\u503c\uff08\u4e5f\u5c31\u662f\u4efb\u4f55\u7c7b\u578b\u7684\u503c\uff09\u4f5c\u4e3a\u53c2\u6570\u3002\u53ef\u4ee5\u63a5\u53d7error\u7c7b\u578b\u7684\u53d8\u91cf\uff0c \u8f93\u51fa\u9519\u8bef\u4fe1\u606f\u5e76\u9000\u51fa\u7a0b\u5e8f func readConf(name string) (err error){ if name == \"config.ini\"{ // \u6b63\u5e38\u8bfb\u53d6 return nil }else{ // \u8fd4\u56de\u4e00\u4e2a\u81ea\u5b9a\u4e49\u9519\u8bef return errors.New(\"\u8bfb\u53d6\u6587\u4ef6\u9519\u8bef\") } } 3.1 error *** error\u63a5\u53e3 \u9519\u8bef\u662f\u6307\u7a0b\u5e8f\u4e2d\u51fa\u73b0\u4e0d\u6b63\u5e38\u7684\u60c5\u51b5\uff0c\u4ece\u800c\u5bfc\u81f4\u7a0b\u5e8f\u65e0\u6cd5\u6b63\u5e38\u8fd0\u884c\u3002\u5047\u8bbe\u5c1d\u8bd5\u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\uff0c\u6587\u4ef6\u7cfb\u7edf\u4e2d\u4e0d\u5b58\u5728\u8fd9\u4e2a\u6587\u4ef6\u3002\u8fd9\u662f\u4e00\u4e2a\u5f02\u5e38\u60c5\u51b5\uff0c\u5b83\u8868\u793a\u4e3a\u4e00\u4e2a\u9519\u8bef\u3002 Go\u8bed\u8a00\u901a\u8fc7\u5185\u7f6e\u7684\u9519\u8bef\u7c7b\u578b\u63d0\u4f9b\u4e86\u975e\u5e38\u7b80\u5355\u7684\u9519\u8bef\u5904\u7406\u673a\u5236\uff0c\u5373error\u63a5\u53e3\u3002\u8be5\u63a5\u53e3\u7684\u5b9a\u4e49\u5982\u4e0b\u3002 type error interface { Error() string } error\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a\u63a5\u53e3\u7c7b\u578b\uff0c\u5176\u4e2d\u5305\u542b\u4e00\u4e2aError()\u65b9\u6cd5\uff0c\u9519\u8bef\u503c\u53ef\u4ee5\u5b58\u50a8\u5728\u53d8\u91cf\u4e2d\uff0c\u901a\u8fc7\u51fd\u6570\u8fd4\u56de\u3002 \u5b83\u5fc5\u987b\u662f\u51fd\u6570\u8fd4\u56de\u7684\u6700\u540e\u4e00\u4e2a\u503c\u3002 \u5728Go\u8bed\u8a00\u4e2d\u5904\u7406\u9519\u8bef\u7684\u65b9\u5f0f\u901a\u5e38\u662f\u5c06\u8fd4\u56de\u7684\u9519\u8bef\u4e0enil\u8fdb\u884c\u6bd4\u8f83\u3002nil\u503c\u8868\u793a\u6ca1\u6709\u53d1\u751f\u9519\u8bef\uff0c\u800c\u975enil\u503c\u8868\u793a\u51fa\u73b0\u9519\u8bef\u3002\u5982\u679c\u4e0d\u662fnil\uff0c\u9700\u6253\u5370\u8f93\u51fa\u9519\u8bef\u3002 \u4f7f\u7528error\u63a5\u53e3\u7684\u793a\u4f8b\uff1a package main import ( \"fmt\" \"math\" \"errors\" \"os\" ) func main(){ // \u5f02\u5e38\u60c5\u51b51 res := math.Sqrt(-100) fmt.Println(res) // NaN res, err := Sqrt(-100) if err != nil{ fmt.Println(err) }else{ fmt.Println(res) } // \u5f02\u5e38\u60c5\u51b52 res, err = Divide(100,0) if err != nil{ fmt.Println(err.Error()) }else{ fmt.Println(res) } // \u5f02\u5e38\u60c5\u51b53 \u6253\u5f00\u4e0d\u5b58\u5728\u7684\u6587\u4ef6 f, err := os.Open(\"./abx.txt\") if err != nil{ fmt.Println(err) }else{ fmt.Println(f.Name(),\"\u8be5\u6587\u4ef6\u88ab\u6210\u529f\u6253\u5f00\uff01\") } } // \u5b9a\u4e49\u5e73\u65b9\u6839\u8fd0\u7b97\u51fd\u6570 func Sqrt(f float64) (float64, error){ if f < 0{ return 0, errors.New(\"\u8d1f\u6570\u4e0d\u53ef\u4ee5\u83b7\u53d6\u5e73\u65b9\u6839\") }else{ return math.Sqrt(f), nil } } // \u5b9a\u4e49\u9664\u6cd5\u8fd0\u7b97\u51fd\u6570 func Divide(dividee float64, divider float64)(float64, error){ if divider == 0{ return 0, errors.New(\"\u9664\u6570\u4e0d\u53ef\u4ee5\u4e3a0\uff01\") }else{ return dividee / divider, nil } } /* NaN \u8d1f\u6570\u4e0d\u53ef\u4ee5\u83b7\u53d6\u5e73\u65b9\u6839 \u9664\u6570\u4e0d\u53ef\u4ee5\u4e3a0\uff01 open ./abx.txt: no such file or directory */ \u521b\u5efaerror\u5bf9\u8c61 \u7ed3\u6784\u4f53\u53ea\u8981\u5b9e\u73b0\u4e86Error() string\u8fd9\u79cd\u683c\u5f0f\u7684\u65b9\u6cd5\uff0c\u5c31\u4ee3\u8868\u5b9e\u73b0\u4e86\u8be5\u9519\u8bef\u63a5\u53e3\uff0c\u8fd4\u56de\u503c\u4e3a\u9519\u8bef\u7684\u5177\u4f53\u63cf\u8ff0\u3002 \u901a\u5e38\u7a0b\u5e8f\u4f1a\u53d1\u751f\u53ef\u9884\u77e5\u7684\u9519\u8bef\uff0c\u6240\u4ee5Go\u8bed\u8a00errors\u5305\u5bf9\u5916\u63d0\u4f9b\u4e86\u53ef\u4f9b\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u65b9\u6cd5\uff0cerrors\u5305\u4e0b\u7684New()\u51fd\u6570\u8fd4\u56deerror\u5bf9\u8c61\uff0cerrors.New()\u51fd\u6570\u521b\u5efa\u65b0\u7684\u9519\u8bef\u3002errors\u5305\u5185\u4ee3\u7801\u5982\u4e0b\uff1a Go\u8bed\u8a00\u7684errors.go\u6e90\u7801\u5b9a\u4e49\u4e86\u4e00\u4e2a\u7ed3\u6784\u4f53\uff0c\u540d\u4e3aerrorString\uff0c\u5b83\u62e5\u6709\u4e00\u4e2aError()\u65b9\u6cd5\uff0c\u5b9e\u73b0\u4e86error\u63a5\u53e3\u3002\u540c\u65f6\u8be5\u5305\u5411\u5916\u66b4\u9732\u4e86\u4e00\u4e2aNew()\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u53c2\u6570\u4e3a\u5b57\u7b26\u4e32\uff0c\u8fd4\u56de\u503c\u4e3aerror\u7c7b\u578b\u3002 fmt\u5305\u4e0b\u7684Errorf()\u51fd\u6570\u8fd4\u56deerror\u5bf9\u8c61\uff0c\u5b83\u672c\u8d28\u4e0a\u8fd8\u662f\u8c03\u7528errors.New()\u3002\u4f7f\u7528\u683c\u5f0f\u5982\u4e0b\uff1a \u63a5\u4e0b\u6765\u901a\u8fc7\u4e00\u4e2a\u6848\u4f8b\u6f14\u793a\u521b\u5efaerror\u7684\u65b9\u5f0f\uff1a package main import ( \"errors\" \"fmt\" ) func main() { // 1. \u521b\u5efaerror\u5bf9\u8c61\u7684\u65b9\u5f0f1 err1 := errors.New(\"\u81ea\u5df1\u521b\u5efa\u7684\u9519\u8bef\uff01\") fmt.Println(\"err1>>> \",err1)//\u81ea\u5df1\u521b\u5efa\u7684\u9519\u8bef\uff01 fmt.Println(\"err1.Error()>>> \",err1.Error())//\u81ea\u5df1\u521b\u5efa\u7684\u9519\u8bef\uff01 fmt.Printf(\"err1\u7684\u7c7b\u578b\uff1a%T\\n \",err1)//*errors.errorString fmt.Println(\"----------------\") // 2. \u521b\u5efaerror\u5bf9\u8c61\u7684\u65b9\u5f0f2 err2 := fmt.Errorf(\"\u9519\u8bef\u7684\u7c7b\u578b%d\",101) fmt.Println(\"err2>>> \",err2)//\u9519\u8bef\u7684\u7c7b\u578b101 fmt.Println(\"err2.Error()>>> \",err2.Error())//\u9519\u8bef\u7684\u7c7b\u578b101 fmt.Printf(\"err2\u7684\u7c7b\u578b\uff1a%T\\n \",err2)//*errors.errorString fmt.Println(\"----------------\") //error\u5bf9\u8c61\u5728\u51fd\u6570\u4e2d\u7684\u4f7f\u7528 res, err3 := checkAge(-12) if err3 != nil{ fmt.Println(\"err3>>> \",err3)//\u8f93\u5165\u7684\u5e74\u9f84\u4e3a\uff1a-12\uff0c\u662f\u8d1f\u6570\uff01 fmt.Println(\"err3.Error()>>> \",err3.Error())//\u8f93\u5165\u7684\u5e74\u9f84\u4e3a\uff1a-12\uff0c\u662f\u8d1f\u6570\uff01 }else{ fmt.Println(res) } } // \u8bbe\u8ba1\u4e00\u4e2a\u51fd\u6570\u9a8c\u8bc1\u5e74\u9f84\uff0c\u5982\u679c\u662f\u8d1f\u6570\uff0c\u5219\u8fd4\u56deerror func checkAge(age int) (string, error){ if age < 0{ err := fmt.Errorf(\"\u8f93\u5165\u7684\u5e74\u9f84\u4e3a\uff1a%d\uff0c\u662f\u8d1f\u6570\uff01\",age) return \"\", err }else{ return fmt.Sprintf(\"\u8f93\u5165\u7684\u5e74\u9f84\u662f\uff1a%d\",age), nil } } \u81ea\u5b9a\u4e49\u9519\u8bef *** \u81ea\u5b9a\u4e49\u9519\u8bef\u7684\u5b9e\u73b0\u6b65\u9aa4\u5982\u4e0b\uff1a \u5b9a\u4e49\u4e00\u4e2a\u7ed3\u6784\u4f53\uff0c\u8868\u793a\u81ea\u5b9a\u4e49\u9519\u8bef\u7684\u7c7b\u578b\u3002 \u8ba9\u81ea\u5b9a\u4e49\u9519\u8bef\u7c7b\u578b\u5b9e\u73b0error\u63a5\u53e3\uff1aError() string\u3002 \u5b9a\u4e49\u4e00\u4e2a\u8fd4\u56deerror\u7684\u51fd\u6570\u3002\u6839\u636e\u7a0b\u5e8f\u5b9e\u9645\u529f\u80fd\u800c\u5b9a\u3002 package main import ( \"fmt\" \"time\" ) // 1. \u5b9a\u4e49\u7ed3\u6784\u4f53\uff0c\u8868\u793a\u81ea\u5b9a\u4e49\u9519\u8bef\u7c7b\u578b type MyError struct { When time.Time What string } // 2. \u5b9e\u73b0Error()\u65b9\u6cd5 func (e MyError) Error() string{ return fmt.Sprintf(\"%v : %v\",e.When, e.What) } // 3. \u5b9a\u4e49\u51fd\u6570\uff0c\u8fd4\u56deerror\u5bf9\u8c61\u3002\u8be5\u51fd\u6570\u6c42\u77e9\u5f62\u9762\u79ef func getArea(width, length float64) (float64, error){ errorInfo := \"\" if width < 0 && length < 0{ errorInfo = fmt.Sprintf(\"\u957f\u5ea6\uff1a%v\uff0c\u5bbd\u5ea6\uff1a%v \u5747\u4e3a\u8d1f\u6570\uff01\",length, width) } // \u7701\u7565\u5176\u4ed6\u60c5\u51b5\u7684\u5224\u65ad\uff01\uff01\uff01 if errorInfo != \"\"{ return 0, MyError{time.Now(),errorInfo} }else{ return width * length, nil } } func main() { res ,err := getArea(-1,-2) if err != nil{ fmt.Printf(err.Error()) }else{ fmt.Println(\"\u9762\u79ef\u4e3a\uff1a\",res) } } // 2020-10-26 17:10:07.162722 +0800 CST m=+0.000098898 : \u957f\u5ea6\uff1a-2\uff0c\u5bbd\u5ea6\uff1a-1 \u5747\u4e3a\u8d1f\u6570\uff01 3.2 defer *** \u5173\u952e\u5b57defer\u7528\u4e8e\u5ef6\u8fdf\u4e00\u4e2a\u51fd\u6570\u6216\u8005\u65b9\u6cd5\uff08\u6216\u8005\u5f53\u524d\u6240\u521b\u5efa\u7684\u533f\u540d\u51fd\u6570\uff09\u7684\u6267\u884c\u3002 defer\u8bed\u53e5\u53ea\u80fd\u51fa\u73b0\u5728\u51fd\u6570\u6216\u65b9\u6cd5\u7684\u5185\u90e8\u3002 \u51fd\u6570\u4e2d\u4f7f\u7528defer \u5728\u51fd\u6570\u4e2d\u53ef\u4ee5\u6dfb\u52a0\u591a\u4e2adefer\u8bed\u53e5\u3002 \u5982\u679c\u6709\u5f88\u591a\u8c03\u7528defer\uff0c\u5f53\u51fd\u6570\u6267\u884c\u5230\u6700\u540e\u65f6\uff0c\u8fd9\u4e9bdefer\u8bed\u53e5\u4f1a\u6309\u7167\u9006\u5e8f\u6267\u884c\uff08\u62a5\u9519\u7684\u65f6\u5019\u4e5f\u4f1a\u6267\u884c\uff09\uff0c\u6700\u540e\u8be5\u51fd\u6570\u8fd4\u56de\u3002 defer\u7684\u6267\u884c\u987a\u5e8f\u53ca\u6848\u4f8b package main import \"fmt\" func main() { defer funcA() funcB() defer funcC() fmt.Println(\"main over\") } func funcA(){ fmt.Println(\"funcA...\") } func funcB(){ fmt.Println(\"funcB...\") } func funcC(){ fmt.Println(\"funcC...\") } /* funcB... main over funcC... funcA... */ defer\u8bed\u53e5\u7ecf\u5e38\u88ab\u7528\u4e8e\u5904\u7406\u6210\u5bf9\u7684\u64cd\u4f5c\uff0c\u5982\u6253\u5f00-\u5173\u95ed\u3001\u8fde\u63a5-\u65ad\u5f00\u8fde\u63a5\u3001\u52a0\u9501-\u91ca\u653e\u9501\u3002 \u7279\u522b\u662f\u5728\u6267\u884c\u6253\u5f00\u8d44\u6e90\u7684\u64cd\u4f5c\u65f6\uff0c\u9047\u5230\u9519\u8bef\u9700\u8981\u63d0\u524d\u8fd4\u56de\uff0c\u5728\u8fd4\u56de\u524d\u9700\u8981\u5173\u95ed\u76f8\u5e94\u7684\u8d44\u6e90\uff0c\u4e0d\u7136\u5f88\u5bb9\u6613\u9020\u6210\u8d44\u6e90\u6cc4\u9732\u7b49\u95ee\u9898\u3002 package main import \"fmt\" func main() { s1 := []int{77,88,99,400,234} getLargest(s1) } func finished(){ fmt.Println(\"\u7ed3\u675f\uff01\") } func getLargest(s []int){ // \u7528defer\u6302\u8d77\u6765 defer finished() fmt.Println(\"\u5f00\u59cb\u5bfb\u627e\u6700\u5927\u7684\u6570>>>\") max := 0 for _,v := range s{ if v > max{ max = v } } fmt.Printf(\"%v \u4e2d\u6700\u5927\u7684\u6570\u4e3a\uff1a%v \\n\",s,max) } /* \u5f00\u59cb\u5bfb\u627e\u6700\u5927\u7684\u6570>>> [77 88 99 400 234] \u4e2d\u6700\u5927\u7684\u6570\u4e3a\uff1a400 \u7ed3\u675f\uff01 */ \u65b9\u6cd5\u4e2d\u4f7f\u7528defer \u5ef6\u8fdf\u5e76\u4e0d\u5c40\u9650\u4e8e\u51fd\u6570\uff0c\u5ef6\u8fdf\u4e00\u4e2a\u65b9\u6cd5\u8c03\u7528\u4e5f\u662f\u5b8c\u5168\u5408\u6cd5\u7684\u3002 package main import \"fmt\" type person struct { firstName, lastName string } func (p person) fullName(){ fmt.Printf(\"%s %s \\n\",p.firstName,p.lastName) } func main() { p := person{\"Steven\",\"Wang\"} // \u5ef6\u8fdf\u4e00\u4e2a\u65b9\u6cd5 defer p.fullName() fmt.Println(\"Welcome\uff01\uff01\uff01\") } /* Welcome\uff01\uff01\uff01 Steven Wang */ defer\u53c2\u6570 \u5ef6\u8fdf\u51fd\u6570\u7684\u53c2\u6570\u5728\u6267\u884c\u5ef6\u8fdf\u8bed\u53e5\u65f6\u88ab\u6267\u884c\uff0c\u800c\u4e0d\u662f\u5728\u6267\u884c\u5b9e\u9645\u7684\u51fd\u6570\u8c03\u7528\u65f6\u6267\u884c\u3002 package main import \"fmt\" func main() { a := 5 b := 6 defer printAdd(a, b, true) a = 10 b = 12 printAdd(a,b,false) } func printAdd(a, b int, flag bool){ if flag{ fmt.Printf(\"\u5ef6\u8fdf\u6267\u884c\u51fd\u6570printAdd()\uff0c\u53c2\u6570a,b\u5206\u522b\u4e3a\uff1a%d,%d \\n\",a,b) }else{ fmt.Printf(\"\u672a\u5ef6\u8fdf\u6267\u884c\u51fd\u6570printAdd()\uff0c\u53c2\u6570a,b\u4e3a\uff1a%d,%d \\n\",a,b) } } /* \u672a\u5ef6\u8fdf\u6267\u884c\u51fd\u6570printAdd()\uff0c\u53c2\u6570a,b\u4e3a\uff1a10,12 \u5ef6\u8fdf\u6267\u884c\u51fd\u6570printAdd()\uff0c\u53c2\u6570a,b\u5206\u522b\u4e3a\uff1a5,6 */ \u5806\u6808\u7684\u63a8\u8fdf \u5f53\u4e00\u4e2a\u51fd\u6570\u6709\u591a\u4e2a\u5ef6\u8fdf\u8c03\u7528\u65f6\uff0c\u5b83\u4eec\u88ab\u6dfb\u52a0\u5230\u4e00\u4e2a\u5806\u6808\u4e2d\uff0c\u5e76\u6309 \u540e\u8fdb\u5148\u51fa \uff08Last InFirst Out\uff0cLIFO\uff09\u7684\u987a\u5e8f\u6267\u884c\u3002 package main import \"fmt\" func main() { str := \"\u6b22\u8fce\u5b66\u4e60Golang\u8bed\u8a00\uff01\" fmt.Printf(\"\u539f\u59cb\u5b57\u7b26\u4e32\uff1a%s \\n\",str) fmt.Printf(\"\u53cd\u8f6c\u540e\u5b57\u7b26\u4e32: \\n\") ReverseString(str) } func ReverseString(str string) { for _, v := range []rune(str){ defer fmt.Printf(\"%c\",v) } } /* \u539f\u59cb\u5b57\u7b26\u4e32\uff1a\u6b22\u8fce\u5b66\u4e60Golang\u8bed\u8a00\uff01 \u53cd\u8f6c\u540e\u5b57\u7b26\u4e32: \uff01\u8a00\u8bedgnaloG\u4e60\u5b66\u8fce\u6b22 */ defer\u7684\u6700\u4f73\u5b9e\u8df5 8.3 panic\u548crecover\u673a\u5236 *** panic Go\u8bed\u8a00\u8ffd\u6c42\u7b80\u6d01\u4f18\u96c5\uff0cGo\u6ca1\u6709\u50cfJava\u90a3\u6837\u7684try...catch...finally\u5f02\u5e38\u5904\u7406\u673a\u5236\u3002Go\u8bed\u8a00\u8bbe\u8ba1\u8005\u8ba4\u4e3a\uff0c\u5c06\u5f02\u5e38\u4e0e\u6d41\u7a0b\u63a7\u5236\u6df7\u5728\u4e00\u8d77\u4f1a\u8ba9\u4ee3\u7801\u53d8\u5f97\u6df7\u4e71\u3002 panic\uff0c\u8ba9\u5f53\u524d\u7684\u7a0b\u5e8f\u8fdb\u5165\u6050\u614c\uff0c\u4e2d\u65ad\u7a0b\u5e8f\u7684\u6267\u884c\u3002panic()\u662f\u4e00\u4e2a\u5185\u5efa\u51fd\u6570\uff0c\u53ef\u4ee5\u4e2d\u65ad\u539f\u6709\u7684\u63a7\u5236\u6d41\u7a0b\u3002 panic\u793a\u4f8b\u4e00 package main import \"fmt\" func TestA(){ fmt.Println(\"func TestA()\") } func TestB(){ panic(\"func TestB()\") } func TestC(){ fmt.Println(\"func TestC()\") } func main() { TestA() TestB() // TestB()\u53d1\u751f\u5f02\u5e38\uff0c\u4e2d\u65ad\u7a0b\u5e8f TestC() } /* func TestA() panic: func TestB() goroutine 1 [running]: main.TestB(...) /Users/wanghongwei/GoProject/Go\u8bed\u8a00\u5f00\u53d1\u5b9e\u6218/variable.go:10 main.main() /Users/wanghongwei/GoProject/Go\u8bed\u8a00\u5f00\u53d1\u5b9e\u6218/variable.go:18 +0x96 */ \u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u5411\u7a0b\u5e8f\u4f7f\u7528\u65b9\u62a5\u544a\u9519\u8bef\u72b6\u6001\u7684\u65b9\u5f0f\u53ef\u4ee5\u662f\u8fd4\u56de\u4e00\u4e2a\u989d\u5916\u7684error\u7c7b\u578b\u503c\u3002\u4f46\u662f\uff0c\u5f53\u9047\u5230\u4e0d\u53ef\u6062\u590d\u7684\u9519\u8bef\u72b6\u6001\u65f6\uff0c\u5982\u6570\u7ec4\u8bbf\u95ee\u8d8a\u754c\u3001\u7a7a\u6307\u9488\u5f15\u7528\u7b49\uff0c\u8fd9\u4e9b\u8fd0\u884c\u65f6\u9519\u8bef\u4f1a\u5f15\u8d77panic\u5f02\u5e38\u3002\u8fd9\u65f6\uff0c\u4e0a\u8ff0\u9519\u8bef\u5904\u7406\u65b9\u5f0f\u663e\u7136\u5c31\u4e0d\u9002\u5408\u4e86\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4e0d\u5e94\u901a\u8fc7\u8c03\u7528panic()\u51fd\u6570\u6765\u62a5\u544a\u666e\u901a\u7684\u9519\u8bef\uff0c\u800c\u5e94\u8be5\u53ea\u628a\u5b83\u4f5c\u4e3a\u62a5\u544a\u81f4\u547d\u9519\u8bef\u7684\u4e00\u79cd\u65b9\u5f0f\u3002\u5f53\u67d0\u4e9b\u4e0d\u5e94\u8be5\u53d1\u751f\u7684\u573a\u666f\u53d1\u751f\u65f6\u8c03\u7528panic()\u3002 panic\u793a\u4f8b\u4e8c\uff1a\u5185\u7f6e\u7684panic()\u51fd\u6570\u5f15\u53d1\u7684panic\u5f02\u5e38 package main import \"fmt\" func TestA(){ fmt.Println(\"func TestA()\") } func TestB(x int){ var a [100] int a[x] = 1000 // x\u503c\u4e3a101\u65f6\uff0c\u6570\u7ec4\u8d8a\u754c } func TestC(){ fmt.Println(\"func TestC()\") } func main() { TestA() TestB(101) // TestB()\u53d1\u751f\u5f02\u5e38\uff0c\u4e2d\u65ad\u7a0b\u5e8f TestC() } /* func TestA() panic: runtime error: index out of range [101] with length 100 goroutine 1 [running]: main.TestB(...) /Users/wanghongwei/GoProject/Go\u8bed\u8a00\u5f00\u53d1\u5b9e\u6218/variable.go:11 main.main() /Users/wanghongwei/GoProject/Go\u8bed\u8a00\u5f00\u53d1\u5b9e\u6218/variable.go:19 +0x85 */ recover panic\u5f02\u5e38\u4e00\u65e6\u88ab\u5f15\u53d1\u5c31\u4f1a\u5bfc\u81f4\u7a0b\u5e8f\u5d29\u6e83\u3002\u8fd9\u5f53\u7136\u4e0d\u662f\u7a0b\u5e8f\u5458\u613f\u610f\u770b\u5230\u7684\uff0c\u4f46\u8c01\u4e5f\u4e0d\u80fd\u4fdd\u8bc1\u7a0b\u5e8f\u4e0d\u4f1a\u53d1\u751f\u4efb\u4f55\u8fd0\u884c\u65f6\u9519\u8bef\u3002\u4e0d\u8fc7\uff0cGo\u8bed\u8a00\u4e3a\u5f00\u53d1\u8005\u63d0\u4f9b\u4e86\u4e13\u7528\u4e8e\u201c\u62e6\u622a\u201d\u8fd0\u884c\u65f6panic\u7684\u5185\u5efa\u51fd\u6570recover()\u3002 recover()\u53ef\u4ee5\u8ba9\u8fdb\u5165\u6050\u614c\u6d41\u7a0b\u7684Goroutine\uff08\u53ef\u5f53\u4f5c\u7ebf\u7a0b\u7406\u89e3\uff0c\u540e\u7eed\u7ae0\u8282\u4f1a\u8be6\u7ec6\u8bb2\u89e3\uff09\u6062\u590d\u8fc7\u6765\u5e76\u91cd\u65b0\u83b7\u5f97\u6d41\u7a0b\u63a7\u5236\u6743\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0crecover()\u8ba9\u7a0b\u5e8f\u6062\u590d\uff0c\u5fc5\u987b\u5728\u5ef6\u8fdf\u51fd\u6570\u4e2d\u6267\u884c\u3002\u6362\u8a00\u4e4b\uff0crecover()\u4ec5\u5728\u5ef6\u8fdf\u51fd\u6570\u4e2d\u6709\u6548\u3002 \u5728\u6b63\u5e38\u7684\u7a0b\u5e8f\u8fd0\u884c\u8fc7\u7a0b\u4e2d\uff0c\u8c03\u7528 recover()\u4f1a\u8fd4\u56de nil\uff0c\u5e76\u4e14\u6ca1\u6709\u5176\u4ed6\u4efb\u4f55\u6548\u679c\u3002\u5982\u679c\u5f53\u524d\u7684Goroutine\u9677\u5165\u6050\u614c\uff0c\u8c03\u7528recover()\u53ef\u4ee5\u6355\u83b7panic()\u7684\u8f93\u5165\u503c\uff0c\u4f7f\u7a0b\u5e8f\u6062\u590d\u6b63\u5e38\u8fd0\u884c\u3002 defer + recover\u5904\u7406\u9519\u8bef package main import \"fmt\" func main() { funcA() funcB() funcC() fmt.Println(\"main over...\") } func funcA(){ fmt.Println(\"\u8fd9\u662ffuncA...\") } func funcB(){ // defer \u4e00\u4e2a \u533f\u540d\u51fd\u6570 defer func(){ if msg := recover();msg != nil{ fmt.Println(\"\u6062\u590d\u5566\uff01\u83b7\u53d6recover\u7684\u8fd4\u56de\u503c\uff1a\",msg) } }() fmt.Println(\"\u8fd9\u662ffuncB...\") for i := 0; i < 10; i++{ fmt.Println(\"i:\",i) if i == 5{ panic(\"funcB\u6050\u614c\u5566\uff01\uff01\uff01\") } } } func funcC(){ // defer \u4e00\u4e2a \u533f\u540d\u51fd\u6570 defer func(){ fmt.Println(\"\u6267\u884c\u5ef6\u8fdf\u51fd\u6570...\") msg := recover() fmt.Println(\"\u83b7\u53d6recover\u7684\u8fd4\u56de\u503c\uff1a\",msg) }() fmt.Println(\"\u8fd9\u662ffuncC...\") panic(\"funcC\u6050\u614c\u4e86\uff01\") } /* \u8fd9\u662ffuncA... \u8fd9\u662ffuncB... i: 0 i: 1 i: 2 i: 3 i: 4 i: 5 \u6062\u590d\u5566\uff01\u83b7\u53d6recover\u7684\u8fd4\u56de\u503c\uff1a funcB\u6050\u614c\u5566\uff01\uff01\uff01 \u8fd9\u662ffuncC... \u6267\u884c\u5ef6\u8fdf\u51fd\u6570... \u83b7\u53d6recover\u7684\u8fd4\u56de\u503c\uff1a funcC\u6050\u614c\u4e86\uff01 main over... */","title":"04 \u503c/\u5f15\u7528\u7c7b\u578b\u4e0e\u5f02\u5e38\u5904\u7406"},{"location":"%E5%9F%BA%E7%A1%80/4/#_1","text":"","title":""},{"location":"%E5%9F%BA%E7%A1%80/4/#1","text":"","title":"1 \u503c\u7c7b\u578b\u4e0e\u5f15\u7528\u7c7b\u578b"},{"location":"%E5%9F%BA%E7%A1%80/4/#_2","text":"\u57fa\u672c\u6570\u636e\u7c7b\u578b \uff08\u5982\uff1aint\u7cfb\u5217\u3001float\u7cfb\u5217\u3001bool\u3001string\uff09\uff1b \u6570\u7ec4 \uff1b \u7ed3\u6784\u4f53","title":"\u503c\u7c7b\u578b"},{"location":"%E5%9F%BA%E7%A1%80/4/#_3","text":"\u6307\u9488\uff1b slice\u5207\u7247 \uff1b map \uff1b \u7ba1\u9053chan \uff1b \u63a5\u53e3interface","title":"\u5f15\u7528\u7c7b\u578b"},{"location":"%E5%9F%BA%E7%A1%80/4/#_4","text":"","title":"*\u503c\u4f20\u9012\u4e0e\u5f15\u7528\u4f20\u9012"},{"location":"%E5%9F%BA%E7%A1%80/4/#2","text":"\u51fd\u6570\u5982\u679c\u4f7f\u7528\u53c2\u6570\uff0c\u8be5\u53c2\u6570\u53d8\u91cf\u79f0\u4e3a\u51fd\u6570\u7684\u5f62\u53c2\u3002\u5f62\u53c2\u5c31\u50cf\u5b9a\u4e49\u5728\u51fd\u6570\u4f53\u5185\u7684\u5c40\u90e8\u53d8\u91cf\u3002 \u8c03\u7528\u51fd\u6570\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e24\u79cd\u65b9\u5f0f\u6765\u4f20\u9012\u53c2\u6570\uff0c\u5373\u503c\u4f20\u9012\u548c\u5f15\u7528\u4f20\u9012\uff0c\u6216\u8005\u53eb\u4f5c\u4f20\u503c\u548c\u4f20\u5f15\u7528\u3002","title":"2 \u51fd\u6570\u7684\u53c2\u6570\u4f20\u9012"},{"location":"%E5%9F%BA%E7%A1%80/4/#_5","text":"\u503c\u4f20\u9012\u662f\u6307\u5728\u8c03\u7528\u51fd\u6570\u65f6\u5c06\u5b9e\u9645\u53c2\u6570\u590d\u5236\u4e00\u4efd\u4f20\u9012\u5230\u51fd\u6570\u4e2d\uff0c\u8fd9\u6837\u5728\u51fd\u6570\u4e2d\u5982\u679c\u5bf9\u53c2\u6570\u8fdb\u884c\u4fee\u6539\uff0c\u5c06\u4e0d\u4f1a\u5f71\u54cd\u5230\u539f\u5185\u5bb9\u6570\u636e\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cGo\u8bed\u8a00\u4f7f\u7528\u7684\u662f\u503c\u4f20\u9012\uff0c\u5373\u5728\u8c03\u7528\u8fc7\u7a0b\u4e2d\u4e0d\u4f1a\u5f71\u54cd\u5230\u539f\u5185\u5bb9\u6570\u636e\u3002 \u6bcf\u6b21\u8c03\u7528\u51fd\u6570\uff0c\u90fd\u5c06\u5b9e\u53c2\u590d\u5236\u4e00\u4efd\u518d\u4f20\u9012\u5230\u51fd\u6570\u4e2d\u3002\u6bcf\u6b21\u90fd\u590d\u5236\u4e00\u4efd\uff0c\u6027\u80fd\u4f1a\u4e0b\u964d\uff0c\u4f46\u662fGo \u8bed\u8a00\u4e2d\u4f7f\u7528\u6307\u9488\u548c\u503c\u4f20\u9012\u914d\u5408\u5c31\u907f\u514d\u4e86\u6027\u80fd\u964d\u4f4e\u95ee\u9898\uff0c\u4e5f\u5c31\u662f\u901a\u8fc7\u4f20\u6307\u9488\u53c2\u6570\u6765\u89e3\u51b3\u5b9e\u53c2\u590d\u5236\u7684\u95ee\u9898\u3002","title":"\u503c\u4f20\u9012\uff08\u4f20\u503c\uff09"},{"location":"%E5%9F%BA%E7%A1%80/4/#_6","text":"\u5f15\u7528\u4f20\u9012\u662f\u6307\u5728\u8c03\u7528\u51fd\u6570\u65f6 \u5c06\u5b9e\u9645\u53c2\u6570\u7684\u5730\u5740\u4f20\u9012\u5230\u51fd\u6570\u4e2d \uff0c \u90a3\u4e48\u5728\u51fd\u6570\u4e2d\u5bf9\u53c2\u6570\u6240\u8fdb\u884c\u7684\u4fee\u6539\uff0c\u5c06\u5f71\u54cd\u5230\u539f\u5185\u5bb9\u6570\u636e\u3002 \u4e25\u683c\u6765\u8bf4Go\u8bed\u8a00\u53ea\u6709\u503c\u4f20\u9012\u8fd9\u4e00\u79cd\u4f20\u53c2\u65b9\u5f0f\uff0cGo\u8bed\u8a00\u662f\u6ca1\u6709\u5f15\u7528\u4f20\u9012\u7684\u3002 Go\u8bed\u8a00\u4e2d\u53ef\u4ee5\u501f\u52a9\u4f20\u6307\u9488\u6765\u5b9e\u73b0\u5f15\u7528\u4f20\u9012\u7684\u6548\u679c\u3002\u51fd\u6570\u53c2\u6570\u4f7f\u7528\u6307\u9488\u53c2\u6570\uff0c\u4f20\u53c2\u7684\u65f6\u5019\u5176\u5b9e\u662f\u590d\u5236\u4e00\u4efd\u6307\u9488\u53c2\u6570\uff0c\u4e5f\u5c31\u662f\u590d\u5236\u4e86\u4e00\u4efd\u53d8\u91cf\u5730\u5740\u3002 \u51fd\u6570\u7684\u53c2\u6570\u5982\u679c\u662f\u6307\u9488\uff0c\u5f53\u51fd\u6570\u8c03\u7528\u65f6\uff0c\u867d\u7136\u53c2\u6570\u4ecd\u7136\u662f\u6309\u590d\u5236\u4f20\u9012\u7684\uff0c\u4f46\u662f\u6b64\u65f6\u4ec5\u4ec5\u53ea\u662f\u590d\u5236\u4e00\u4e2a\u6307\u9488\uff0c\u4e5f\u5c31\u662f\u4e00\u4e2a\u5185\u5b58\u5730\u5740\uff0c\u8fd9\u6837\u5c31\u4e0d\u7528\u62c5\u5fc3\u5b9e\u53c2\u590d\u5236\u9020\u6210\u7684\u5185\u5b58\u6d6a\u8d39\u3001\u65f6\u95f4\u5f00\u9500\u3001\u6027\u80fd\u964d\u4f4e\u3002 \u5f15\u7528\u4f20\u9012\u7684\u4f5c\u7528\u5982\u4e0b\uff1a \u4f20\u6307\u9488\u4f7f\u5f97\u591a\u4e2a\u51fd\u6570\u80fd\u64cd\u4f5c\u540c\u4e00\u4e2a\u5bf9\u8c61\u3002 \u4f20\u6307\u9488\u66f4\u8f7b\u91cf\u7ea7\uff088 bytes\uff09\uff0c\u53ea\u9700\u8981\u4f20\u5185\u5b58\u5730\u5740\u3002\u5982\u679c\u53c2\u6570\u662f\u975e\u6307\u9488\u53c2\u6570\uff0c\u90a3\u4e48\u503c\u4f20\u9012\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6bcf\u6b21\u5728\u590d\u5236\u4e0a\u9762\u5c31\u4f1a\u82b1\u8d39\u76f8\u5bf9\u8f83\u591a\u7684\u7cfb\u7edf\u5f00\u9500\uff08\u5185\u5b58\u548c\u65f6\u95f4\uff09\u3002\u6240\u4ee5\u8981\u4f20\u9012\u5927\u7684\u7ed3\u6784\u4f53\u7684\u65f6\u5019\uff0c\u7528\u6307\u9488\u662f\u4e00\u4e2a\u660e\u667a\u7684\u9009\u62e9\u3002 Go\u8bed\u8a00\u4e2dslice\u3001map\u3001chan\u7c7b\u578b\u7684\u5b9e\u73b0\u673a\u5236\u90fd\u7c7b\u4f3c\u6307\u9488\uff0c\u6240\u4ee5\u53ef\u4ee5\u76f4\u63a5\u4f20\u9012\uff0c\u800c\u4e0d\u5fc5\u53d6\u5730\u5740\u540e\u4f20\u9012\u6307\u9488\u3002","title":"\u5f15\u7528\u4f20\u9012\uff08\u4f20\u5f15\u7528\uff09"},{"location":"%E5%9F%BA%E7%A1%80/4/#int","text":"package main import \"fmt\" func main(){ a := 10 fmt.Printf(\"1. \u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a%v \\n\",&a,a) fmt.Printf(\"======int\u578b\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p \\n\",a) changeIntVal(a) fmt.Printf(\"2. changeIntVal\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v \\n\",&a,a) // a\u8fd8\u662f10 changeIntPtr(&a) fmt.Printf(\"3. changeIntPtr\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v \\n\",&a,a) // a\u53d8\u6210\u4e8650 } //\u51fd\u6570\u4f20int\u7c7b\u578b\u7684\u503c func changeIntVal(a int){ fmt.Printf(\"------changeIntVal\u51fd\u6570\u5185:\u503c\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v\\n\",&a,a) // \u6539\u53d8a a = 90 } //\u51fd\u6570\u4f20\u5f15\u7528 func changeIntPtr(a *int){ fmt.Printf(\"------changeIntPtr\u51fd\u6570\u5185:\u6307\u9488\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v\\n\",&a,a) // \u6539\u53d8a *a = 50 } /* 1. \u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:0xc0000b4008,\u503c\u4e3a10 ======int\u578b\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%!p(int=10) ------changeIntVal\u51fd\u6570\u5185:\u503c\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:0xc0000b4020,\u503c\u4e3a:10 2. changeIntVal\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:0xc0000b4008,\u503c\u4e3a:10 ------changeIntPtr\u51fd\u6570\u5185:\u6307\u9488\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:0xc0000ae020,\u503c\u4e3a:0xc0000b4008 3. changeIntPtr\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:0xc0000b4008,\u503c\u4e3a:50 */","title":"\u51fd\u6570\u4f20int\u7c7b\u578b\u7684\u503c\u4e0e\u5f15\u7528\u7684\u5bf9\u6bd4\uff1a"},{"location":"%E5%9F%BA%E7%A1%80/4/#slice","text":"package main import \"fmt\" func main(){ a := []int{1,2,3,4} fmt.Printf(\"1. \u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a%v \\n\",&a,a) fmt.Printf(\"======int\u578b\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p \\n\",a) changeIntVal(a) fmt.Printf(\"2. changeIntVal\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v \\n\",&a,a) // a\u53d8\u6210\u4e86[90 2 3 4] changeIntPtr(&a) fmt.Printf(\"3. changeIntPtr\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v \\n\",&a,a) // a\u53d8\u6210\u4e86[50 2 3 4] } //\u51fd\u6570\u4f20int\u7c7b\u578b\u7684\u503c func changeIntVal(a []int){ fmt.Printf(\"------changeIntVal\u51fd\u6570\u5185:\u503c\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v\\n\",&a,a) // \u6539\u53d8a a[0] = 90 } //\u51fd\u6570\u4f20\u5f15\u7528 func changeIntPtr(a *[]int){ fmt.Printf(\"------changeIntPtr\u51fd\u6570\u5185:\u6307\u9488\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v\\n\",&a,a) // \u6539\u53d8a (*a)[0] = 50 } /* 1. \u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:0xc00000c080,\u503c\u4e3a[1 2 3 4] ======int\u578b\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:0xc000018100 ------changeIntVal\u51fd\u6570\u5185:\u503c\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:0xc00000c0e0,\u503c\u4e3a:[1 2 3 4] 2. changeIntVal\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:0xc00000c080,\u503c\u4e3a:[90 2 3 4] ------changeIntPtr\u51fd\u6570\u5185:\u6307\u9488\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:0xc00000e030,\u503c\u4e3a:&[90 2 3 4] 3. changeIntPtr\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:0xc00000c080,\u503c\u4e3a:[50 2 3 4] */","title":"\u51fd\u6570\u4f20slice\u7c7b\u578b\u7684\u503c\u4e0e\u5f15\u7528\u7684\u5bf9\u6bd4"},{"location":"%E5%9F%BA%E7%A1%80/4/#_7","text":"package main import \"fmt\" func main(){ a := [4]int{1,2,3,4} fmt.Printf(\"1. \u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a%v \\n\",&a,a) fmt.Printf(\"======int\u578b\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p \\n\",a) changeIntVal(a) fmt.Printf(\"2. changeIntVal\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v \\n\",&a,a) // a\u6ca1\u53d8 \u8fd8\u662f[1 2 3 4] changeIntPtr(&a) fmt.Printf(\"3. changeIntPtr\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v \\n\",&a,a) // a\u53d8\u6210\u4e86[50 2 3 4] } //\u51fd\u6570\u4f20int\u7c7b\u578b\u7684\u503c func changeIntVal(a [4]int){ fmt.Printf(\"------changeIntVal\u51fd\u6570\u5185:\u503c\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v\\n\",&a,a) // \u6539\u53d8a a[0] = 90 } //\u51fd\u6570\u4f20\u5f15\u7528 func changeIntPtr(a *[4]int){ fmt.Printf(\"------changeIntPtr\u51fd\u6570\u5185:\u6307\u9488\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v\\n\",&a,a) // \u6539\u53d8a (*a)[0] = 50 } /* 1. \u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:0xc0000b8000,\u503c\u4e3a[1 2 3 4] ======int\u578b\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%!p([4]int=[1 2 3 4]) ------changeIntVal\u51fd\u6570\u5185:\u503c\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:0xc0000b8080,\u503c\u4e3a:[1 2 3 4] 2. changeIntVal\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:0xc0000b8000,\u503c\u4e3a:[1 2 3 4] ------changeIntPtr\u51fd\u6570\u5185:\u6307\u9488\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:0xc0000ae020,\u503c\u4e3a:&[1 2 3 4] 3. changeIntPtr\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:0xc0000b8000,\u503c\u4e3a:[50 2 3 4] */","title":"\u51fd\u6570\u4f20\u6570\u7ec4\uff0c\u5176\u7c7b\u578b\u7684\u503c\u4e0e\u5f15\u7528\u7684\u5bf9\u6bd4"},{"location":"%E5%9F%BA%E7%A1%80/4/#_8","text":"package main import \"fmt\" type Teacher struct{ name string age int married bool } func main(){ a := Teacher{\"wanghe\",22,false} fmt.Printf(\"1. \u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a%v \\n\",&a,a) fmt.Printf(\"======int\u578b\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p \\n\",a) changeIntVal(a) fmt.Printf(\"2. changeIntVal\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v \\n\",&a,a) // a\u6ca1\u53d8 \u8fd8\u662f{wanghe 22 false} changeIntPtr(&a) fmt.Printf(\"3. changeIntPtr\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v \\n\",&a,a) // a\u53d8\u6210\u4e86{sasuke 32 false} } //\u51fd\u6570\u4f20int\u7c7b\u578b\u7684\u503c func changeIntVal(a Teacher){ fmt.Printf(\"------changeIntVal\u51fd\u6570\u5185:\u503c\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v\\n\",&a,a) // \u6539\u53d8a a.name = \"naruto\" a.age = 23 } //\u51fd\u6570\u4f20\u5f15\u7528 func changeIntPtr(a *Teacher){ fmt.Printf(\"------changeIntPtr\u51fd\u6570\u5185:\u6307\u9488\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:%p,\u503c\u4e3a:%v\\n\",&a,a) // \u6539\u53d8a a.name = \"sasuke\" a.age = 32 } /* 1. \u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:0xc00000c080,\u503c\u4e3a{wanghe 22 false} ======int\u578b\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:%!p(main.Teacher={wanghe 22 false}) ------changeIntVal\u51fd\u6570\u5185:\u503c\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:0xc00000c0e0,\u503c\u4e3a:{wanghe 22 false} 2. changeIntVal\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:0xc00000c080,\u503c\u4e3a:{wanghe 22 false} ------changeIntPtr\u51fd\u6570\u5185:\u6307\u9488\u53c2\u6570a\u7684\u5185\u5b58\u5730\u5740:0xc00000e030,\u503c\u4e3a:&{wanghe 22 false} 3. changeIntPtr\u51fd\u6570\u4e4b\u540e,\u53d8\u91cfa\u7684\u5185\u5b58\u5730\u5740:0xc00000c080,\u503c\u4e3a:{sasuke 32 false} */","title":"\u51fd\u6570\u4f20\u7ed3\u6784\u4f53"},{"location":"%E5%9F%BA%E7%A1%80/4/#_9","text":"Go\u8bed\u8a00\u4e2d\u6240\u6709\u7684\u4f20\u53c2\u90fd\u662f\u503c\u4f20\u9012\uff08\u4f20\u503c\uff09\uff0c\u90fd\u662f\u4e00\u4e2a\u526f\u672c\u3002 \u526f\u672c\u7684\u5185\u5bb9\u6709\u7684\u662f\u503c\u7c7b\u578b\uff08int\u3001string\u3001bool\u3001array\u3001struct\u5c5e\u4e8e\u503c\u7c7b\u578b\uff09\uff0c\u8fd9\u6837\u5728\u51fd\u6570\u4e2d\u5c31\u65e0\u6cd5\u4fee\u6539\u539f\u5185\u5bb9\u6570\u636e\uff1b \u6709\u7684\u662f\u5f15\u7528\u7c7b\u578b\uff08pointer\u3001 slice\u3001map\u3001chan\u5c5e\u4e8e\u5f15\u7528\u7c7b\u578b\uff09\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u4fee\u6539\u539f\u5185\u5bb9\u6570\u636e\u3002 \u662f\u5426\u53ef\u4ee5\u4fee\u6539\u539f\u5185\u5bb9\u6570\u636e\uff0c\u548c\u4f20\u503c\u3001\u4f20\u5f15\u7528\u6ca1\u6709\u5fc5\u7136\u7684\u5173\u7cfb\u3002\u5728C++\u4e2d\uff0c\u4f20\u5f15\u7528\u80af\u5b9a\u662f\u53ef\u4ee5\u4fee\u6539\u539f\u5185\u5bb9\u6570\u636e\u7684\uff1b\u5728Go\u8bed\u8a00\u91cc\uff0c\u867d\u7136\u53ea\u6709\u4f20\u503c\uff0c\u4f46\u662f\u4e5f\u53ef\u4ee5\u4fee\u6539\u539f\u5185\u5bb9\u6570\u636e\uff0c\u56e0\u4e3a\u53c2\u6570\u53ef\u4ee5\u662f\u5f15\u7528\u7c7b\u578b\u3002 \u4f20\u5f15\u7528\u548c\u5f15\u7528\u7c7b\u578b\u662f\u4e24\u4e2a\u6982\u5ff5\u3002\u867d\u7136Go\u8bed\u8a00\u53ea\u6709\u4f20\u503c\u4e00\u79cd\u65b9\u5f0f\uff0c\u4f46\u662f\u53ef\u4ee5\u901a\u8fc7\u4f20\u5f15\u7528\u7c7b\u578b\u53d8\u91cf\u8fbe\u5230\u4e0e\u4f20\u5f15\u7528\u4e00\u6837\u7684\u6548\u679c\u3002","title":"\u503c\u4f20\u9012\u4e0e\u5f15\u7528\u4f20\u9012\u7684\u7ec6\u8282\u95ee\u9898"},{"location":"%E5%9F%BA%E7%A1%80/4/#3-go","text":"\u4e3a\u4e86\u4fdd\u8bc1\u7a0b\u5e8f\u7684\u7a33\u5b9a\u6027\u3001\u53ef\u8c03\u8bd5\u6027\uff0c\u4e3a\u4e86\u65b9\u4fbf\u7ef4\u62a4\u8005\u9605\u8bfb\u548c\u7406\u89e3\uff0c\u964d\u4f4e\u7ef4\u62a4\u6210\u672c\uff0cGo\u8bed\u8a00\u63d0\u4f9b\u4e86\u5f02\u5e38\u5904\u7406\u3002","title":"3 Go\u8bed\u8a00\u5f02\u5e38\u5904\u7406"},{"location":"%E5%9F%BA%E7%A1%80/4/#30","text":"Go\u4e2d\u5f15\u5165\u7684\u5904\u7406\u65b9\u5f0f\u4e3a\uff1adefer\u3001panic\u3001recover \u7b80\u5355\u63cf\u8ff0\uff1a Go\u4e2d\u53ef\u4ee5\u629b\u51fa\u4e00\u4e2apanic\u5f02\u5e38\uff0c\u7136\u540e\u5728defer\u4e2d\u901a\u8fc7recover\u6355\u83b7\u8fd9\u4e2a\u5f02\u5e38\uff0c\u7136\u540e\u6b63\u5e38\u5904\u7406\u3002 package main import \"fmt\" func test(){ // \u4f7f\u7528 defer + recover \u6765\u6355\u83b7\u548c\u5904\u7406\u5f02\u5e38 defer func(){ err := recover() // recover()\u5185\u7f6e\u51fd\u6570\uff0c\u53ef\u4ee5\u6355\u83b7\u5f02\u5e38 if err != nil{ // \u8bf4\u660e\u6355\u83b7\u5230\u9519\u8bef fmt.Println(\"err= \",err) } }() num1 := 10 num2 := 0 res := num1 / num2 fmt.Println(\"res= \",res) } func main() { test() // err= runtime error: integer divide by zero } \u9519\u8bef\u5904\u7406\u7684\u597d\u5904 \u8fdb\u884c\u9519\u8bef\u5904\u7406\u540e\uff0c\u7a0b\u5e8f\u4e0d\u4f1a\u8f7b\u6613\u6302\u6389\uff0c\u5982\u679c\u52a0\u5165\u9884\u8b66\u4ee3\u7801\uff0c\u5c31\u53ef\u4ee5\u8ba9\u7a0b\u5e8f\u66f4\u52a0\u7684\u5065\u58ee\u3002","title":"3.0 \u9519\u8bef\u5904\u7406"},{"location":"%E5%9F%BA%E7%A1%80/4/#30_1","text":"\u4f7f\u7528 errors.New \u548c panic \u5185\u7f6e\u51fd\u6570\u3002 \uff081\uff09errors.New(\"\u9519\u8bef\u8bf4\u660e\"),\u4f1a\u8fd4\u56de\u4e00\u4e2aerror\u7c7b\u578b\u7684\u503c\uff0c\u8868\u793a\u4e00\u4e2a\u9519\u8bef\u3002 \uff082\uff09panic\u5185\u7f6e\u51fd\u6570\uff0c\u63a5\u53d7\u4e00\u4e2ainterface{}\u7c7b\u578b\u7684\u503c\uff08\u4e5f\u5c31\u662f\u4efb\u4f55\u7c7b\u578b\u7684\u503c\uff09\u4f5c\u4e3a\u53c2\u6570\u3002\u53ef\u4ee5\u63a5\u53d7error\u7c7b\u578b\u7684\u53d8\u91cf\uff0c \u8f93\u51fa\u9519\u8bef\u4fe1\u606f\u5e76\u9000\u51fa\u7a0b\u5e8f func readConf(name string) (err error){ if name == \"config.ini\"{ // \u6b63\u5e38\u8bfb\u53d6 return nil }else{ // \u8fd4\u56de\u4e00\u4e2a\u81ea\u5b9a\u4e49\u9519\u8bef return errors.New(\"\u8bfb\u53d6\u6587\u4ef6\u9519\u8bef\") } }","title":"3.0 \u81ea\u5b9a\u4e49\u9519\u8bef\u5904\u7406"},{"location":"%E5%9F%BA%E7%A1%80/4/#31-error","text":"error\u63a5\u53e3 \u9519\u8bef\u662f\u6307\u7a0b\u5e8f\u4e2d\u51fa\u73b0\u4e0d\u6b63\u5e38\u7684\u60c5\u51b5\uff0c\u4ece\u800c\u5bfc\u81f4\u7a0b\u5e8f\u65e0\u6cd5\u6b63\u5e38\u8fd0\u884c\u3002\u5047\u8bbe\u5c1d\u8bd5\u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\uff0c\u6587\u4ef6\u7cfb\u7edf\u4e2d\u4e0d\u5b58\u5728\u8fd9\u4e2a\u6587\u4ef6\u3002\u8fd9\u662f\u4e00\u4e2a\u5f02\u5e38\u60c5\u51b5\uff0c\u5b83\u8868\u793a\u4e3a\u4e00\u4e2a\u9519\u8bef\u3002 Go\u8bed\u8a00\u901a\u8fc7\u5185\u7f6e\u7684\u9519\u8bef\u7c7b\u578b\u63d0\u4f9b\u4e86\u975e\u5e38\u7b80\u5355\u7684\u9519\u8bef\u5904\u7406\u673a\u5236\uff0c\u5373error\u63a5\u53e3\u3002\u8be5\u63a5\u53e3\u7684\u5b9a\u4e49\u5982\u4e0b\u3002 type error interface { Error() string } error\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a\u63a5\u53e3\u7c7b\u578b\uff0c\u5176\u4e2d\u5305\u542b\u4e00\u4e2aError()\u65b9\u6cd5\uff0c\u9519\u8bef\u503c\u53ef\u4ee5\u5b58\u50a8\u5728\u53d8\u91cf\u4e2d\uff0c\u901a\u8fc7\u51fd\u6570\u8fd4\u56de\u3002 \u5b83\u5fc5\u987b\u662f\u51fd\u6570\u8fd4\u56de\u7684\u6700\u540e\u4e00\u4e2a\u503c\u3002 \u5728Go\u8bed\u8a00\u4e2d\u5904\u7406\u9519\u8bef\u7684\u65b9\u5f0f\u901a\u5e38\u662f\u5c06\u8fd4\u56de\u7684\u9519\u8bef\u4e0enil\u8fdb\u884c\u6bd4\u8f83\u3002nil\u503c\u8868\u793a\u6ca1\u6709\u53d1\u751f\u9519\u8bef\uff0c\u800c\u975enil\u503c\u8868\u793a\u51fa\u73b0\u9519\u8bef\u3002\u5982\u679c\u4e0d\u662fnil\uff0c\u9700\u6253\u5370\u8f93\u51fa\u9519\u8bef\u3002 \u4f7f\u7528error\u63a5\u53e3\u7684\u793a\u4f8b\uff1a package main import ( \"fmt\" \"math\" \"errors\" \"os\" ) func main(){ // \u5f02\u5e38\u60c5\u51b51 res := math.Sqrt(-100) fmt.Println(res) // NaN res, err := Sqrt(-100) if err != nil{ fmt.Println(err) }else{ fmt.Println(res) } // \u5f02\u5e38\u60c5\u51b52 res, err = Divide(100,0) if err != nil{ fmt.Println(err.Error()) }else{ fmt.Println(res) } // \u5f02\u5e38\u60c5\u51b53 \u6253\u5f00\u4e0d\u5b58\u5728\u7684\u6587\u4ef6 f, err := os.Open(\"./abx.txt\") if err != nil{ fmt.Println(err) }else{ fmt.Println(f.Name(),\"\u8be5\u6587\u4ef6\u88ab\u6210\u529f\u6253\u5f00\uff01\") } } // \u5b9a\u4e49\u5e73\u65b9\u6839\u8fd0\u7b97\u51fd\u6570 func Sqrt(f float64) (float64, error){ if f < 0{ return 0, errors.New(\"\u8d1f\u6570\u4e0d\u53ef\u4ee5\u83b7\u53d6\u5e73\u65b9\u6839\") }else{ return math.Sqrt(f), nil } } // \u5b9a\u4e49\u9664\u6cd5\u8fd0\u7b97\u51fd\u6570 func Divide(dividee float64, divider float64)(float64, error){ if divider == 0{ return 0, errors.New(\"\u9664\u6570\u4e0d\u53ef\u4ee5\u4e3a0\uff01\") }else{ return dividee / divider, nil } } /* NaN \u8d1f\u6570\u4e0d\u53ef\u4ee5\u83b7\u53d6\u5e73\u65b9\u6839 \u9664\u6570\u4e0d\u53ef\u4ee5\u4e3a0\uff01 open ./abx.txt: no such file or directory */ \u521b\u5efaerror\u5bf9\u8c61 \u7ed3\u6784\u4f53\u53ea\u8981\u5b9e\u73b0\u4e86Error() string\u8fd9\u79cd\u683c\u5f0f\u7684\u65b9\u6cd5\uff0c\u5c31\u4ee3\u8868\u5b9e\u73b0\u4e86\u8be5\u9519\u8bef\u63a5\u53e3\uff0c\u8fd4\u56de\u503c\u4e3a\u9519\u8bef\u7684\u5177\u4f53\u63cf\u8ff0\u3002 \u901a\u5e38\u7a0b\u5e8f\u4f1a\u53d1\u751f\u53ef\u9884\u77e5\u7684\u9519\u8bef\uff0c\u6240\u4ee5Go\u8bed\u8a00errors\u5305\u5bf9\u5916\u63d0\u4f9b\u4e86\u53ef\u4f9b\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u65b9\u6cd5\uff0cerrors\u5305\u4e0b\u7684New()\u51fd\u6570\u8fd4\u56deerror\u5bf9\u8c61\uff0cerrors.New()\u51fd\u6570\u521b\u5efa\u65b0\u7684\u9519\u8bef\u3002errors\u5305\u5185\u4ee3\u7801\u5982\u4e0b\uff1a Go\u8bed\u8a00\u7684errors.go\u6e90\u7801\u5b9a\u4e49\u4e86\u4e00\u4e2a\u7ed3\u6784\u4f53\uff0c\u540d\u4e3aerrorString\uff0c\u5b83\u62e5\u6709\u4e00\u4e2aError()\u65b9\u6cd5\uff0c\u5b9e\u73b0\u4e86error\u63a5\u53e3\u3002\u540c\u65f6\u8be5\u5305\u5411\u5916\u66b4\u9732\u4e86\u4e00\u4e2aNew()\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u53c2\u6570\u4e3a\u5b57\u7b26\u4e32\uff0c\u8fd4\u56de\u503c\u4e3aerror\u7c7b\u578b\u3002 fmt\u5305\u4e0b\u7684Errorf()\u51fd\u6570\u8fd4\u56deerror\u5bf9\u8c61\uff0c\u5b83\u672c\u8d28\u4e0a\u8fd8\u662f\u8c03\u7528errors.New()\u3002\u4f7f\u7528\u683c\u5f0f\u5982\u4e0b\uff1a \u63a5\u4e0b\u6765\u901a\u8fc7\u4e00\u4e2a\u6848\u4f8b\u6f14\u793a\u521b\u5efaerror\u7684\u65b9\u5f0f\uff1a package main import ( \"errors\" \"fmt\" ) func main() { // 1. \u521b\u5efaerror\u5bf9\u8c61\u7684\u65b9\u5f0f1 err1 := errors.New(\"\u81ea\u5df1\u521b\u5efa\u7684\u9519\u8bef\uff01\") fmt.Println(\"err1>>> \",err1)//\u81ea\u5df1\u521b\u5efa\u7684\u9519\u8bef\uff01 fmt.Println(\"err1.Error()>>> \",err1.Error())//\u81ea\u5df1\u521b\u5efa\u7684\u9519\u8bef\uff01 fmt.Printf(\"err1\u7684\u7c7b\u578b\uff1a%T\\n \",err1)//*errors.errorString fmt.Println(\"----------------\") // 2. \u521b\u5efaerror\u5bf9\u8c61\u7684\u65b9\u5f0f2 err2 := fmt.Errorf(\"\u9519\u8bef\u7684\u7c7b\u578b%d\",101) fmt.Println(\"err2>>> \",err2)//\u9519\u8bef\u7684\u7c7b\u578b101 fmt.Println(\"err2.Error()>>> \",err2.Error())//\u9519\u8bef\u7684\u7c7b\u578b101 fmt.Printf(\"err2\u7684\u7c7b\u578b\uff1a%T\\n \",err2)//*errors.errorString fmt.Println(\"----------------\") //error\u5bf9\u8c61\u5728\u51fd\u6570\u4e2d\u7684\u4f7f\u7528 res, err3 := checkAge(-12) if err3 != nil{ fmt.Println(\"err3>>> \",err3)//\u8f93\u5165\u7684\u5e74\u9f84\u4e3a\uff1a-12\uff0c\u662f\u8d1f\u6570\uff01 fmt.Println(\"err3.Error()>>> \",err3.Error())//\u8f93\u5165\u7684\u5e74\u9f84\u4e3a\uff1a-12\uff0c\u662f\u8d1f\u6570\uff01 }else{ fmt.Println(res) } } // \u8bbe\u8ba1\u4e00\u4e2a\u51fd\u6570\u9a8c\u8bc1\u5e74\u9f84\uff0c\u5982\u679c\u662f\u8d1f\u6570\uff0c\u5219\u8fd4\u56deerror func checkAge(age int) (string, error){ if age < 0{ err := fmt.Errorf(\"\u8f93\u5165\u7684\u5e74\u9f84\u4e3a\uff1a%d\uff0c\u662f\u8d1f\u6570\uff01\",age) return \"\", err }else{ return fmt.Sprintf(\"\u8f93\u5165\u7684\u5e74\u9f84\u662f\uff1a%d\",age), nil } } \u81ea\u5b9a\u4e49\u9519\u8bef *** \u81ea\u5b9a\u4e49\u9519\u8bef\u7684\u5b9e\u73b0\u6b65\u9aa4\u5982\u4e0b\uff1a \u5b9a\u4e49\u4e00\u4e2a\u7ed3\u6784\u4f53\uff0c\u8868\u793a\u81ea\u5b9a\u4e49\u9519\u8bef\u7684\u7c7b\u578b\u3002 \u8ba9\u81ea\u5b9a\u4e49\u9519\u8bef\u7c7b\u578b\u5b9e\u73b0error\u63a5\u53e3\uff1aError() string\u3002 \u5b9a\u4e49\u4e00\u4e2a\u8fd4\u56deerror\u7684\u51fd\u6570\u3002\u6839\u636e\u7a0b\u5e8f\u5b9e\u9645\u529f\u80fd\u800c\u5b9a\u3002 package main import ( \"fmt\" \"time\" ) // 1. \u5b9a\u4e49\u7ed3\u6784\u4f53\uff0c\u8868\u793a\u81ea\u5b9a\u4e49\u9519\u8bef\u7c7b\u578b type MyError struct { When time.Time What string } // 2. \u5b9e\u73b0Error()\u65b9\u6cd5 func (e MyError) Error() string{ return fmt.Sprintf(\"%v : %v\",e.When, e.What) } // 3. \u5b9a\u4e49\u51fd\u6570\uff0c\u8fd4\u56deerror\u5bf9\u8c61\u3002\u8be5\u51fd\u6570\u6c42\u77e9\u5f62\u9762\u79ef func getArea(width, length float64) (float64, error){ errorInfo := \"\" if width < 0 && length < 0{ errorInfo = fmt.Sprintf(\"\u957f\u5ea6\uff1a%v\uff0c\u5bbd\u5ea6\uff1a%v \u5747\u4e3a\u8d1f\u6570\uff01\",length, width) } // \u7701\u7565\u5176\u4ed6\u60c5\u51b5\u7684\u5224\u65ad\uff01\uff01\uff01 if errorInfo != \"\"{ return 0, MyError{time.Now(),errorInfo} }else{ return width * length, nil } } func main() { res ,err := getArea(-1,-2) if err != nil{ fmt.Printf(err.Error()) }else{ fmt.Println(\"\u9762\u79ef\u4e3a\uff1a\",res) } } // 2020-10-26 17:10:07.162722 +0800 CST m=+0.000098898 : \u957f\u5ea6\uff1a-2\uff0c\u5bbd\u5ea6\uff1a-1 \u5747\u4e3a\u8d1f\u6570\uff01","title":"3.1 error ***"},{"location":"%E5%9F%BA%E7%A1%80/4/#32-defer","text":"\u5173\u952e\u5b57defer\u7528\u4e8e\u5ef6\u8fdf\u4e00\u4e2a\u51fd\u6570\u6216\u8005\u65b9\u6cd5\uff08\u6216\u8005\u5f53\u524d\u6240\u521b\u5efa\u7684\u533f\u540d\u51fd\u6570\uff09\u7684\u6267\u884c\u3002 defer\u8bed\u53e5\u53ea\u80fd\u51fa\u73b0\u5728\u51fd\u6570\u6216\u65b9\u6cd5\u7684\u5185\u90e8\u3002 \u51fd\u6570\u4e2d\u4f7f\u7528defer \u5728\u51fd\u6570\u4e2d\u53ef\u4ee5\u6dfb\u52a0\u591a\u4e2adefer\u8bed\u53e5\u3002 \u5982\u679c\u6709\u5f88\u591a\u8c03\u7528defer\uff0c\u5f53\u51fd\u6570\u6267\u884c\u5230\u6700\u540e\u65f6\uff0c\u8fd9\u4e9bdefer\u8bed\u53e5\u4f1a\u6309\u7167\u9006\u5e8f\u6267\u884c\uff08\u62a5\u9519\u7684\u65f6\u5019\u4e5f\u4f1a\u6267\u884c\uff09\uff0c\u6700\u540e\u8be5\u51fd\u6570\u8fd4\u56de\u3002","title":"3.2 defer ***"},{"location":"%E5%9F%BA%E7%A1%80/4/#defer","text":"package main import \"fmt\" func main() { defer funcA() funcB() defer funcC() fmt.Println(\"main over\") } func funcA(){ fmt.Println(\"funcA...\") } func funcB(){ fmt.Println(\"funcB...\") } func funcC(){ fmt.Println(\"funcC...\") } /* funcB... main over funcC... funcA... */ defer\u8bed\u53e5\u7ecf\u5e38\u88ab\u7528\u4e8e\u5904\u7406\u6210\u5bf9\u7684\u64cd\u4f5c\uff0c\u5982\u6253\u5f00-\u5173\u95ed\u3001\u8fde\u63a5-\u65ad\u5f00\u8fde\u63a5\u3001\u52a0\u9501-\u91ca\u653e\u9501\u3002 \u7279\u522b\u662f\u5728\u6267\u884c\u6253\u5f00\u8d44\u6e90\u7684\u64cd\u4f5c\u65f6\uff0c\u9047\u5230\u9519\u8bef\u9700\u8981\u63d0\u524d\u8fd4\u56de\uff0c\u5728\u8fd4\u56de\u524d\u9700\u8981\u5173\u95ed\u76f8\u5e94\u7684\u8d44\u6e90\uff0c\u4e0d\u7136\u5f88\u5bb9\u6613\u9020\u6210\u8d44\u6e90\u6cc4\u9732\u7b49\u95ee\u9898\u3002 package main import \"fmt\" func main() { s1 := []int{77,88,99,400,234} getLargest(s1) } func finished(){ fmt.Println(\"\u7ed3\u675f\uff01\") } func getLargest(s []int){ // \u7528defer\u6302\u8d77\u6765 defer finished() fmt.Println(\"\u5f00\u59cb\u5bfb\u627e\u6700\u5927\u7684\u6570>>>\") max := 0 for _,v := range s{ if v > max{ max = v } } fmt.Printf(\"%v \u4e2d\u6700\u5927\u7684\u6570\u4e3a\uff1a%v \\n\",s,max) } /* \u5f00\u59cb\u5bfb\u627e\u6700\u5927\u7684\u6570>>> [77 88 99 400 234] \u4e2d\u6700\u5927\u7684\u6570\u4e3a\uff1a400 \u7ed3\u675f\uff01 */","title":"defer\u7684\u6267\u884c\u987a\u5e8f\u53ca\u6848\u4f8b"},{"location":"%E5%9F%BA%E7%A1%80/4/#defer_1","text":"\u5ef6\u8fdf\u5e76\u4e0d\u5c40\u9650\u4e8e\u51fd\u6570\uff0c\u5ef6\u8fdf\u4e00\u4e2a\u65b9\u6cd5\u8c03\u7528\u4e5f\u662f\u5b8c\u5168\u5408\u6cd5\u7684\u3002 package main import \"fmt\" type person struct { firstName, lastName string } func (p person) fullName(){ fmt.Printf(\"%s %s \\n\",p.firstName,p.lastName) } func main() { p := person{\"Steven\",\"Wang\"} // \u5ef6\u8fdf\u4e00\u4e2a\u65b9\u6cd5 defer p.fullName() fmt.Println(\"Welcome\uff01\uff01\uff01\") } /* Welcome\uff01\uff01\uff01 Steven Wang */","title":"\u65b9\u6cd5\u4e2d\u4f7f\u7528defer"},{"location":"%E5%9F%BA%E7%A1%80/4/#defer_2","text":"\u5ef6\u8fdf\u51fd\u6570\u7684\u53c2\u6570\u5728\u6267\u884c\u5ef6\u8fdf\u8bed\u53e5\u65f6\u88ab\u6267\u884c\uff0c\u800c\u4e0d\u662f\u5728\u6267\u884c\u5b9e\u9645\u7684\u51fd\u6570\u8c03\u7528\u65f6\u6267\u884c\u3002 package main import \"fmt\" func main() { a := 5 b := 6 defer printAdd(a, b, true) a = 10 b = 12 printAdd(a,b,false) } func printAdd(a, b int, flag bool){ if flag{ fmt.Printf(\"\u5ef6\u8fdf\u6267\u884c\u51fd\u6570printAdd()\uff0c\u53c2\u6570a,b\u5206\u522b\u4e3a\uff1a%d,%d \\n\",a,b) }else{ fmt.Printf(\"\u672a\u5ef6\u8fdf\u6267\u884c\u51fd\u6570printAdd()\uff0c\u53c2\u6570a,b\u4e3a\uff1a%d,%d \\n\",a,b) } } /* \u672a\u5ef6\u8fdf\u6267\u884c\u51fd\u6570printAdd()\uff0c\u53c2\u6570a,b\u4e3a\uff1a10,12 \u5ef6\u8fdf\u6267\u884c\u51fd\u6570printAdd()\uff0c\u53c2\u6570a,b\u5206\u522b\u4e3a\uff1a5,6 */","title":"defer\u53c2\u6570"},{"location":"%E5%9F%BA%E7%A1%80/4/#_10","text":"\u5f53\u4e00\u4e2a\u51fd\u6570\u6709\u591a\u4e2a\u5ef6\u8fdf\u8c03\u7528\u65f6\uff0c\u5b83\u4eec\u88ab\u6dfb\u52a0\u5230\u4e00\u4e2a\u5806\u6808\u4e2d\uff0c\u5e76\u6309 \u540e\u8fdb\u5148\u51fa \uff08Last InFirst Out\uff0cLIFO\uff09\u7684\u987a\u5e8f\u6267\u884c\u3002 package main import \"fmt\" func main() { str := \"\u6b22\u8fce\u5b66\u4e60Golang\u8bed\u8a00\uff01\" fmt.Printf(\"\u539f\u59cb\u5b57\u7b26\u4e32\uff1a%s \\n\",str) fmt.Printf(\"\u53cd\u8f6c\u540e\u5b57\u7b26\u4e32: \\n\") ReverseString(str) } func ReverseString(str string) { for _, v := range []rune(str){ defer fmt.Printf(\"%c\",v) } } /* \u539f\u59cb\u5b57\u7b26\u4e32\uff1a\u6b22\u8fce\u5b66\u4e60Golang\u8bed\u8a00\uff01 \u53cd\u8f6c\u540e\u5b57\u7b26\u4e32: \uff01\u8a00\u8bedgnaloG\u4e60\u5b66\u8fce\u6b22 */","title":"\u5806\u6808\u7684\u63a8\u8fdf"},{"location":"%E5%9F%BA%E7%A1%80/4/#defer_3","text":"","title":"defer\u7684\u6700\u4f73\u5b9e\u8df5"},{"location":"%E5%9F%BA%E7%A1%80/4/#83-panicrecover","text":"","title":"8.3 panic\u548crecover\u673a\u5236 ***"},{"location":"%E5%9F%BA%E7%A1%80/4/#panic","text":"Go\u8bed\u8a00\u8ffd\u6c42\u7b80\u6d01\u4f18\u96c5\uff0cGo\u6ca1\u6709\u50cfJava\u90a3\u6837\u7684try...catch...finally\u5f02\u5e38\u5904\u7406\u673a\u5236\u3002Go\u8bed\u8a00\u8bbe\u8ba1\u8005\u8ba4\u4e3a\uff0c\u5c06\u5f02\u5e38\u4e0e\u6d41\u7a0b\u63a7\u5236\u6df7\u5728\u4e00\u8d77\u4f1a\u8ba9\u4ee3\u7801\u53d8\u5f97\u6df7\u4e71\u3002 panic\uff0c\u8ba9\u5f53\u524d\u7684\u7a0b\u5e8f\u8fdb\u5165\u6050\u614c\uff0c\u4e2d\u65ad\u7a0b\u5e8f\u7684\u6267\u884c\u3002panic()\u662f\u4e00\u4e2a\u5185\u5efa\u51fd\u6570\uff0c\u53ef\u4ee5\u4e2d\u65ad\u539f\u6709\u7684\u63a7\u5236\u6d41\u7a0b\u3002 panic\u793a\u4f8b\u4e00 package main import \"fmt\" func TestA(){ fmt.Println(\"func TestA()\") } func TestB(){ panic(\"func TestB()\") } func TestC(){ fmt.Println(\"func TestC()\") } func main() { TestA() TestB() // TestB()\u53d1\u751f\u5f02\u5e38\uff0c\u4e2d\u65ad\u7a0b\u5e8f TestC() } /* func TestA() panic: func TestB() goroutine 1 [running]: main.TestB(...) /Users/wanghongwei/GoProject/Go\u8bed\u8a00\u5f00\u53d1\u5b9e\u6218/variable.go:10 main.main() /Users/wanghongwei/GoProject/Go\u8bed\u8a00\u5f00\u53d1\u5b9e\u6218/variable.go:18 +0x96 */ \u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u5411\u7a0b\u5e8f\u4f7f\u7528\u65b9\u62a5\u544a\u9519\u8bef\u72b6\u6001\u7684\u65b9\u5f0f\u53ef\u4ee5\u662f\u8fd4\u56de\u4e00\u4e2a\u989d\u5916\u7684error\u7c7b\u578b\u503c\u3002\u4f46\u662f\uff0c\u5f53\u9047\u5230\u4e0d\u53ef\u6062\u590d\u7684\u9519\u8bef\u72b6\u6001\u65f6\uff0c\u5982\u6570\u7ec4\u8bbf\u95ee\u8d8a\u754c\u3001\u7a7a\u6307\u9488\u5f15\u7528\u7b49\uff0c\u8fd9\u4e9b\u8fd0\u884c\u65f6\u9519\u8bef\u4f1a\u5f15\u8d77panic\u5f02\u5e38\u3002\u8fd9\u65f6\uff0c\u4e0a\u8ff0\u9519\u8bef\u5904\u7406\u65b9\u5f0f\u663e\u7136\u5c31\u4e0d\u9002\u5408\u4e86\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4e0d\u5e94\u901a\u8fc7\u8c03\u7528panic()\u51fd\u6570\u6765\u62a5\u544a\u666e\u901a\u7684\u9519\u8bef\uff0c\u800c\u5e94\u8be5\u53ea\u628a\u5b83\u4f5c\u4e3a\u62a5\u544a\u81f4\u547d\u9519\u8bef\u7684\u4e00\u79cd\u65b9\u5f0f\u3002\u5f53\u67d0\u4e9b\u4e0d\u5e94\u8be5\u53d1\u751f\u7684\u573a\u666f\u53d1\u751f\u65f6\u8c03\u7528panic()\u3002 panic\u793a\u4f8b\u4e8c\uff1a\u5185\u7f6e\u7684panic()\u51fd\u6570\u5f15\u53d1\u7684panic\u5f02\u5e38 package main import \"fmt\" func TestA(){ fmt.Println(\"func TestA()\") } func TestB(x int){ var a [100] int a[x] = 1000 // x\u503c\u4e3a101\u65f6\uff0c\u6570\u7ec4\u8d8a\u754c } func TestC(){ fmt.Println(\"func TestC()\") } func main() { TestA() TestB(101) // TestB()\u53d1\u751f\u5f02\u5e38\uff0c\u4e2d\u65ad\u7a0b\u5e8f TestC() } /* func TestA() panic: runtime error: index out of range [101] with length 100 goroutine 1 [running]: main.TestB(...) /Users/wanghongwei/GoProject/Go\u8bed\u8a00\u5f00\u53d1\u5b9e\u6218/variable.go:11 main.main() /Users/wanghongwei/GoProject/Go\u8bed\u8a00\u5f00\u53d1\u5b9e\u6218/variable.go:19 +0x85 */","title":"panic"},{"location":"%E5%9F%BA%E7%A1%80/4/#recover","text":"panic\u5f02\u5e38\u4e00\u65e6\u88ab\u5f15\u53d1\u5c31\u4f1a\u5bfc\u81f4\u7a0b\u5e8f\u5d29\u6e83\u3002\u8fd9\u5f53\u7136\u4e0d\u662f\u7a0b\u5e8f\u5458\u613f\u610f\u770b\u5230\u7684\uff0c\u4f46\u8c01\u4e5f\u4e0d\u80fd\u4fdd\u8bc1\u7a0b\u5e8f\u4e0d\u4f1a\u53d1\u751f\u4efb\u4f55\u8fd0\u884c\u65f6\u9519\u8bef\u3002\u4e0d\u8fc7\uff0cGo\u8bed\u8a00\u4e3a\u5f00\u53d1\u8005\u63d0\u4f9b\u4e86\u4e13\u7528\u4e8e\u201c\u62e6\u622a\u201d\u8fd0\u884c\u65f6panic\u7684\u5185\u5efa\u51fd\u6570recover()\u3002 recover()\u53ef\u4ee5\u8ba9\u8fdb\u5165\u6050\u614c\u6d41\u7a0b\u7684Goroutine\uff08\u53ef\u5f53\u4f5c\u7ebf\u7a0b\u7406\u89e3\uff0c\u540e\u7eed\u7ae0\u8282\u4f1a\u8be6\u7ec6\u8bb2\u89e3\uff09\u6062\u590d\u8fc7\u6765\u5e76\u91cd\u65b0\u83b7\u5f97\u6d41\u7a0b\u63a7\u5236\u6743\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0crecover()\u8ba9\u7a0b\u5e8f\u6062\u590d\uff0c\u5fc5\u987b\u5728\u5ef6\u8fdf\u51fd\u6570\u4e2d\u6267\u884c\u3002\u6362\u8a00\u4e4b\uff0crecover()\u4ec5\u5728\u5ef6\u8fdf\u51fd\u6570\u4e2d\u6709\u6548\u3002 \u5728\u6b63\u5e38\u7684\u7a0b\u5e8f\u8fd0\u884c\u8fc7\u7a0b\u4e2d\uff0c\u8c03\u7528 recover()\u4f1a\u8fd4\u56de nil\uff0c\u5e76\u4e14\u6ca1\u6709\u5176\u4ed6\u4efb\u4f55\u6548\u679c\u3002\u5982\u679c\u5f53\u524d\u7684Goroutine\u9677\u5165\u6050\u614c\uff0c\u8c03\u7528recover()\u53ef\u4ee5\u6355\u83b7panic()\u7684\u8f93\u5165\u503c\uff0c\u4f7f\u7a0b\u5e8f\u6062\u590d\u6b63\u5e38\u8fd0\u884c\u3002","title":"recover"},{"location":"%E5%9F%BA%E7%A1%80/4/#defer-recover","text":"package main import \"fmt\" func main() { funcA() funcB() funcC() fmt.Println(\"main over...\") } func funcA(){ fmt.Println(\"\u8fd9\u662ffuncA...\") } func funcB(){ // defer \u4e00\u4e2a \u533f\u540d\u51fd\u6570 defer func(){ if msg := recover();msg != nil{ fmt.Println(\"\u6062\u590d\u5566\uff01\u83b7\u53d6recover\u7684\u8fd4\u56de\u503c\uff1a\",msg) } }() fmt.Println(\"\u8fd9\u662ffuncB...\") for i := 0; i < 10; i++{ fmt.Println(\"i:\",i) if i == 5{ panic(\"funcB\u6050\u614c\u5566\uff01\uff01\uff01\") } } } func funcC(){ // defer \u4e00\u4e2a \u533f\u540d\u51fd\u6570 defer func(){ fmt.Println(\"\u6267\u884c\u5ef6\u8fdf\u51fd\u6570...\") msg := recover() fmt.Println(\"\u83b7\u53d6recover\u7684\u8fd4\u56de\u503c\uff1a\",msg) }() fmt.Println(\"\u8fd9\u662ffuncC...\") panic(\"funcC\u6050\u614c\u4e86\uff01\") } /* \u8fd9\u662ffuncA... \u8fd9\u662ffuncB... i: 0 i: 1 i: 2 i: 3 i: 4 i: 5 \u6062\u590d\u5566\uff01\u83b7\u53d6recover\u7684\u8fd4\u56de\u503c\uff1a funcB\u6050\u614c\u5566\uff01\uff01\uff01 \u8fd9\u662ffuncC... \u6267\u884c\u5ef6\u8fdf\u51fd\u6570... \u83b7\u53d6recover\u7684\u8fd4\u56de\u503c\uff1a funcC\u6050\u614c\u4e86\uff01 main over... */","title":"defer + recover\u5904\u7406\u9519\u8bef"},{"location":"%E5%9F%BA%E7%A1%80/5/","text":"7 Go\u8bed\u8a00\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b * 7.1 Go\u8bed\u8a00\u9762\u5411\u5bf9\u8c61 \u5176\u4ed6\u7f16\u7a0b\u8bed\u8a00\u5927\u591a\u4f7f\u7528\u5173\u952e\u5b57\u201c\u7c7b\u201d\uff08class\uff09\u6765\u5b9a\u4e49\u5c01\u88c5\u5bf9\u8c61\uff0c\u8868\u793a\u8be5\u7c7b\u7684\u5177\u4f53\u7279\u5f81\uff0c\u7136\u800cGo\u5e76\u4e0d\u662f\u4e00\u4e2a\u7eaf\u9762\u5411\u5bf9\u8c61\u7684\u7f16\u7a0b\u8bed\u8a00\u3002Go\u8bed\u8a00\u91c7\u7528\u66f4\u7075\u6d3b\u7684\u201c\u7ed3\u6784\u4f53\u201d\u66ff\u4ee3\u4e86\u201c\u7c7b\u201d\u3002 Go\u8bed\u8a00\u5e76\u6ca1\u6709\u63d0\u4f9b\u7c7b\uff08class\uff09\uff0c\u4f46\u662f\u5b83\u63d0\u4f9b\u4e86\u7ed3\u6784\u4f53\uff08struct\uff09\uff0c\u65b9\u6cd5\uff08method\uff09\u53ef\u4ee5\u5728\u7ed3\u6784\u4f53\u4e0a\u6dfb\u52a0\u3002\u4e0e\u7c7b\u76f8\u4f3c\uff0c\u7ed3\u6784\u4f53\u63d0\u4f9b\u4e86\u6346\u7ed1\u6570\u636e\u548c\u65b9\u6cd5\u7684\u884c\u4e3a\u3002 Go\u8bed\u8a00\u8bbe\u8ba1\u5f97\u975e\u5e38\u7b80\u6d01\u4f18\u96c5\uff0c\u5b83\u6ca1\u6709\u6cbf\u88ad\u4f20\u7edf\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u4e2d\u7684\u8bf8\u591a\u6982\u5ff5\uff0c\u6bd4\u5982\u7ee7\u627f\u3001\u865a\u65b9\u6cd5\u3001\u6784\u9020\u65b9\u6cd5\u548c\u6790\u6784\u65b9\u6cd5\u7b49\u3002 \u867d\u7136Go\u8bed\u8a00\u6ca1\u6709\u7ee7\u627f\u548c\u591a\u6001\uff0c\u4f46\u662fGo\u8bed\u8a00\u53ef\u4ee5\u901a\u8fc7\u533f\u540d\u5b57\u6bb5\u5b9e\u73b0\u7ee7\u627f\uff0c\u901a\u8fc7\u63a5\u53e3\u5b9e\u73b0\u591a\u6001\u3002 \u5728Go\u8bed\u8a00\u4e2d\u5b66\u4e60\u9762\u5411\u5bf9\u8c61\uff0c\u4e3b\u8981\u5b66\u4e60\u7ed3\u6784\u4f53\uff08struct\uff09\u3001\u65b9\u6cd5\uff08method\uff09\u3001\u63a5\u53e3\uff08interface\uff09\u3002 7.2 \u7ed3\u6784\u4f53 *** \u5355\u4e00\u7684\u6570\u636e\u7c7b\u578b\u5df2\u7ecf\u6ee1\u8db3\u4e0d\u4e86\u73b0\u5b9e\u5f00\u53d1\u9700\u6c42\uff0c\u4e8e\u662f Go \u8bed\u8a00\u63d0\u4f9b\u4e86\u7ed3\u6784\u4f53\u6765\u5b9a\u4e49\u590d\u6742\u7684\u6570\u636e\u7c7b\u578b\u3002\u7ed3\u6784\u4f53\u662f\u7531\u4e00\u7cfb\u5217\u76f8\u540c\u7c7b\u578b\u6216\u4e0d\u540c\u7c7b\u578b\u7684\u6570\u636e\u6784\u6210\u7684\u6570\u636e\u96c6\u5408\u3002 \u7ed3\u6784\u4f53\u7684\u9876\u5b9a\u4e49\u683c\u5f0f\uff1a type \u7c7b\u578b\u540d struct{ \u6210\u5458\u5c5e\u60271 \u7c7b\u578b1 \u6210\u5458\u5c5e\u60272 \u7c7b\u578b2 \u6210\u5458\u5c5e\u60273,\u6210\u5458\u5c5e\u60274 \u7c7b\u578b3 ... } \u5728\u4f7f\u7528\u7ed3\u6784\u4f53\u7684\u8fc7\u7a0b\u4e2d\u6ce8\u610f\u4ee5\u4e0b3\u70b9: \u7c7b\u578b\u540d\u662f\u6807\u8bc6\u7ed3\u6784\u4f53\u7684\u540d\u79f0\uff0c\u5728\u540c\u4e00\u4e2a\u5305\u5185\u4e0d\u80fd\u91cd\u590d\u3002 \u7ed3\u6784\u4f53\u7684\u5c5e\u6027\uff0c\u4e5f\u53eb\u5b57\u6bb5\uff0c\u5fc5\u987b\u552f\u4e00\u3002 \u540c\u7c7b\u578b\u7684\u6210\u5458\u5c5e\u6027\u53ef\u4ee5\u5199\u5728\u4e00\u884c\u3002 \u7ed3\u6784\u4f53\u7684\u521d\u59cb\u5316 \u7ed3\u6784\u4f53\u7684\u5b9a\u4e49\u53ea\u662f\u4e00\u79cd\u5185\u5b58\u5e03\u5c40\u7684\u63cf\u8ff0\uff0c\u53ea\u6709\u5f53\u7ed3\u6784\u4f53\u5b9e\u4f8b\u5316\u65f6\uff0c\u624d\u4f1a\u771f\u6b63\u5206\u914d\u5185\u5b58\u3002\u56e0\u6b64\u53ea\u6709\u5728\u5b9a\u4e49\u7ed3\u6784\u4f53\u5e76\u5b9e\u4f8b\u5316\u540e\u624d\u80fd\u4f7f\u7528\u7ed3\u6784\u4f53\u3002 \u5b9e\u4f8b\u5316\u5c31\u662f\u6839\u636e\u7ed3\u6784\u4f53\u5b9a\u4e49\u7684\u683c\u5f0f\u521b\u5efa\u4e00\u4efd\u4e0e\u683c\u5f0f\u4e00\u81f4\u7684\u5185\u5b58\u533a\u57df\u3002\u7ed3\u6784\u4f53\u6bcf\u4e2a\u5b9e\u4f8b\u7684\u5185\u5b58\u662f\u5b8c\u5168\u72ec\u7acb\u7684\u3002 package main import \"fmt\" // \u5b9a\u4e49Teacher\u7ed3\u6784\u4f53 type Teacher struct{ name string age int8 sex byte } func main() { // 1. var \u58f0\u660e\u65b9\u5f0f\u5b9e\u4f8b\u5316\u7ed3\u6784\u4f53\uff0c\u521d\u59cb\u5316\u65b9\u5f0f\u4e3a\uff1a\u5bf9\u8c61.\u5c5e\u6027=\u503c var t1 Teacher fmt.Printf(\"t1>>>%T, %v, %q \\n\",t1, t1, t1)//main.Teacher, { 0 0}, {\"\" '\\x00' '\\x00'} t1.name = \"wanghw\" t1.age = 28 t1.sex = 'M' fmt.Printf(\"t1>>>%T, %v, %q \\n\",t1, t1, t1)//main.Teacher, {wanghw 28 77}, {\"wanghw\" '\\x1c' 'M'} // 2. \u53d8\u91cf\u7b80\u77ed\u58f0\u660e\u683c\u5f0f\u5b9e\u4f8b\u5316\u7ed3\u6784\u4f53\uff0c\u521d\u59cb\u5316\u65b9\u5f0f\u4e3a\uff1a\u5bf9\u8c61.\u5c5e\u6027=\u503c t2 := Teacher{} t2.name = \"Naruto\" t2.age = 22 t2.sex = 'M' fmt.Printf(\"t2>>>%T, %v, %q \\n\",t2, t2, t2)//main.Teacher, {Naruto 22 77}, {\"Naruto\" '\\x16' 'M'} // 3. \u53d8\u91cf\u7b80\u77ed\u58f0\u660e\u683c\u5f0f\u5b9e\u4f8b\u5316\u7ed3\u6784\u4f53\uff0c\u58f0\u660e\u65f6\u521d\u59cb\u5316\uff0c\u521d\u59cb\u5316\u65b9\u5f0f\u4e3a\uff1a\u5c5e\u6027:\u503c\uff0c\u5c5e\u6027:\u503c\u53ef\u4ee5\u540c\u884c\uff0c\u4e5f\u53ef\u4ee5\u6362\u884c\uff08\u7c7b\u4f3cmap\u7684\u7528\u6cd5\uff09 t3 := Teacher{ name: \"Sasuke\", age: 23, sex: 'M', } fmt.Printf(\"t3>>>%T, %v, %q \\n\",t3, t3, t3)//main.Teacher, {Sasuke 23 77}, {\"Sasuke\" '\\x17' 'M'} } \u4f7f\u7528new()\u521d\u59cb\u5316\u7ed3\u6784\u4f53\u4e0e\u7ed3\u6784\u4f53\u3001\u6570\u7ec4\u3001\u5207\u7247\u4e2d\u7684\u8bed\u6cd5\u7cd6 \u8bed\u6cd5\u7cd6\uff08Syntactic Sugar\uff09\uff0c\u4e5f\u8bd1\u4e3a\u7cd6\u8863\u8bed\u6cd5\uff0c\u662f\u7531\u82f1\u56fd\u8ba1\u7b97\u673a\u79d1\u5b66\u5bb6\u5f7c\u5f97\u00b7\u7ea6\u7ff0\u00b7\u5170\u8fbe\uff08Peter J. Landin\uff09\u53d1\u660e\u7684\u4e00\u4e2a\u672f\u8bed\uff0c\u6307\u8ba1\u7b97\u673a\u8bed\u8a00\u4e2d\u6dfb\u52a0\u7684\u67d0\u79cd\u8bed\u6cd5\uff0c\u8fd9\u79cd\u8bed\u6cd5\u5bf9\u8bed\u8a00\u7684\u529f\u80fd\u5e76\u6ca1\u6709\u5f71\u54cd\uff0c\u4f46\u662f\u66f4\u65b9\u4fbf\u7a0b\u5e8f\u5458\u4f7f\u7528\u3002 \u901a\u5e38\u6765\u8bf4\u4f7f\u7528\u8bed\u6cd5\u7cd6\u80fd\u591f\u63d0\u5347\u7a0b\u5e8f\u7684\u53ef\u8bfb\u6027\uff0c\u4ece\u800c\u51cf\u5c11\u7a0b\u5e8f\u4ee3\u7801\u51fa\u9519\u7684\u673a\u4f1a\u3002\u7ed3\u6784\u4f53\u548c\u6570\u7ec4\u4e2d\u90fd\u6709\u8bed\u6cd5\u7cd6\u3002 \u4f7f\u7528\u5185\u7f6e\u51fd\u6570new()\u5bf9\u7ed3\u6784\u4f53\u8fdb\u884c\u5b9e\u4f8b\u5316\uff0c\u7ed3\u6784\u4f53\u5b9e\u4f8b\u5316\u540e\u5f62\u6210\u6307\u9488\u7c7b\u578b\u7684\u7ed3\u6784\u4f53\uff0cnew()\u5185\u7f6e\u51fd\u6570\u4f1a\u5206\u914d\u5185\u5b58\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u7c7b\u578b\uff0c\u800c\u4e0d\u662f\u503c\uff0c\u8fd4\u56de\u7684\u503c\u662f\u6307\u5411\u8be5\u7c7b\u578b\u65b0\u5206\u914d\u7684\u96f6\u503c\u7684\u6307\u9488\u3002\u8be5\u51fd\u6570\u7528\u4e8e\u521b\u5efa\u67d0\u4e2a\u7c7b\u578b\u7684\u6307\u9488\u3002 package main import \"fmt\" // \u5b9a\u4e49Teacher\u7ed3\u6784\u4f53 type Teacher struct{ name string age int8 sex byte } func main() { // \u4f7f\u7528new()\u5185\u7f6e\u51fd\u6570\u5b9e\u4f8b\u5316struct t1 := new(Teacher) fmt.Printf(\"t1>>>%T, %v, %q \\n\",t1, t1, t1)//*main.Teacher, &{ 0 0}, &{\"\" '\\x00' '\\x00'} (*t1).name = \"wanghhonwei\" (*t1).age = 22 (*t1).sex = 'M' fmt.Printf(\"t1>>>%T, %v, %q \\n\",t1, t1, t1)//*main.Teacher, &{wanghhonwei 22 77}, &{\"wanghhonwei\" '\\x16' 'M'} // \u8bed\u6cd5\u7cd6\u5199\u6cd5 t1.name = \"Naruto\" t1.age = 28 t1.sex = 'M' fmt.Println(t1)//&{Naruto 28 77} // \u6570\u7ec4\u4e0e\u5207\u7247\u4e2d\u7684\u8bed\u6cd5\u7cd6 SyntacticSugar() } func SyntacticSugar(){ // \u6570\u7ec4\u4e2d\u7684\u8bed\u6cd5\u7cd6 arr := [4]int{12,13,14,15} arr2 := &arr fmt.Println((*arr2)[len(arr)-1]) // 15 fmt.Println(arr2[0])//12 // \u5207\u7247\u4e2d\u7684\u8bed\u6cd5\u7cd6 arr3 := []int{100,200,300,400} arr4 := &arr3 fmt.Println((*arr4)[len(arr)-1]) // 400 } \u7ed3\u6784\u4f53\u662f\u503c\u7c7b\u578b \u7ed3\u6784\u4f53\u4f5c\u4e3a\u51fd\u6570\u53c2\u6570\uff0c\u82e5\u590d\u5236\u4e00\u4efd\u4f20\u9012\u5230\u51fd\u6570\u4e2d\uff0c\u5728\u51fd\u6570\u4e2d\u5bf9\u53c2\u6570\u8fdb\u884c\u4fee\u6539\uff0c\u4e0d\u4f1a\u5f71\u54cd\u5230\u5b9e\u9645\u53c2\u6570\uff0c\u8bc1\u660e\u7ed3\u6784\u4f53\u662f\u503c\u7c7b\u578b\u3002 package main import \"fmt\" // \u5b9a\u4e49Teacher\u7ed3\u6784\u4f53 type Teacher struct{ name string age int8 sex byte } func main() { // 1\u3001\u521d\u59cb\u5316Teacher t1 := Teacher{\"wanghw\",22,'M'} fmt.Printf(\"t1:%T, %v, %p \\n\",t1, t1, &t1)//main.Teacher, {wanghw 22 77}, 0xc00005c420 // 2.\u590d\u5236\u7ed3\u6784\u4f53\u5bf9\u8c61 t2 := t1 t2.name = \"David\" t2.age = 21 t2.sex = 'M' fmt.Printf(\"t2:%T, %v, %p \\n\",t2, t2, &t2)//main.Teacher, {David 21 77}, 0xc00005a4a0 // 3.\u7ed3\u6784\u4f53\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\uff0c\u4fee\u6539t2\u7684name \u2014\u2014\u2014\u2014 \u5b9e\u9645\u4e0a\u4e0d\u4f1a\u6539\u53d8t2\u7684name\u7684\u503c\uff01 changeName(t2) // \u518d\u6253\u5370\u4e00\u4e0bt1 \u4e0et2 fmt.Printf(\"t1:%T, %v, %p \\n\",t1, t1, &t1)//main.Teacher, {wanghw 22 77}, 0xc00005a420 fmt.Printf(\"t2:%T, %v, %p \\n\",t2, t2, &t2)//main.Teacher, {David 21 77}, 0xc00005a4a0 } func changeName(t Teacher){ t.name = \"Sasuke\" fmt.Printf(\"\u5728changeName\u51fd\u6570\u5185\u90e8\u7684t:%T, %v, %p \\n\",t, t, &t)//main.Teacher, {Sasuke 21 77}, 0xc00005a500 } \u7ed3\u6784\u4f53\u7684\u6df1\u62f7\u8d1d\u4e0e\u6d45\u62f7\u8d1d \u503c\u7c7b\u578b\u662f\u6df1\u62f7\u8d1d\uff0c\u6df1\u62f7\u8d1d\u5c31\u662f\u4e3a\u65b0\u7684\u5bf9\u8c61\u5206\u914d\u4e86\u5185\u5b58\u3002\u5f15\u7528\u7c7b\u578b\u662f\u6d45\u62f7\u8d1d\uff0c\u6d45\u62f7\u8d1d\u53ea\u662f\u590d\u5236\u4e86\u5bf9\u8c61\u7684\u6307\u9488\u3002 \u7ed3\u6784\u4f53\u7684\u62f7\u8d1d\u5b9e\u4f8b\uff1a package main import \"fmt\" // \u5b9a\u4e49Teacher\u7ed3\u6784\u4f53 type Dog struct { name string color string age int8 kind string } func main() { //1 \u5b9e\u73b0\u7ed3\u6784\u4f53\u6df1\u62f7\u8d1d //struct \u662f\u503c\u7c7b\u578b\uff0c\u9ed8\u8ba4\u590d\u5236\u5c31\u662f\u6df1\u62f7\u8d1d fmt.Println(\"\u7ed3\u6784\u4f53\u7684\u6df1\u62f7\u8d1d\uff1a\") d1 := Dog{\"\u8c46\u8c46\",\"black\",2,\"\u4e8c\u54c8\"} fmt.Printf(\"d1:%T, %v, %p \\n\",d1, d1, &d1)//main.Dog, {\u8c46\u8c46 black 2 \u4e8c\u54c8}, 0xc00001c180 d2 := d1 // \u6df1\u62f7\u8d1d fmt.Printf(\"d2:%T, %v, %p \\n\",d2, d2, &d2)//main.Dog, {\u8c46\u8c46 black 2 \u4e8c\u54c8}, 0xc00001c240 d2.name = \"\u6bdb\u6bdb\" fmt.Printf(\"d2\u4fee\u6539\u540e:%T, %v, %p \\n\",d2, d2, &d2)//main.Dog, {\u6bdb\u6bdb black 2 \u4e8c\u54c8}, 0xc00001c240 fmt.Printf(\"d1:%T, %v, %p \\n\",d1, d1, &d1)//main.Dog, {\u8c46\u8c46 black 2 \u4e8c\u54c8}, 0xc00001c180 //2 \u5b9e\u73b0\u7ed3\u6784\u4f53\u7684\u6d45\u62f7\u8d1d\uff081\uff09:\u76f4\u63a5\u8d4b\u503c\u6307\u9488\u5730\u5740 fmt.Println(\"\u7ed3\u6784\u4f53\u7684\u6d45\u62f7\u8d1d\uff081\uff09\uff1a\") d3 := &d1 fmt.Printf(\"d3:%T, %v, %p \\n\",d3, d3, &d3)//*main.Dog, &{\u8c46\u8c46 black 2 \u4e8c\u54c8}, 0xc000006030 d3.name = \"\u7403\u7403\" d3.age = 1 d3.color = \"white\" d3.kind = \"\u8428\u6469\u8036\" fmt.Printf(\"d3\u4fee\u6539\u540e:%T, %v, %p \\n\",d3, d3, &d3)//\u4fee\u6539\u540e:*main.Dog, &{\u7403\u7403 white 1 \u8428\u6469\u8036}, 0xc000006030 fmt.Printf(\"d1:%T, %v, %p \\n\",d1, d1, &d1)//main.Dog, {\u7403\u7403 white 1 \u8428\u6469\u8036}, 0xc00001c180 //3 \u5b9e\u73b0\u7ed3\u6784\u4f53\u7684\u6d45\u62f7\u8d1d\uff082\uff09:\u901a\u8fc7new()\u51fd\u6570\u6765\u5b9e\u4f8b\u5316\u5bf9\u8c61 fmt.Println(\"\u7ed3\u6784\u4f53\u7684\u6d45\u62f7\u8d1d\uff082\uff09\uff1a\") d4 := new(Dog) d4.name = \"\u591a\u591a\" d4.age = 1 d4.color = \"white\" d4.kind = \"\u4e8c\u54c8\" d5 := d4 fmt.Printf(\"d4:%T, %v, %p \\n\",d4, d4, &d4)//*main.Dog, &{\u591a\u591a white 1 \u4e8c\u54c8}, 0xc000006038 fmt.Printf(\"d5:%T, %v, %p \\n\",d5, d5, &d5)//*main.Dog, &{\u591a\u591a white 1 \u4e8c\u54c8}, 0xc000006040 // \u4fee\u6539d5 d5.name = \"\u563b\u563b\" d5.color = \"black\" fmt.Printf(\"d5\u4fee\u6539\u540e:%T, %v, %p \\n\",d5, d5, &d5)//*main.Dog, &{\u563b\u563b black 1 \u4e8c\u54c8}, 0xc000006040 fmt.Printf(\"d4:%T, %v, %p \\n\",d4, d4, &d4)//*main.Dog, &{\u563b\u563b black 1 \u4e8c\u54c8}, 0xc000006038 } \u7ed3\u6784\u4f53\u4f5c\u4e3a\u51fd\u6570\u7684\u53c2\u6570\u53ca\u8fd4\u56de\u503c \u7ed3\u6784\u4f53\u4f5c\u4e3a\u51fd\u6570\u7684\u53c2\u6570\u53ca\u8fd4\u56de\u503c\u6709\u4e24\u79cd\u5f62\u5f0f\uff1a\u503c\u4f20\u9012\u548c\u5f15\u7528\u4f20\u9012\uff1a package main import \"fmt\" type Flower struct{ name, color string } func main(){ // 1. \u7ed3\u6784\u4f53\u4f5c\u4e3a\u53c2\u6570\u7684\u7528\u6cd5 f1 := Flower{\"\u73ab\u7470\",\"\u7ea2\"} fmt.Printf(\"f1: %T, %v, %p \\n\", f1, f1, &f1) fmt.Println(\"-----------------------\") // \u5c06\u7ed3\u6784\u4f53\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570 changeInfo1(f1) fmt.Printf(\"f1: %T, %v, %p \\n\", f1, f1, &f1) fmt.Println(\"-----------------------\") // \u5c06\u7ed3\u6784\u4f53\u6307\u9488\u4f5c\u4e3a\u53c2\u6570 changeInfo2(&f1) fmt.Printf(\"f1: %T, %v, %p \\n\", f1, f1, &f1) fmt.Println(\"-----------------------\") // 2. \u7ed3\u6784\u4f53\u4f5c\u4e3a\u8fd4\u56de\u503c\u7684\u7528\u6cd5 // \u7ed3\u6784\u4f53\u5bf9\u8c61\u4f5c\u4e3a\u8fd4\u56de\u503c f2 := getFlower1() f3 := getFlower1() fmt.Println(\"\u66f4\u6539\u524d\uff1a\",f2, f3) fmt.Printf(\"f2\u5730\u5740\u4e3a\uff1a%p\uff0cf3\u5730\u5740\u4e3a%p\\n\",&f2,&f3) // \u5730\u5740\u53d1\u751f\u53d8\u5316\uff0c\u5bf9\u8c61\u53d1\u751f\u4e86\u590d\u5236 f2.name = \"\u674f\u82b1\" fmt.Println(\"\u66f4\u6539\u540e\uff1a\",f2, f3) // \u7ed3\u6784\u4f53\u6307\u9488\u4f5c\u4e3a\u8fd4\u56de\u503c f4 := getFlower2() f5 := getFlower2() fmt.Println(\"\u66f4\u6539\u524d\uff1a\",f4, f5) f4.name = \"\u6843\u82b1\" fmt.Println(\"\u66f4\u6539\u540e\uff1a\",f4, f5) } // \u8fd4\u56de\u7ed3\u6784\u4f53\u5bf9\u8c61 func getFlower1()(f Flower){ f = Flower{\"\u7261\u4e39\",\"\u767d\"} fmt.Printf(\"\u51fd\u6570 getFlower1\u5185f\uff1a%T, %v, %p \\n\", f, f, &f) return } // \u8fd4\u56de\u7ed3\u6784\u4f53\u6307\u9488 func getFlower2()(f *Flower){ //f = &Flower{\"\u8299\u84c9\",\"\u7ea2\"} temp := Flower{\"\u8299\u84c9\",\"\u7ea2\"} fmt.Printf(\"\u51fd\u6570 getFlower2\u5185temp\uff1a%T, %v, %p \\n\", temp, temp, &temp) f = &temp fmt.Printf(\"\u51fd\u6570 getFlower2\u5185f\uff1a%T, %v, %p \\n\", f, f, &f) return } // \u4f20\u7ed3\u6784\u4f53\u5bf9\u8c61 func changeInfo1(f Flower){ f.name = \"\u6708\u5b63\" f.color = \"\u7c89\" fmt.Printf(\"\u51fd\u6570 changeInfo1\u5185f\uff1a%T, %v, %p \\n\", f, f, &f) } // \u4f20\u7ed3\u6784\u4f53\u6307\u9488 func changeInfo2(f *Flower){ f.name = \"\u8537\u8587\" f.color = \"\u7d2b\" fmt.Printf(\"\u51fd\u6570 changeInfo2\u5185f\uff1a%T, %v, %p \\n\", f, f, &f) } /* f1: main.Flower, {\u73ab\u7470 \u7ea2}, 0xc00005a420 ----------------------- \u51fd\u6570 changeInfo1\u5185f\uff1amain.Flower, {\u6708\u5b63 \u7c89}, 0xc00005a4a0 f1: main.Flower, {\u73ab\u7470 \u7ea2}, 0xc00005a420 ----------------------- \u51fd\u6570 changeInfo2\u5185f\uff1a*main.Flower, &{\u8537\u8587 \u7d2b}, 0xc000090020 f1: main.Flower, {\u8537\u8587 \u7d2b}, 0xc00005a420 ----------------------- \u51fd\u6570 getFlower1\u5185f\uff1amain.Flower, {\u7261\u4e39 \u767d}, 0xc00005a5c0 \u51fd\u6570 getFlower1\u5185f\uff1amain.Flower, {\u7261\u4e39 \u767d}, 0xc00005a640 \u66f4\u6539\u524d\uff1a {\u7261\u4e39 \u767d} {\u7261\u4e39 \u767d} f2\u5730\u5740\u4e3a\uff1a0xc00005a5a0\uff0cf3\u5730\u5740\u4e3a0xc00005a620 \u66f4\u6539\u540e\uff1a {\u674f\u82b1 \u767d} {\u7261\u4e39 \u767d} \u51fd\u6570 getFlower2\u5185temp\uff1amain.Flower, {\u8299\u84c9 \u7ea2}, 0xc00005a720 \u51fd\u6570 getFlower2\u5185f\uff1a*main.Flower, &{\u8299\u84c9 \u7ea2}, 0xc000090028 \u51fd\u6570 getFlower2\u5185temp\uff1amain.Flower, {\u8299\u84c9 \u7ea2}, 0xc00005a7a0 \u51fd\u6570 getFlower2\u5185f\uff1a*main.Flower, &{\u8299\u84c9 \u7ea2}, 0xc000090030 \u66f4\u6539\u524d\uff1a &{\u8299\u84c9 \u7ea2} &{\u8299\u84c9 \u7ea2} \u66f4\u6539\u540e\uff1a &{\u6843\u82b1 \u7ea2} &{\u8299\u84c9 \u7ea2} */ \u533f\u540d\u7ed3\u6784\u4f53\u548c\u4e0e\u7ed3\u6784\u4f53\u7684\u533f\u540d\u5b57\u6bb5 1. \u533f\u540d\u7ed3\u6784\u4f53 \u533f\u540d\u7ed3\u6784\u4f53\u5c31\u662f\u6ca1\u6709\u540d\u5b57\u7684\u7ed3\u6784\u4f53\uff0c\u65e0\u987b\u901a\u8fc7type\u5173\u952e\u5b57\u5b9a\u4e49\u5c31\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u3002\u521b\u5efa\u533f\u540d\u7ed3\u6784\u4f53\u65f6\uff0c\u540c\u65f6\u8981\u521b\u5efa\u5bf9\u8c61\u3002 \u533f\u540d\u7ed3\u6784\u4f53\u7531\u7ed3\u6784\u4f53\u5b9a\u4e49\u548c\u952e\u503c\u5bf9\u521d\u59cb\u5316\u4e24\u90e8\u5206\u7ec4\u6210\uff1a \u53d8\u91cf\u540d := struct { // \u5b9a\u4e49\u6210\u5458\u5c5e\u6027 }{ // \u521d\u59cb\u5316\u6210\u5458\u5c5e\u6027 } package main import ( \"fmt\" \"math\" ) func main(){ // \u533f\u540d\u51fd\u6570 res := func(a, b float64) float64{ return math.Pow(a,b) }(2,4) fmt.Println(res) // \u533f\u540d\u7ed3\u6784\u4f53 addr := struct{ province, city string }{\"\u56db\u5ddd\u7701\",\"\u6210\u90fd\u5e02\"} fmt.Println(addr) cat := struct { name, color string age int8 }{name:\"\u82b1\u82b1\",color:\"black\",age:1} fmt.Println(cat) } /* 16 {\u56db\u5ddd\u7701 \u6210\u90fd\u5e02} {\u82b1\u82b1 black 1} */ 2. \u7ed3\u6784\u4f53\u7684\u533f\u540d\u5b57\u6bb5 \u533f\u540d\u5b57\u6bb5\u5c31\u662f\u5728\u7ed3\u6784\u4f53\u4e2d\u7684\u5b57\u6bb5\u6ca1\u6709\u540d\u5b57\uff0c\u53ea\u5305\u542b\u4e00\u4e2a\u6ca1\u6709\u5b57\u6bb5\u540d\u7684\u7c7b\u578b\u3002\u8fd9\u4e9b\u5b57\u6bb5\u88ab\u79f0\u4e3a\u533f\u540d\u5b57\u6bb5\u3002 \u5982\u679c\u5b57\u6bb5\u6ca1\u6709\u540d\u5b57\uff0c\u90a3\u4e48\u9ed8\u8ba4\u4f7f\u7528\u7c7b\u578b\u4f5c\u4e3a\u5b57\u6bb5\u540d\uff0c\u540c\u4e00\u4e2a\u7c7b\u578b\u53ea\u80fd\u6709\u4e00\u4e2a\u533f\u540d\u5b57\u6bb5\u3002\u7ed3\u6784\u4f53\u5d4c\u5957\u4e2d\u91c7\u7528\u533f\u540d\u7ed3\u6784\u4f53\u5b57\u6bb5\u53ef\u4ee5\u6a21\u62df\u7ee7\u627f\u5173\u7cfb\u3002 package main import \"fmt\" type User struct { string byte int8 float64 } func main(){ // \u5b9e\u4f8b\u5316\u7ed3\u6784\u4f53 user := User{\"Steven\",'M',35,178.2} fmt.Println(user) //\u4f9d\u6b21\u8f93\u51fa\u59d3\u540d\u3001\u6027\u522b\u3001\u5e74\u9f84\u3001\u8eab\u9ad8 fmt.Printf(\"\u59d3\u540d\uff1a%s \\n\",user.string) fmt.Printf(\"\u6027\u522b\uff1a%c \\n\",user.byte) fmt.Printf(\"\u5e74\u9f84\uff1a%d \\n\",user.int8) fmt.Printf(\"\u8eab\u9ad8\uff1a%.2f \\n\",user.float64) } /* {Steven 77 35 178.2} \u59d3\u540d\uff1aSteven \u6027\u522b\uff1aM \u5e74\u9f84\uff1a35 \u8eab\u9ad8\uff1a178.20 */ \u7ed3\u6784\u4f53\u5d4c\u5957 \u5c06\u4e00\u4e2a\u7ed3\u6784\u4f53\u4f5c\u4e3a\u53e6\u4e00\u4e2a\u7ed3\u6784\u4f53\u7684\u5c5e\u6027\uff08\u5b57\u6bb5\uff09\uff0c\u8fd9\u79cd\u7ed3\u6784\u5c31\u662f\u7ed3\u6784\u4f53\u5d4c\u5957\u3002 \u7ed3\u6784\u4f53\u5d4c\u5957\u53ef\u4ee5\u6a21\u62df\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u4e2d\u7684\u4ee5\u4e0b\u4e24\u79cd\u5173\u7cfb\uff1a \u805a\u5408\u5173\u7cfb\uff1a\u4e00\u4e2a\u7c7b\u4f5c\u4e3a\u53e6\u4e00\u4e2a\u7c7b\u7684\u5c5e\u6027\u3002 \u7ee7\u627f\u5173\u7cfb\uff1a\u4e00\u4e2a\u7c7b\u4f5c\u4e3a\u53e6\u4e00\u4e2a\u7c7b\u7684\u5b50\u7c7b\u3002\u5b50\u7c7b\u548c\u7236\u7c7b\u7684\u5173\u7cfb\u3002 \u805a\u5408\u5173\u7cfb package main import \"fmt\" type Address struct{ province, city string } type Person struct{ name string age int address *Address } func main() { // \u6a21\u62df\u7ed3\u6784\u4f53\u5bf9\u8c61\u4e4b\u95f4\u7684\u805a\u5408\u5173\u7cfb p := Person{} p.name = \"Wanghongwei\" p.age = 22 // \u8d4b\u503c\u65b9\u5f0f1 addr := Address{ \"Sichuan\",\"\u6210\u90fd\", } p.address = &addr fmt.Println(p) // {Wanghongwei 22 0xc00000c080} fmt.Println(\"\u59d3\u540d:\",p.name,\"\u5e74\u9f84:\",p.age,\"\u7701:\",p.address.province,\"\u5e02:\",p.address.city) // \u59d3\u540d: Wanghongwei \u5e74\u9f84: 22 \u7701: Sichuan \u5e02: \u6210\u90fd // \u4fee\u6539Person\u5bf9\u8c61\u7684\u6570\u636e\uff0c\u4f1a\u5f71\u54cdAddress\u7684\u6570\u636e\uff01\uff01\uff01 p.address.province = \"\u5185\u8499\u53e4\" p.address.city = \"\u5305\u5934\u5e02\" // Person\u7684\u6570\u636e fmt.Println(\"\u59d3\u540d:\",p.name,\"\u5e74\u9f84:\",p.age,\"\u7701:\",p.address.province,\"\u5e02:\",p.address.city) // Address\u7684\u6570\u636e fmt.Println(\"addr\u4e2d\u7684\u7701:\",addr.province,\"\u5e02:\",addr.city) //addr\u4e2d\u7684\u7701: \u5185\u8499\u53e4 \u5e02: \u5305\u5934\u5e02 // \u4fee\u6539Address\u4e2d\u7684\u6570\u636e\uff0c\u4e5f\u4f1a\u5f71\u54cdPerson\u4e2d\u7684\u6570\u636e\uff01\uff01\uff01 addr.province = \"\u5e7f\u4e1c\u7701\" addr.city = \"\u6df1\u5733\u5e02\" fmt.Println(\"\u59d3\u540d:\",p.name,\"\u5e74\u9f84:\",p.age,\"\u7701:\",p.address.province,\"\u5e02:\",p.address.city) // \u59d3\u540d: Wanghongwei \u5e74\u9f84: 22 \u7701: \u5e7f\u4e1c\u7701 \u5e02: \u6df1\u5733\u5e02 // \u8d4b\u503c\u65b9\u5f0f2 p.address = &Address{ province: \"\u9655\u897f\u7701\", city: \"\u897f\u5b89\u5e02\", } fmt.Println(p)//{Wanghongwei 22 0xc0000a6060} fmt.Println(\"\u59d3\u540d:\",p.name,\"\u5e74\u9f84:\",p.age,\"\u7701:\",p.address.province,\"\u5e02:\",p.address.city) // \u59d3\u540d: Wanghongwei \u5e74\u9f84: 22 \u7701: \u9655\u897f\u7701 \u5e02: \u897f\u5b89\u5e02 } \u7ee7\u627f\u5173\u7cfb \u7ee7\u627f\u662f\u4f20\u7edf\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u4e09\u5927\u7279\u5f81\u4e4b\u4e00\uff0c\u7528\u4e8e\u63cf\u8ff0\u4e24\u4e2a\u7c7b\u4e4b\u95f4\u7684\u5173\u7cfb\u3002\u4e00\u4e2a\u7c7b\uff08\u5b50\u7c7b\u3001\u6d3e\u751f\u7c7b\uff09\u7ee7\u627f\u81ea\u53e6\u4e00\u4e2a\u7c7b\uff08\u7236\u7c7b\u3001\u8d85\u7c7b\uff09\u3002 \u5b50\u7c7b\u53ef\u4ee5\u6709\u81ea\u5df1\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u4e5f\u53ef\u4ee5\u91cd\u5199\u7236\u7c7b\u5df2\u6709\u7684\u65b9\u6cd5\u3002\u5b50\u7c7b\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\u7236\u7c7b\u6240\u6709\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 \u5728\u7ed3\u6784\u4f53\u4e2d\uff0c\u5c5e\u4e8e\u533f\u540d\u7ed3\u6784\u4f53\u7684\u5b57\u6bb5\u79f0\u4e3a\u63d0\u5347\u5b57\u6bb5\uff0c\u5b83\u4eec\u53ef\u4ee5\u88ab\u8bbf\u95ee\uff0c\u533f\u540d\u7ed3\u6784\u4f53\u5c31\u50cf\u662f\u8be5\u7ed3\u6784\u4f53\u7684\u7236\u7c7b\u3002 \u91c7\u7528\u533f\u540d\u5b57\u6bb5\u7684\u5f62\u5f0f\u5c31\u662f\u6a21\u62df\u7ee7\u627f\u5173\u7cfb\u3002\u800c\u6a21\u62df\u805a\u5408\u5173\u7cfb\u65f6\u4e00\u5b9a\u8981\u91c7\u7528\u6709\u540d\u5b57\u7684\u7ed3\u6784\u4f53\u4f5c\u4e3a\u5b57\u6bb5\u3002 \u63a5\u4e0b\u6765\u901a\u8fc7\u4e00\u4e2a\u6848\u4f8b\u6765\u7528\u7ed3\u6784\u4f53\u6a21\u62df\u7ee7\u627f\u5173\u7cfb\uff1a package main import \"fmt\" type Person struct { name,gender string age int } type Student struct{ Person schoolName string } func main(){ // 1. \u5b9e\u4f8b\u5316\u5e76\u521d\u59cb\u5316Person p1 := Person{\"WangHongWei\",\"Male\",22} fmt.Println(p1) //{WangHongWei Male 22} // 2. \u5b9e\u529b\u8bdd\u5e76\u521d\u59cb\u5316Student // \u5199\u6cd51\uff1a s1 := Student{p1,\"\u897f\u5357\u4ea4\u901a\u5927\u5b66\"} printInfo(s1) /* {{WangHongWei Male 22} \u897f\u5357\u4ea4\u901a\u5927\u5b66} {Person:{name:WangHongWei gender:Male age:22} schoolName:\u897f\u5357\u4ea4\u901a\u5927\u5b66} \u59d3\u540d:WangHongWei, \u5e74\u9f84:22, \u6027\u522b:Male, \u5b66\u6821:\u897f\u5357\u4ea4\u901a\u5927\u5b66 */ // \u5199\u6cd52\uff1a s2 := Student{Person{\"Josh\",\"Male\",23},\"Method\"} printInfo(s2) /* {{Josh Male 23} Method} {Person:{name:Josh gender:Male age:23} schoolName:Method} \u59d3\u540d:Josh, \u5e74\u9f84:23, \u6027\u522b:Male, \u5b66\u6821:Method */ // \u5199\u6cd53\uff1a s3 := Student{ Person: Person{\"Naruto\",\"Male\",25}, schoolName: \"\u6728\u53f6\u5b66\u6821\", } printInfo(s3) /* {{Naruto Male 25} \u6728\u53f6\u5b66\u6821} {Person:{name:Naruto gender:Male age:25} schoolName:\u6728\u53f6\u5b66\u6821} \u59d3\u540d:Naruto, \u5e74\u9f84:25, \u6027\u522b:Male, \u5b66\u6821:\u6728\u53f6\u5b66\u6821 */ // \u5199\u6cd54\uff1a s4 := Student{} s4.name = \"Sasuke\" s4.gender = \"Male\" s4.age = 25 s4.schoolName = \"\u5927\u86c7\u4e38\u7814\u7a76\u5ba4\" printInfo(s4) /* {{Sasuke Male 25} \u5927\u86c7\u4e38\u7814\u7a76\u5ba4} {Person:{name:Sasuke gender:Male age:25} schoolName:\u5927\u86c7\u4e38\u7814\u7a76\u5ba4} \u59d3\u540d:Sasuke, \u5e74\u9f84:25, \u6027\u522b:Male, \u5b66\u6821:\u5927\u86c7\u4e38\u7814\u7a76\u5ba4 */ } func printInfo(s Student){ fmt.Println(s) fmt.Printf(\"%+v \\n\", s) fmt.Printf(\"\u59d3\u540d:%s, \u5e74\u9f84:%d, \u6027\u522b:%s, \u5b66\u6821:%s \\n\",s.name,s.age,s.gender,s.schoolName) } \u5c3d\u91cf\u907f\u514d\u7ed3\u6784\u4f53\u5d4c\u5957\u65f6\u51fa\u73b0\u76f8\u540c\u7684\u6210\u5458\u540d \u7ed3\u6784\u4f53\u5d4c\u5957\u65f6\uff0c\u53ef\u80fd\u5b58\u5728\u76f8\u540c\u7684\u6210\u5458\u540d\uff0c\u6210\u5458\u91cd\u540d\u4f1a\u5bfc\u81f4\u6210\u5458\u540d\u5b57\u51b2\u7a81\uff01\u9700\u8981\u4f7f\u7528\u4e0b\u9762\u65b9\u5f0f\uff1a package main import \"fmt\" type A struct { a, b int } type B struct { a, d int } // C\u7ee7\u627fA\u4e0eB type C struct { A B } func main(){ c := C{} c.A.a = 1 c.B.a = 2 // \u5982\u679c\u8c03\u7528 c.a = 2 \uff0c\u4f1a\u63d0\u793a \"\u5f15\u8d77\u6b67\u4e49\u7684\u53c2\u6570\"\uff01\uff01\uff01 c.b = 3 c.d = 4 fmt.Println(c) //{{1 3} {2 4}} } \u5f53\u91cd\u540d\u65f6\uff0c\u7f16\u8bd1\u5668\u4f1a\u62a5\u9519\uff1aAmbiguous reference\u3002 7.3 \u65b9\u6cd5 *** \u65b9\u6cd5\u7684\u6982\u5ff5 Go\u8bed\u8a00\u540c\u65f6\u6709\u51fd\u6570\u548c\u65b9\u6cd5\uff0c\u65b9\u6cd5\u7684\u672c\u8d28\u662f\u51fd\u6570\uff0c\u4f46\u662f\u65b9\u6cd5\u548c\u51fd\u6570\u53c8\u6709\u6240\u4e0d\u540c\u3002 1. \u542b\u4e49\u4e0d\u540c \u51fd\u6570\uff08function\uff09\u662f\u4e00\u6bb5\u5177\u6709\u72ec\u7acb\u529f\u80fd\u7684\u4ee3\u7801\uff0c\u53ef\u4ee5\u88ab\u53cd\u590d\u591a\u6b21\u8c03\u7528\uff0c\u4ece\u800c\u5b9e\u73b0\u4ee3\u7801\u590d\u7528\u3002\u800c\u65b9\u6cd5\uff08method\uff09\u662f\u4e00\u4e2a\u7c7b\u7684\u884c\u4e3a\u529f\u80fd\uff0c\u53ea\u6709\u8be5\u7c7b\u7684\u5bf9\u8c61\u624d\u80fd\u8c03\u7528\u3002 2. \u65b9\u6cd5\u6709\u63a5\u53d7\u8005\uff0c\u800c\u51fd\u6570\u65e0\u63a5\u53d7\u8005 Go\u8bed\u8a00\u7684\u65b9\u6cd5\uff08method\uff09\u662f\u4e00\u79cd\u4f5c\u7528\u4e8e\u7279\u5b9a\u7c7b\u578b\u53d8\u91cf\u7684\u51fd\u6570\u3002\u8fd9\u79cd\u7279\u5b9a\u7c7b\u578b\u53d8\u91cf\u53eb\u4f5c\u63a5\u53d7\u8005\uff08receiver\uff09\u3002 \u63a5\u53d7\u8005\u7684\u6982\u5ff5\u7c7b\u4f3c\u4e8e\u4f20\u7edf\u9762\u5411\u5bf9\u8c61\u8bed\u8a00\u4e2d\u7684this\u6216self\u5173\u952e\u5b57\u3002 Go\u8bed\u8a00\u7684\u63a5\u53d7\u8005\u5f3a\u8c03\u4e86\u65b9\u6cd5\u5177\u6709\u4f5c\u7528\u5bf9\u8c61\uff0c\u800c\u51fd\u6570\u6ca1\u6709\u4f5c\u7528\u5bf9\u8c61\u3002\u4e00\u4e2a\u65b9\u6cd5\u5c31\u662f\u4e00\u4e2a\u5305\u542b\u4e86\u63a5\u53d7\u8005\u7684\u51fd\u6570\u3002 Go\u8bed\u8a00\u4e2d\uff0c\u63a5\u53d7\u8005\u53ef\u4ee5\u662f\u7ed3\u6784\u4f53\uff0c\u4e5f\u53ef\u4ee5\u662f\u7ed3\u6784\u4f53\u7c7b\u578b\u5916\u7684\u5176\u4ed6\u4efb\u4f55\u7c7b\u578b\u3002 3. \u51fd\u6570\u4e0d\u53ef\u4ee5\u91cd\u540d\uff0c\u800c\u65b9\u6cd5\u53ef\u4ee5\u91cd\u540d \u53ea\u8981\u63a5\u53d7\u8005\u4e0d\u540c\uff0c\u65b9\u6cd5\u540d\u5c31\u53ef\u4ee5\u76f8\u540c\u3002 \u57fa\u672c\u8bed\u6cd5 func (\u63a5\u53d7\u8005\u53d8\u91cf \u63a5\u53d7\u8005\u7c7b\u578b) \u65b9\u6cd5\u540d(\u53c2\u6570\u5217\u8868) (\u8fd4\u56de\u503c\u5217\u8868){ // \u65b9\u6cd5\u4f53 } \u63a5\u53d7\u8005\u5728func\u5173\u952e\u5b57\u548c\u65b9\u6cd5\u540d\u4e4b\u95f4\u7f16\u5199\uff0c\u63a5\u53d7\u8005\u53ef\u4ee5\u662fstruct\u7c7b\u578b\u6216\u975estruct\u7c7b\u578b\uff0c\u53ef\u4ee5\u662f\u6307\u9488\u7c7b\u578b\u6216\u975e\u6307\u9488\u7c7b\u578b\u3002 \u63a5\u53d7\u8005\u4e2d\u7684\u53d8\u91cf\u5728\u547d\u540d\u65f6\uff0c\u5b98\u65b9\u5efa\u8bae\u4f7f\u7528\u63a5\u53d7\u8005\u7c7b\u578b\u7684\u7b2c\u4e00\u4e2a\u5c0f\u5199\u5b57\u6bcd\u3002\u4e0b\u9762\u901a\u8fc7\u4e00\u4e2a\u6848\u4f8b\u5bf9\u6bd4\u51fd\u6570\u548c\u65b9\u6cd5\u5728\u8bed\u6cd5\u4e0a\u7684\u533a\u522b\uff1a package main import \"fmt\" type Employee struct{ name, currency string salary float64 } func main(){ emp1 := Employee{\"David\",\"$\",2000} // \u65b9\u6cd5\u7684\u8c03\u7528 emp1.printSalary() //\u5458\u5de5\uff1aDavid\uff0c\u85aa\u8d44\uff1a$2000.00 // \u8c03\u7528\u51fd\u6570 printSalary(emp1) //\u5458\u5de5\uff1aDavid\uff0c\u85aa\u8d44\uff1a$2000.00 } // printSalary \u65b9\u6cd5 func (e Employee) printSalary(){ fmt.Printf(\"\u5458\u5de5\uff1a%s\uff0c\u85aa\u8d44\uff1a%s%.2f \\n\",e.name,e.currency,e.salary) } // printSalary \u51fd\u6570 func printSalary(e Employee){ fmt.Printf(\"\u5458\u5de5\uff1a%s\uff0c\u85aa\u8d44\uff1a%s%.2f \\n\",e.name,e.currency,e.salary) } \u65b9\u6cd5\u548c\u51fd\u6570 \u4e00\u6bb5\u7a0b\u5e8f\u53ef\u4ee5\u7528\u51fd\u6570\u6765\u5199\uff0c\u5374\u8fd8\u8981\u4f7f\u7528\u65b9\u6cd5\uff0c\u4e3b\u8981\u6709\u4ee5\u4e0b\u4e24\u4e2a\u539f\u56e0\uff1a Go\u4e0d\u662f\u4e00\u79cd\u7eaf\u7cb9\u9762\u5411\u5bf9\u8c61\u7684\u7f16\u7a0b\u8bed\u8a00\uff0c\u5b83\u4e0d\u652f\u6301\u7c7b\u3002\u56e0\u6b64\u5176\u65b9\u6cd5\u65e8\u5728\u5b9e\u73b0\u7c7b\u4f3c\u4e8e\u7c7b\u7684\u884c\u4e3a\u3002 \u76f8\u540c\u540d\u79f0\u7684\u65b9\u6cd5\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u7c7b\u578b\u4e0a\u5b9a\u4e49\uff0c\u800c\u5177\u6709\u76f8\u540c\u540d\u79f0\u7684\u51fd\u6570\u662f\u4e0d\u5141\u8bb8\u7684\u3002\u5047\u8bbe\u6709\u4e00\u4e2a\u6b63\u65b9\u5f62\u548c\u4e00\u4e2a\u5706\u5f62\uff0c\u53ef\u4ee5\u5206\u522b\u5728\u6b63\u65b9\u5f62\u548c\u5706\u5f62\u4e0a\u5b9a\u4e49\u4e00\u4e2a\u540d\u4e3aArea\u7684\u6c42\u53d6\u9762\u79ef\u7684\u65b9\u6cd5\u3002 \u4e0b\u9762\u901a\u8fc7\u4e00\u4e2a\u6848\u4f8b\u6765\u89c2\u5bdf\u4e0d\u540c\u7684\u7ed3\u6784\u4f53\u4e2d\u76f8\u540c\u7684\u65b9\u6cd5\u540d\uff1a \u76f8\u540c\u65b9\u6cd5\u540d\uff1a package main import ( \"fmt\" \"math\" ) type Rectangle struct { width, height float64 } type Circle struct { radius float64 } func main(){ r1 := Rectangle{10,4} c1 := Circle{1} fmt.Println(\"r1\u7684\u9762\u79ef\uff1a\",r1.Area()) fmt.Println(\"c1\u7684\u9762\u79ef\uff1a\",c1.Area()) } // \u5b9a\u4e49\u7ed3\u6784\u4f53Rectangle\u7684 Area \u65b9\u6cd5 func (r Rectangle) Area() float64{ return r.width * r.height } // \u5b9a\u4e49\u7ed3\u6784\u4f53Circle\u7684 Area\u65b9\u6cd5 func (c Circle) Area() float64{ return c.radius * c.radius * math.Pi } \u6307\u9488\u4f5c\u4e3a\u63a5\u53d7\u8005\uff1a \u82e5\u65b9\u6cd5\u7684\u63a5\u53d7\u8005\u4e0d\u662f\u6307\u9488\uff0c\u5b9e\u9645\u53ea\u662f\u83b7\u53d6\u4e86\u4e00\u4e2a\u62f7\u8d1d\uff0c\u800c \u4e0d\u80fd\u771f\u6b63\u6539\u53d8\u63a5\u53d7\u8005\u4e2d\u539f\u6765\u7684\u6570\u636e \u3002\u5f53\u6307\u9488\u4f5c\u4e3a\u63a5\u53d7\u8005\u65f6\uff0c\u60c5\u51b5\u5982\u4e0b\uff1a package main import \"fmt\" type Rectangle struct { width, height float64 } func main() { r1 := Rectangle{5,8} r2 := r1 // \u6253\u5370\u5bf9\u8c61\u7684\u5185\u5b58\u5730\u5740 fmt.Printf(\"r1\u7684\u5730\u5740\uff1a%p \\n\",&r1)//r1\u7684\u5730\u5740\uff1a0xc0000b4010 fmt.Printf(\"r2\u7684\u5730\u5740\uff1a%p \\n\",&r2)//r2\u7684\u5730\u5740\uff1a0xc0000b4020 r1.setValue()//setValue\u65b9\u6cd5\u4e2dr\u7684\u5730\u5740\uff1a0xc0000b4040 fmt.Println(\"r1.height=\",r1.height)//8 fmt.Println(\"r2.height=\",r2.height)//8 r1.setValue2()//setValue2\u65b9\u6cd5\u4e2dr\u7684\u5730\u5740\uff1a0xc0000b4010 fmt.Println(\"r1.height=\",r1.height)//666 fmt.Println(\"r2.height=\",r2.height)//8 } // \u5c06\u7ed3\u6784\u4f53\u4f5c\u4e3a\u63a5\u53d7\u8005 \u2014\u2014 \u4e0d\u4f1a\u6539\u53d8\u539f\u59cb\u6570\u636e func (r Rectangle) setValue(){ fmt.Printf(\"setValue\u65b9\u6cd5\u4e2dr\u7684\u5730\u5740\uff1a%p \\n\",&r) r.height = 123 } // \u5c06\u6307\u9488\u4f5c\u4e3a\u63a5\u53d7\u8005 \u2014\u2014 \u4f1a\u6539\u53d8\u539f\u59cb\u6570\u636e \u2014\u2014 \u6ce8\u610fr\u672c\u8eab\u662f\u4e00\u4e2a\u6307\u9488 func (r *Rectangle) setValue2(){ fmt.Printf(\"setValue2\u65b9\u6cd5\u4e2dr\u7684\u5730\u5740\uff1a%p \\n\",r) r.height = 666 } \u65b9\u6cd5\u7ee7\u627f \u65b9\u6cd5\u662f\u53ef\u4ee5\u7ee7\u627f\u7684\uff0c\u5982\u679c\u533f\u540d\u5b57\u6bb5\u5b9e\u73b0\u4e86\u4e00\u4e2a\u65b9\u6cd5\uff0c\u90a3\u4e48\u5305\u542b\u8fd9\u4e2a\u533f\u540d\u5b57\u6bb5\u7684struct\u4e5f\u80fd\u8c03\u7528\u8be5\u533f\u540d\u5b57\u6bb5\u4e2d\u7684\u65b9\u6cd5\u3002 package main import \"fmt\" type Human struct { name, phone string age int } type Student struct { Human // \u533f\u540d\u5b57\u6bb5 school string } type Employee struct { Human // \u533f\u540d\u5b57\u6bb5 company string } func main(){ s1 := Student{Human{\"David\",\"1553322xxxx\",23},\"xinan\"} e1 := Employee{Human{\"Steven\",\"1323344xxxx\",22},\"nanxi\"} // \u8c03\u7528\u7236\u7ed3\u6784\u4f53\u7684\u65b9\u6cd5 s1.SayHi() e1.SayHi() } func (h *Human) SayHi(){ fmt.Printf(\"\u5728Human\u7684SayHi\u65b9\u6cd5\u4e2d\uff1a\u6211\u662f %s,\u8054\u7cfb\u65b9\u5f0f\u662f\uff1a%s,\u5e74\u9f84\u662f\uff1a%d \\n\",h.name,h.phone,h.age) } /* \u5728Human\u7684SayHi\u65b9\u6cd5\u4e2d\uff1a\u6211\u662f David,\u8054\u7cfb\u65b9\u5f0f\u662f\uff1a1553322xxxx,\u5e74\u9f84\u662f\uff1a23 \u5728Human\u7684SayHi\u65b9\u6cd5\u4e2d\uff1a\u6211\u662f Steven,\u8054\u7cfb\u65b9\u5f0f\u662f\uff1a1323344xxxx,\u5e74\u9f84\u662f\uff1a22 */ \u65b9\u6cd5\u91cd\u5199 \u5728Go\u8bed\u8a00\u4e2d\uff0c\u65b9\u6cd5\u91cd\u5199\u662f\u6307\u4e00\u4e2a\u5305\u542b\u4e86\u533f\u540d\u5b57\u6bb5\u7684struct\u4e5f\u5b9e\u73b0\u4e86\u8be5\u533f\u540d\u5b57\u6bb5\u5b9e\u73b0\u7684\u65b9\u6cd5\u3002 \u5f53\u7ed3\u6784\u4f53\u5b58\u5728\u7ee7\u627f\u5173\u7cfb\u65f6\uff0c\u65b9\u6cd5\u8c03\u7528\u6309\u7167\u5c31\u8fd1\u539f\u5219\u3002 package main import \"fmt\" type Human struct { name, phone string age int } type Student struct { Human // \u533f\u540d\u5b57\u6bb5 school string } type Employee struct { Human // \u533f\u540d\u5b57\u6bb5 company string } func main(){ s1 := Student{Human{\"David\",\"1553322xxxx\",23},\"xinan\"} e1 := Employee{Human{\"Steven\",\"1323344xxxx\",22},\"nanxi\"} // \u8c03\u7528\u7236\u7ed3\u6784\u4f53\u7684\u65b9\u6cd5 s1.SayHi() e1.SayHi() } func (h *Human) SayHi(){ fmt.Printf(\"\u5728Human\u7684SayHi\u65b9\u6cd5\u4e2d\uff1a\u6211\u662f %s,\u8054\u7cfb\u65b9\u5f0f\u662f\uff1a%s,\u5e74\u9f84\u662f\uff1a%d \\n\",h.name,h.phone,h.age) } func (s *Student) SayHi(){ fmt.Printf(\"\u5728Student\u7684SayHi\u65b9\u6cd5\u4e2d\uff1a\u6211\u662f %s,\u8054\u7cfb\u65b9\u5f0f\u662f\uff1a%s,\u5e74\u9f84\u662f\uff1a%d \\n\",s.name,s.phone,s.age) } func (e Employee) SayHi(){ fmt.Printf(\"\u5728Employee\u7684SayHi\u65b9\u6cd5\u4e2d\uff1a\u6211\u662f %s,\u8054\u7cfb\u65b9\u5f0f\u662f\uff1a%s,\u5e74\u9f84\u662f\uff1a%d \\n\",e.name,e.phone,e.age) } /* \u5728Student\u7684SayHi\u65b9\u6cd5\u4e2d\uff1a\u6211\u662f David,\u8054\u7cfb\u65b9\u5f0f\u662f\uff1a1553322xxxx,\u5e74\u9f84\u662f\uff1a23 \u5728Employee\u7684SayHi\u65b9\u6cd5\u4e2d\uff1a\u6211\u662f Steven,\u8054\u7cfb\u65b9\u5f0f\u662f\uff1a1323344xxxx,\u5e74\u9f84\u662f\uff1a22 */ 7.4 \u63a5\u53e3 *** \u6982\u5ff5\u53ca\u4ee3\u7801\u6f14\u793a \u9762\u5411\u5bf9\u8c61\u8bed\u8a00\u4e2d\uff0c\u63a5\u53e3\u7528\u4e8e\u5b9a\u4e49\u5bf9\u8c61\u7684\u884c\u4e3a\u3002\u63a5\u53e3\u53ea\u6307\u5b9a\u5bf9\u8c61\u5e94\u8be5\u505a\u4ec0\u4e48\uff0c\u5b9e\u73b0\u8fd9\u79cd\u884c\u4e3a\u7684\u65b9\u5f0f\uff08\u5b9e\u73b0\u7ec6\u8282\uff09\u7531\u5bf9\u8c61\u6765\u51b3\u5b9a\u3002 \u5728Go\u8bed\u8a00\u4e2d\uff0c\u63a5\u53e3\u662f\u4e00\u7ec4\u65b9\u6cd5\u7b7e\u540d\u3002 \u63a5\u53e3\u6307\u5b9a\u4e86\u7c7b\u578b\u5e94\u8be5\u5177\u6709\u7684\u65b9\u6cd5\uff0c\u7c7b\u578b\u51b3\u5b9a\u4e86\u5982\u4f55\u5b9e\u73b0\u8fd9\u4e9b\u65b9\u6cd5\u3002 \u5f53\u67d0\u4e2a\u7c7b\u578b\u4e3a\u63a5\u53e3\u4e2d\u7684\u6240\u6709\u65b9\u6cd5\u63d0\u4f9b\u4e86\u5177\u4f53\u7684\u5b9e\u73b0\u7ec6\u8282\u65f6\uff0c\u8fd9\u4e2a\u7c7b\u578b\u5c31\u88ab\u79f0\u4e3a\u5b9e\u73b0\u4e86\u8be5\u63a5\u53e3\u3002 \u63a5\u53e3\u5b9a\u4e49\u4e86\u4e00\u7ec4\u65b9\u6cd5\uff0c\u5982\u679c\u67d0\u4e2a\u5bf9\u8c61\u5b9e\u73b0\u4e86\u8be5\u63a5\u53e3\u7684\u6240\u6709\u65b9\u6cd5\uff0c\u5219\u6b64\u5bf9\u8c61\u5c31\u5b9e\u73b0\u4e86\u8be5\u63a5\u53e3\u3002 Go\u8bed\u8a00\u7684\u7c7b\u578b\u90fd\u662f\u9690\u5f0f\u5b9e\u73b0\u63a5\u53e3\u7684\u3002\u4efb\u4f55\u5b9a\u4e49\u4e86\u63a5\u53e3\u4e2d\u6240\u6709\u65b9\u6cd5\u7684\u7c7b\u578b\u90fd\u88ab\u79f0\u4e3a\u9690\u5f0f\u5730\u5b9e\u73b0\u4e86\u8be5\u63a5\u53e3\u3002 \u63a5\u53e3\u7684\u5b9a\u4e49\u4e0e\u5b9e\u73b0 \u5b9a\u4e49\u63a5\u53e3\u7684\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\uff1a type \u63a5\u53e3\u540d interface { \u65b9\u6cd51([\u53c2\u6570\u5217\u8868]) [\u8fd4\u56de\u503c] \u65b9\u6cd52([\u53c2\u6570\u5217\u8868]) [\u8fd4\u56de\u503c] ... \u65b9\u6cd5n([\u53c2\u6570\u5217\u8868]) [\u8fd4\u56de\u503c] } \u5b9e\u73b0\u63a5\u53e3\u65b9\u6cd5\u7684\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\uff1a func (\u53d8\u91cf\u540d \u7ed3\u6784\u4f53\u7c7b\u578b) \u65b9\u6cd51([\u53c2\u6570\u5217\u8868]) [\u8fd4\u56de\u503c] { // \u65b9\u6cd5\u4f53 } func (\u53d8\u91cf\u540d \u7ed3\u6784\u4f53\u7c7b\u578b) \u65b9\u6cd52([\u53c2\u6570\u5217\u8868]) [\u8fd4\u56de\u503c] { // \u65b9\u6cd5\u4f53 } ... func (\u53d8\u91cf\u540d \u7ed3\u6784\u4f53\u7c7b\u578b) \u65b9\u6cd5n([\u53c2\u6570\u5217\u8868]) [\u8fd4\u56de\u503c] { // \u65b9\u6cd5\u4f53 } \u4f7f\u7528\u6848\u4f8b\u5982\u4e0b\uff1a package main import \"fmt\" // \u58f0\u660e/\u5b9a\u4e49\u4e00\u4e2a\u63a5\u53e3 type Usb interface { // \u58f0\u660e2\u4e2a\u6ca1\u6709\u5b9e\u73b0\u7684\u65b9\u6cd5 Start() Stop() } // 1\u3001Phone\u7ed3\u6784\u4f53 type Phone struct { } // \u8ba9Phone\u5b9e\u73b0Usb\u63a5\u53e3\u7684\u65b9\u6cd5 func (p *Phone) Start() { fmt.Println(\"\u624b\u673a\u5f00\u59cb\u5de5\u4f5c...\") } func (p *Phone) Stop() { fmt.Println(\"\u624b\u673a\u505c\u6b62\u5de5\u4f5c...\") } // 2\u3001Camera\u7ed3\u6784\u4f53 type Camera struct { } // \u8ba9Camera\u5b9e\u73b0Usb\u63a5\u53e3\u7684\u65b9\u6cd5 func (c *Camera) Start() { fmt.Println(\"\u76f8\u673a\u5f00\u59cb\u5de5\u4f5c...\") } func (c *Camera) Stop() { fmt.Println(\"\u76f8\u673a\u505c\u6b62\u5de5\u4f5c...\") } // 3\u3001\u8ba1\u7b97\u673a\u7ed3\u6784\u4f53 *** type Computer struct { } // \u7f16\u5199\u4e00\u4e2a\u65b9\u6cd5Working\uff0c\u63a5\u6536\u4e00\u4e2aUsb\u63a5\u53e3\u7c7b\u578b\u53d8\u91cf // \u53ea\u8981\u662f\u5b9e\u73b0\u4e86Usb\u63a5\u53e3\uff08\u6240\u8c13\u5b9e\u73b0Usb\u63a5\u53e3\u5176\u5b9e\u5c31\u662f\u5b9e\u73b0\u4e86Usb\u63a5\u53e3\u58f0\u660e\u7684\"\u6240\u6709\u65b9\u6cd5\"\uff09 func (c Computer) Working(u Usb) { // u\u53d8\u91cf\u6216\u6839\u636e\u4f20\u5165\u7684\u5b9e\u53c2\uff0c\u6765\u5224\u65ad\u5230\u5e95\u662fPhone\u8fd8\u662fCamera // \u901a\u8fc7u\u63a5\u53e3\u53d8\u91cf\u6765\u8c03\u7528Start\u4e0eStop\u65b9\u6cd5 u.Start() u.Stop() } func main() { // \u5148\u521b\u5efa\u7ed3\u6784\u4f53\u53d8\u91cf computerObj := Computer{} phoneObj := Phone{} cameraObj := Camera{} // \u5173\u952e\u70b9 computerObj.Working(&phoneObj) computerObj.Working(&cameraObj) /* \u624b\u673a\u5f00\u59cb\u5de5\u4f5c... \u624b\u673a\u505c\u6b62\u5de5\u4f5c... \u76f8\u673a\u5f00\u59cb\u5de5\u4f5c... \u76f8\u673a\u505c\u6b62\u5de5\u4f5c... */ } \u63a5\u53e3\u7684\u8bf4\u660e * interface\u7c7b\u578b\u53ef\u4ee5\u5b9a\u4e49\u4e00\u7ec4\u65b9\u6cd5\uff0c\u4f46\u662f\u8fd9\u4e9b\u4e0d\u9700\u8981\u5b9e\u73b0\u3002\u5e76\u4e14interface\u4e0d\u80fd\u5305\u542b\u4efb\u4f55\u53d8\u91cf\u3002\u5230\u67d0\u4e2a\u81ea\u5b9a\u4e49\u7c7b\u578b\uff08\u6bd4\u5982\u7ed3\u6784\u4f53Phone\uff09\u8981\u4f7f\u7528\u7684\u65f6\u5019\uff0c\u5728\u6839\u636e\u5177\u4f53\u60c5\u51b5\u628a\u8fd9\u4e9b\u65b9\u6cd5\u5199\u51fa\u6765\uff08\u5b9e\u73b0\u63a5\u53e3\uff09\u3002 \uff081\uff09\u63a5\u53e3\u91cc\u7684 \u6240\u6709\u65b9\u6cd5\u90fd\u6ca1\u6709\u65b9\u6cd5\u4f53 \uff0c\u5373\u63a5\u53e3\u7684\u65b9\u6cd5\u90fd\u662f\u6ca1\u6709\u5b9e\u73b0\u7684\u65b9\u6cd5\u3002\u63a5\u53e3\u4f53\u73b0\u4e86\u7a0b\u5e8f\u8bbe\u8ba1\u7684 \u591a\u6001 \u548c \u9ad8\u5185\u805a\u4f4e\u8026\u5408 \u7684\u601d\u60f3\u3002 \uff082\uff09Golang\u4e2d\u7684\u63a5\u53e3\uff0c\u4e0d\u9700\u8981\u663e\u5f0f\u7684\u5b9e\u73b0\u3002\u53ea\u8981\u4e00\u4e2a\u53d8\u91cf\uff08\u6bd4\u5982\u7ed3\u6784\u4f53\u53d8\u91cf\uff09\uff0c\u542b\u6709\u63a5\u53e3\u7c7b\u578b\u4e2d\u7684\u65b9\u6cd5\uff0c\u90a3\u4e48\u8fd9\u4e2a\u53d8\u91cf\u5c31\u5b9e\u73b0\u4e86\u8fd9\u4e2a\u63a5\u53e3\u3002 \uff083\uff09\u63a5\u53e3\u672c\u8eab\u4e0d\u80fd\u521b\u5efa\u5b9e\u4f8b\uff0c\u4f46\u662f \u53ef\u4ee5\u6307\u5411\u4e00\u4e2a\u5b9e\u73b0\u4e86\u8be5\u63a5\u53e3\u7684\u81ea\u5b9a\u4e49\u7c7b\u578b\u7684\u53d8\u91cf \uff08\u5b9e\u4f8b\uff09\uff1a package main import \"fmt\" type AInterface interface { Say() string } // \u5b9a\u4e49\u4e00\u4e2a\u7ed3\u6784\u4f53\u5b9e\u73b0\u4e0a\u9762\u7684\u63a5\u53e3 type Student struct { Name string } func (s *Student) Say() string{ return fmt.Sprintf(\"My name is %s \\n\",s.Name) } func main() { stuObj := Student{ Name: \"Naruto\", } // \u6307\u5411\u5b9e\u73b0\u8be5\u63a5\u53e3\u7684\u53d8\u91cf \u7279\u522b\u6ce8\u610f\uff01\u53f3\u8fb9\u5b57\u9762\u91cf\u5fc5\u987b\u662f\u4e00\u4e2a\u6307\u9488\uff01\u56e0\u4e3a\u5b9e\u73b0\u7684\u65f6\u5019\u4f20\u5165\u7684\u662f *Stucent~~ var s AInterface = &stuObj ret := s.Say() fmt.Println(\"ret>>> \",ret) // My name is Naruto } \uff084\uff09\u5728Golang\u4e2d\uff0c\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7c7b\u578b\u9700\u8981 \u5c06\u67d0\u4e2a\u63a5\u53e3\u6240\u6709\u65b9\u6cd5\u90fd\u5b9e\u73b0 \uff0c\u6211\u4eec\u8bf4\u8fd9\u4e2a\u81ea\u5b9a\u4e49\u7c7b\u578b \u5b9e\u73b0\u4e86\u8be5\u63a5\u53e3 \u3002 \uff085\uff09\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7c7b\u578b \u53ea\u6709\u5b9e\u73b0\u4e86\u67d0\u4e2a\u63a5\u53e3 \uff0c\u624d\u80fd \u5c06\u8be5\u81ea\u5b9a\u4e49\u7c7b\u578b\u7684\u5b9e\u4f8b\uff08\u53d8\u91cf\uff09\u8d4b\u503c\u7ed9\u63a5\u53e3\u7c7b\u578b \uff01 \uff086\uff09\u53ea\u8981\u662f\u81ea\u5b9a\u4e49\u6570\u636e\u7c7b\u578b\u5c31\u53ef\u4ee5\u5b9e\u73b0\u63a5\u53e3\uff0c\u4e0d\u4ec5\u4ec5\u662f\u7ed3\u6784\u4f53\u7c7b\u578b\u3002 package main import \"fmt\" type AInterface interface { Say() string } // \u81ea\u5b9a\u4e49\u6570\u636e\u7c7b\u578b\u5b9e\u73b0\u63a5\u53e3 type integer int func (i *integer) Say() string{ return fmt.Sprintf(\"say:%d \\n\",*i) // \u6ce8\u610f\u4f20\u5165\u7684\u662f\u6307\u9488\uff0c\u8fd9\u91cc\u9700\u8981\u7528*\u53bb\u53d6\u503c\uff01 } func main() { var i integer = 10 var b AInterface = &i ret := b.Say() fmt.Println(\"ret>>> \",ret) // say:10 } \uff087\uff09\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7c7b\u578b\u53ef\u4ee5\u5b9e\u73b0\u591a\u4e2a\u63a5\u53e3 package main import \"fmt\" type AInterface interface { ReturnName() string } type BInterface interface { ReturnAge() string } type Monster struct { Name string Age int } // \u5b9e\u73b0\u63a5\u53e3A func (m *Monster) ReturnName() string{ return fmt.Sprintf(\"name:%s \\n\",m.Name) } // \u5b9e\u73b0\u63a5\u53e3B func (m *Monster) ReturnAge() string{ return fmt.Sprintf(\"age:%d \\n\",m.Age) } func main() { mObj := Monster{ Name: \"Naruto\", Age: 22, } // \u8d4b\u503c\u7ed9\u4e0d\u540c\u7c7b\u578b\u7684\u63a5\u53e3 var aObj AInterface = &mObj var bObj BInterface = &mObj // \u7ed3\u679c ret1 := aObj.ReturnName() fmt.Println(\"ret1>>> \",ret1)//name:Naruto ret2 := bObj.ReturnAge() fmt.Println(\"ret2>>> \",ret2)//age:22 } \uff088\uff09Golang\u63a5\u53e3\u4e2d\u4e0d\u80fd\u6709\u4efb\u4f55\u53d8\u91cf\uff1a \uff089\uff09\u4e00\u4e2a\u63a5\u53e3\uff08\u6bd4\u5982A\u63a5\u53e3\uff09\u53ef\u4ee5\u7ee7\u627f\u591a\u4e2a\u522b\u7684\u63a5\u53e3\uff08\u6bd4\u5982B\u3001C\u63a5\u53e3\uff09\uff0c\u8fd9\u65f6\u5982\u679c\u8981\u5b9e\u73b0A\u63a5\u53e3\uff0c\u4e5f\u5fc5\u987b\u5c06B\u3001C\u63a5\u53e3\u7684\u65b9\u6cd5\u4e5f\u5168\u90e8\u5b9e\u73b0\uff01 package main import \"fmt\" // \u7236\u7ea7\u7ed3\u6784\u4f53 type BInter interface { testB() } type CInter interface { testC() } // \u7ee7\u627f type AInter interface { BInter CInter testA() } // \u5982\u679c\u9700\u8981\u5b9e\u73b0A\u63a5\u53e3\uff0c\u90a3\u5fc5\u987b\u5c06B\u4e0eC\u63a5\u53e3\u540c\u65f6\u90fd\u5b9e\u73b0\u4e86\uff01\uff01\uff01 type Stu struct{ Name string } func (s *Stu) testA(){ fmt.Println(\"\u5b9e\u73b0\u4e86A...\") } func (s *Stu) testB(){ fmt.Println(\"\u5b9e\u73b0\u4e86B...\") } func (s *Stu) testC(){ fmt.Println(\"\u5b9e\u73b0\u4e86C...\") } func main() { stuObj := Stu{ Name: \"wanghw\", } // \u63a5\u6536 var a AInter = &stuObj a.testA() a.testB() a.testC() /* \u5b9e\u73b0\u4e86A... \u5b9e\u73b0\u4e86B... \u5b9e\u73b0\u4e86C... */ } \uff0810\uff09interface\u7c7b\u578b\u9ed8\u8ba4\u662f\u4e00\u4e2a\u6307\u9488\uff08\u5f15\u7528\u7c7b\u578b\uff09\uff0c\u5982\u679c\u6ca1\u6709\u5bf9interface\u521d\u59cb\u5316\u5c31\u4f7f\u7528\u7684\u8bdd\uff0c\u90a3\u4e48\u4f1a\u8f93\u51fanil\u3002 2\u4e2a\u7279\u6b8a\u4f8b\u5b50* \uff081\uff09\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7c7b\u578b\u53ef\u4ee5\u5b9e\u73b0\u591a\u4e2a\u63a5\u53e3\uff0c\u63a5\u53e3\u4e4b\u95f4\u53ef\u4ee5\u6709\u76f8\u540c\u7684\u65b9\u6cd5\uff1a package main import \"fmt\" // \u6ce8\u610f A\u63a5\u53e3\u4e0eB\u63a5\u53e3\u4e2d\u6709\u76f8\u540c\u7684\u65b9\u6cd5 Test1 type AInter interface { Test1() Test2() } type BInter interface { Test1() Test3() } type Student struct { Name string } // \u540c\u65f6\u5b9e\u73b0A\u63a5\u53e3\u4e0eB\u63a5\u53e3 func(s *Student) Test1(){ fmt.Println(\"Student\u5b9e\u73b0\u4e86Test1\u65b9\u6cd5\") } func(s *Student) Test2(){ fmt.Println(\"Student\u5b9e\u73b0\u4e86Test2\u65b9\u6cd5\") } func(s *Student) Test3(){ fmt.Println(\"Student\u5b9e\u73b0\u4e86Test3\u65b9\u6cd5\") } func main() { stuObj := Student{ Name: \"wanghw\", } var A AInter = &stuObj var B BInter = &stuObj A.Test1()//Student\u5b9e\u73b0\u4e86Test1\u65b9\u6cd5 A.Test2()//Student\u5b9e\u73b0\u4e86Test2\u65b9\u6cd5 B.Test1()//Student\u5b9e\u73b0\u4e86Test1\u65b9\u6cd5 B.Test3()//Student\u5b9e\u73b0\u4e86Test3\u65b9\u6cd5 } \uff082\uff09\u63a5\u53e3\u7ee7\u627f\u7684\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u4e24\u4e2a\u57fa\u7c7b\u4e2d\u6709\u76f8\u540c\u7684\u65b9\u6cd5\uff0c\u8fd9\u6837\u4e0d\u884c\uff01\u4f1a\u62a5\u9519\uff01 \u63a5\u53e3\u7f16\u7a0b\u7684\u6700\u4f73\u5b9e\u8df5* \u5b9e\u73b0\u5bf9Hero\u7ed3\u6784\u4f53\u5207\u7247\u7684\u6392\u5e8f\uff1asort.Sort(data Interface) package main import ( \"fmt\" \"math/rand\" \"sort\" ) ////// \u6e90\u7801\u5b9e\u73b0\u601d\u8def // 1\u3001\u58f0\u660eHero\u7ed3\u6784\u4f53 type Hero struct { Name string Age int } // 2\u3001\u58f0\u660e\u4e00\u4e2aHero\u7ed3\u6784\u4f53\u5207\u7247\u7c7b\u578b type HeroSlice []Hero // 3\u3001\u5b9e\u73b0interface\u63a5\u53e3 func (hs HeroSlice) Len() int{ return len(hs) } /// Less \u65b9\u6cd5\u5c31\u662f\u51b3\u5b9a\u6211\u4eec\u4f7f\u7528\u4ec0\u4e48\u6807\u51c6\u8fdb\u884c\u6392\u5e8f // 1. \u6309\u7167Hero\u7684\u5e74\u9f84\u4ece\u5c0f\u5230\u5927\u6392\u5e8f func (hs HeroSlice) Less(i, j int)bool{ return hs[i].Age < hs[j].Age // \u4fee\u6539\u6210 \u5bf9Name\u7684\u6392\u5e8f // return hs[i].Name < hs[j].Name } // \u6570\u636e\u4ea4\u6362 func (hs HeroSlice) Swap(i, j int){ hs[i], hs[j] = hs[j], hs[i] } func main() { // TODO \u6d4b\u8bd5\u7cfb\u7edf\u6392\u5e8f\u7684\u65b9\u6cd5 //\u5148\u5b9a\u4e49\u4e00\u4e2a\u6570\u7ec4/\u5207\u7247 var intSlice = []int{0, -1, 10, 7, 90} //\u8981\u6c42\u5bf9 intSlice\u5207\u7247\u8fdb\u884c\u6392\u5e8f // \u4f7f\u7528\u7cfb\u7edf\u63d0\u4f9b\u7684\u65b9\u6cd5 sort.Ints(intSlice) // \u4ece\u5c0f\u5230\u5927 fmt.Println(intSlice) // [-1 0 7 10 90] //\u6d4b\u8bd5\u770b\u770b\u6211\u4eec\u662f\u5426\u53ef\u4ee5\u5bf9\u7ed3\u6784\u4f53\u5207\u7247\u8fdb\u884c\u6392\u5e8f var heroes HeroSlice for i := 0; i < 10 ; i++ { hero := Hero{ Name : fmt.Sprintf(\"\u82f1\u96c4|%d\", rand.Intn(100)), Age : rand.Intn(100), } //\u5c06 hero append\u5230 heroes\u5207\u7247 heroes = append(heroes, hero) } //\u770b\u770b\u6392\u5e8f\u524d\u7684\u987a\u5e8f fmt.Println(\"-----------\u6392\u5e8f\u524d------------\") for _ , v := range heroes { fmt.Println(v) } //\u8c03\u7528sort.Sort sort.Sort(heroes) fmt.Println(\"-----------\u6392\u5e8f\u540e------------\") //\u770b\u770b\u6392\u5e8f\u540e\u7684\u987a\u5e8f for _ , v := range heroes { fmt.Println(v) } } \u5b9e\u73b0\u63a5\u53e3 VS \u7ee7\u627f * \u5b9e\u73b0\u63a5\u53e3\u53ef\u4ee5\u8bf4\u662f\u5bf9\u7ee7\u627f\u7684\u4e00\u79cd\u8865\u5145\uff01 \uff081\uff09 \u5f53A\u7ed3\u6784\u4f53\u7ee7\u627f\u4e86B\u7ed3\u6784\u4f53\uff0c\u90a3\u4e48A\u7ed3\u6784\u4f53\u5c31\u81ea\u52a8\u7ee7\u627f\u4e86B\u7ed3\u6784\u4f53\u7684\u5b57\u6bb5\u8ddf\u65b9\u6cd5\uff0c\u5e76\u4e14\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u3002 \uff082\uff09 \u5f53A\u7ed3\u6784\u4f53\u9700\u8981\u6269\u5c55\uff0c\u540c\u65f6\u4e0d\u5e0c\u671b\u7834\u574f\u7ee7\u627f\u5173\u7cfb\uff0c\u5219\u53ef\u4ee5\u53d6\u5b9e\u73b0\u67d0\u4e2a\u63a5\u53e3\uff01 package main import ( \"fmt\" ) // \u7236\u7ea7Monkey\u7ed3\u6784\u4f53 type Monkey struct { Name string } // Monkey\u7684\u65b9\u6cd5 func (m *Monkey) climbing(){ fmt.Println(\"\u751f\u6765\u4f1a\u722c\u6811...\") } // \u58f0\u660e2\u4e2a\u63a5\u53e3 \u2014\u2014\u2014\u2014 \u5b9a\u4e49\u62d3\u5c55\u65b9\u6cd5 type BirdAble interface { Flying() } type FishAble interface { Swinging() } // \u5b50\u7c7b\uff1aLittleMonkey\u7ed3\u6784\u4f53 type LittleMonkey struct { Monkey // \u7ee7\u627f } // \u8ba9\u5b50\u7c7b\u5b9e\u73b0\u4e24\u4e2a\u63a5\u53e3\u7684\u62d3\u5c55\u65b9\u6cd5 func (l *LittleMonkey) Flying(){ fmt.Println(\"\u901a\u8fc7\u5b66\u4e60\uff0c\u5b66\u4f1a\u4e86\u98de...\") } func (l *LittleMonkey) Swinging(){ fmt.Println(\"\u901a\u8fc7\u5b66\u4e60\uff0c\u5b66\u4f1a\u4e86\u6e38\u6cf3...\") } func main() { // \u521b\u5efa\u4e00\u4e2aLittleMonkey\u5b9e\u4f8b LittleMonkeyObj := LittleMonkey{ Monkey{ Name: \"\u5b59\u609f\u7a7a\", }, } // \u8fd9\u6837\uff1a\u5b50\u7c7b\u65e2\u6709\u4e86\u7236\u7c7b\u7684\u65b9\u6cd5\uff0c\u4e5f\u6709\u4e86\u81ea\u5df1\u62d3\u5c55\u7684\u65b9\u6cd5 LittleMonkeyObj.climbing() LittleMonkeyObj.Flying() LittleMonkeyObj.Swinging() /* \u751f\u6765\u4f1a\u722c\u6811... \u901a\u8fc7\u5b66\u4e60\uff0c\u5b66\u4f1a\u4e86\u98de... \u901a\u8fc7\u5b66\u4e60\uff0c\u5b66\u4f1a\u4e86\u6e38\u6cf3... */ } duck typing Go\u6ca1\u6709implements\u6216extends\u5173\u952e\u5b57\uff0c\u8fd9\u7c7b\u7f16\u7a0b\u8bed\u8a00\u53eb\u4f5cduck typing\u7f16\u7a0b\u8bed\u8a00\u3002 1. \u5927\u9ec4\u9e2d\u73a9\u5177\u4e0d\u662f\u9e2d\u5b50 \u751f\u6d3b\u4e2d\u7684\u5927\u9ec4\u9e2d\uff0c\u53ea\u662f\u4e00\u4e2a\u5851\u6599\u73a9\u5177\u3002 \u4ece\u751f\u7269\u5b66\u89d2\u5ea6\u770b\uff0c\u9e2d\u5b50\u5c5e\u4e8e\u810a\u7d22\u52a8\u7269\u95e8\u3001\u810a\u690e\u52a8\u7269\u4e9a\u95e8\u3001\u9e1f\u7eb2\u3001\u96c1\u5f62\u76ee\u3002\u5927\u9ec4\u9e2d\u6ca1\u6709\u751f\u547d\uff0c\u6240\u4ee5\u4e0d\u662f\u9e2d\u5b50\u3002 2. duck typing duck typing\u662f\u63cf\u8ff0\u4e8b\u7269\u7684\u5916\u90e8\u884c\u4e3a\u800c\u975e\u5185\u90e8\u7ed3\u6784\u3002\u201c\u4e00\u53ea\u9e1f\u8d70\u8d77\u6765\u50cf\u9e2d\u5b50\uff0c\u6e38\u6cf3\u50cf\u9e2d\u5b50\uff0c\u53eb\u8d77\u6765\u4e5f\u50cf\u9e2d\u5b50\uff0c\u90a3\u4e48\u8fd9\u53ea\u9e1f\u5c31\u53ef\u4ee5\u88ab\u79f0\u4e3a\u9e2d\u5b50\u3002\u201d\u6269\u5c55\u540e\uff0c\u53ef\u4ee5\u5c06\u5176\u7406\u89e3\u4e3a\uff1a\u201c\u4e00\u53ea\u9e1f\u770b\u8d77\u6765\u50cf\u9e2d\u5b50\uff0c\u90a3\u4e48\u5b83\u5c31\u662f\u9e2d\u5b50\u3002\u201d duck typing\u5173\u6ce8\u7684\u4e0d\u662f\u5bf9\u8c61\u7684\u7c7b\u578b\u672c\u8eab\uff0c\u800c\u662f\u5b83\u662f\u5982\u4f55\u4f7f\u7528\u7684\u3002 3. duck typing\u7f16\u7a0b\u8bed\u8a00 \u4f7f\u7528duck typing\u7684\u7f16\u7a0b\u8bed\u8a00\u5f80\u5f80\u88ab\u5f52\u7c7b\u4e3a\u201c\u52a8\u6001\u7c7b\u578b\u8bed\u8a00\u201d\u6216\u8005\u201c\u89e3\u91ca\u578b\u8bed\u8a00\u201d\uff0c\u5982Python\u3001Javascript\u3001Ruby\u7b49\uff1b\u800c\u975educk typing\u7f16\u7a0b\u8bed\u8a00\u5f80\u5f80\u88ab\u5f52\u4e3a\u201c\u9759\u6001\u7c7b\u578b\u8bed\u8a00\u201d\uff0c\u5982C\u3001C++\u3001Java\u7b49\u3002 4. \u975educk typing\u7f16\u7a0b\u8bed\u8a00 \u4ee5Java\u4e3a\u4f8b\uff0c\u4e00\u4e2a\u7c7b\u5fc5\u987b\u663e\u5f0f\u5730\u58f0\u660e\u201c\u7c7b\u5b9e\u73b0\u4e86\u67d0\u4e2a\u63a5\u53e3\u201d\uff0c\u7136\u540e\u624d\u80fd\u7528\u5728\u8fd9\u4e2a\u63a5\u53e3\u53ef\u4ee5\u4f7f\u7528\u7684\u5730\u65b9\u3002\u5982\u679c\u6709\u4e00\u4e2a\u7b2c\u4e09\u65b9\u7684Java\u5e93\uff0c\u8fd9\u4e2a\u5e93\u4e2d\u7684\u67d0\u4e2a\u7c7b\u6ca1\u6709\u58f0\u660e\u5b83\u5b9e\u73b0\u4e86\u67d0\u4e2a\u63a5\u53e3\uff0c\u90a3\u4e48\u5373\u4f7f\u8fd9\u4e2a\u7c7b\u4e2d\u771f\u7684\u6709\u90a3\u4e9b\u63a5\u53e3\u4e2d\u7684\u65b9\u6cd5\uff0c\u4e5f\u4e0d\u80fd\u628a\u8fd9\u4e2a\u7c7b\u7684\u5bf9\u8c61\u7528\u5728\u90a3\u4e9b\u8981\u6c42\u7528\u63a5\u53e3\u7684\u5730\u65b9\u3002\u4f46\u5728duck typing\u7f16\u7a0b\u8bed\u8a00\u4e2d\u5c31\u53ef\u4ee5\u8fd9\u6837\u505a\uff0c\u56e0\u4e3a\u5b83\u4e0d\u8981\u6c42\u4e00\u4e2a\u7c7b\u663e\u5f0f\u5730\u58f0\u660e\u5b83\u5b9e\u73b0\u4e86\u67d0\u4e2a\u63a5\u53e3\u3002 5. \u52a8\u6001\u7c7b\u578b\u8bed\u8a00\u7684\u4f18\u7f3a\u70b9 \u52a8\u6001\u7c7b\u578b\u8bed\u8a00\u7684\u597d\u5904\u5f88\u591a\uff0cPython\u4ee3\u7801\u5199\u8d77\u6765\u5f88\u5feb\u3002\u4f46\u662f\u7f3a\u9677\u4e5f\u662f\u663e\u800c\u6613\u89c1\u7684\uff1a\u9519\u8bef\u5f80\u5f80\u8981\u5728\u8fd0\u884c\u65f6\u624d\u80fd\u88ab\u53d1\u73b0\u3002\u76f8\u53cd\uff0c\u9759\u6001\u7c7b\u578b\u8bed\u8a00\u5f80\u5f80\u5728\u7f16\u8bd1\u65f6\u5c31\u53d1\u73b0\u8fd9\u7c7b\u9519\u8bef\uff1a\u5982\u679c\u67d0\u4e2a\u53d8\u91cf\u7684\u7c7b\u578b\u6ca1\u6709\u663e\u5f0f\u5730\u58f0\u660e\u5b9e\u73b0\u4e86\u67d0\u4e2a\u63a5\u53e3\uff0c\u90a3\u4e48\uff0c\u8fd9\u4e2a\u53d8\u91cf\u5c31\u4e0d\u80fd\u7528\u5728\u4e00\u4e2a\u8981\u6c42\u5b9e\u73b0\u4e86\u8fd9\u4e2a\u63a5\u53e3\u7684\u5730\u65b9\u3002 6. Go\u7684\u5904\u7406\u65b9\u5f0f Go\u7c7b\u578b\u7cfb\u7edf\u91c7\u53d6\u4e86\u6298\u4e2d\u7684\u529e\u6cd5\uff0c\u5176\u505a\u6cd5\u5982\u4e0b\uff1a \u7b2c\u4e00\uff0c\u7ed3\u6784\u4f53\u7c7b\u578bT\u4e0d\u9700\u8981\u663e\u5f0f\u5730\u58f0\u660e\u5b83\u5b9e\u73b0\u4e86\u63a5\u53e3I\u3002\u53ea\u8981\u7c7b\u578bT\u5b9e\u73b0\u4e86\u63a5\u53e3I\u89c4\u5b9a\u7684\u6240\u6709\u65b9\u6cd5\uff0c\u5b83\u5c31\u81ea\u52a8\u5730\u5b9e\u73b0\u4e86\u63a5\u53e3I\u3002\u8fd9\u6837\u5c31\u50cf\u52a8\u6001\u7c7b\u578b\u8bed\u8a00\u4e00\u6837\u7701\u4e86\u5f88\u591a\u4ee3\u7801\uff0c\u5c11\u4e86\u8bb8\u591a\u9650\u5236\u3002 \u7b2c\u4e8c\uff0c\u5c06\u7ed3\u6784\u4f53\u7c7b\u578b\u7684\u53d8\u91cf\u663e\u5f0f\u6216\u8005\u9690\u5f0f\u5730\u8f6c\u6362\u4e3a\u63a5\u53e3I\u7c7b\u578b\u7684\u53d8\u91cfi\u3002\u8fd9\u6837\u5c31\u53ef\u4ee5\u548c\u5176\u4ed6\u9759\u6001\u7c7b\u578b\u8bed\u8a00\u4e00\u6837\uff0c\u5728\u7f16\u8bd1\u65f6\u68c0\u67e5\u53c2\u6570\u7684\u5408\u6cd5\u6027\u3002 \u63a5\u4e0b\u6765\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u6848\u4f8b\u52a0\u6df1\u5bf9duck typing\u7684\u7406\u89e3\uff1a package main import \"fmt\" type ISayHello interface { SayHello() string } type Duck struct { name string } type Person struct { name string } func (d Duck) SayHello() string{ return d.name + \"\u53eb\uff1aga ga ga!\" } func (p Person) SayHello() string{ return p.name + \"\u8bf4\uff1a\u4f60\u597d\uff01\" } func main() { // \u5b9a\u4e49\u5b9e\u73b0\u63a5\u53e3\u7684\u5bf9\u8c61 duck := Duck{\"DaHuangYa\"} person := Person{\"Jonson\"} fmt.Println(duck.SayHello())// DaHuangYa\u53eb\uff1aga ga ga! fmt.Println(person.SayHello())// Jonson\u8bf4\uff1a\u4f60\u597d\uff01 // \u5b9a\u4e49\u63a5\u53e3\u7c7b\u578b\u7684\u53d8\u91cf var i ISayHello i = duck fmt.Printf(\"%T, %v, %p \\n\",i, i, &i)//main.Duck, {DaHuangYa}, 0xc00008e200 fmt.Println(i.SayHello())//DaHuangYa\u53eb\uff1aga ga ga! i = person fmt.Printf(\"%T, %v, %p \\n\",i, i, &i)//main.Person, {Jonson}, 0xc000010220 fmt.Println(i.SayHello())//Jonson\u8bf4\uff1a\u4f60\u597d\uff01 } \u53ef\u4ee5\u770b\u51fa\uff0c\u4e00\u4e2a\u51fd\u6570\u5982\u679c\u63a5\u53d7\u63a5\u53e3\u7c7b\u578b\u4f5c\u4e3a\u53c2\u6570\uff0c\u90a3\u4e48\u5b9e\u9645\u4e0a\u5b83\u53ef\u4ee5\u4f20\u5165\u8be5\u63a5\u53e3\u7684\u4efb\u610f\u4e00\u4e2a\u5b9e\u73b0\u7c7b\u7684\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u3002\u5b9a\u4e49\u4e00\u4e2a\u63a5\u53e3\u53d8\u91cf\uff0c\u5b9e\u9645\u4e0a\u53ef\u4ee5\u8d4b\u503c\u7ed9\u4efb\u610f\u4e00\u4e2a\u5b9e\u73b0\u4e86\u8be5\u63a5\u53e3\u7684\u5bf9\u8c61\u3002 \u5982\u679c\u5b9a\u4e49\u4e86\u4e00\u4e2a\u63a5\u53e3\u7c7b\u578b\u7684\u5bb9\u5668\uff08\u6570\u7ec4\u6216\u5207\u7247\uff09\uff0c\u5b9e\u9645\u4e0a\u8be5\u5bb9\u5668\u53ef\u4ee5\u5b58\u50a8\u4efb\u610f\u4e00\u4e2a\u5b9e\u73b0\u7c7b\u5bf9\u8c61\u3002 \u591a\u6001 \u5982\u679c\u6709\u51e0\u4e2a\u76f8\u4f3c\u800c\u4e0d\u5b8c\u5168\u76f8\u540c\u7684\u5bf9\u8c61\uff0c\u6709\u65f6\u4eba\u4eec\u8981\u6c42\u5728\u5411\u5b83\u4eec\u53d1\u51fa\u540c\u4e00\u4e2a\u6d88\u606f\u65f6\uff0c\u5b83\u4eec\u7684\u53cd\u5e94\u5404\u4e0d\u76f8\u540c\uff0c\u5206\u522b\u6267\u884c\u4e0d\u540c\u7684\u64cd\u4f5c\u3002\u8fd9\u79cd\u60c5\u51b5\u5c31\u662f\u591a\u6001\u73b0\u8c61\u3002\u4f8b\u5982\uff0c\u7532\u3001\u4e59\u3001\u4e19\u4e09\u4e2a\u73ed\u90fd\u662f\u521d\u4e2d\u4e00\u5e74\u7ea7\uff0c\u5b66\u751f\u4eec\u6709\u57fa\u672c\u76f8\u540c\u7684\u5c5e\u6027\u548c\u884c\u4e3a\uff0c\u5728\u540c\u65f6\u542c\u5230\u4e0a\u8bfe\u94c3\u58f0\u7684\u65f6\u5019\uff0c\u4ed6\u4eec\u4f1a\u5206\u522b\u8d70\u5411\u4e09\u4e2a\u4e0d\u540c\u7684\u6559\u5ba4\uff0c\u800c\u4e0d\u4f1a\u8d70\u5411\u540c\u4e00\u4e2a\u6559\u5ba4\u3002 \u591a\u6001\u5c31\u662f\u4e8b\u7269\u7684\u591a\u79cd\u5f62\u6001\uff0cGo\u8bed\u8a00\u4e2d\u7684\u591a\u6001\u6027\u662f\u5728\u63a5\u53e3\u7684\u5e2e\u52a9\u4e0b\u5b9e\u73b0\u7684\u2014\u2014\u5b9a\u4e49\u63a5\u53e3\u7c7b\u578b\uff0c\u521b\u5efa\u5b9e\u73b0\u8be5\u63a5\u53e3\u7684\u7ed3\u6784\u4f53\u5bf9\u8c61\u3002 \u5b9a\u4e49\u63a5\u53e3\u7c7b\u578b\u7684\u5bf9\u8c61\uff0c\u53ef\u4ee5\u4fdd\u5b58\u5b9e\u73b0\u8be5\u63a5\u53e3\u7684\u4efb\u4f55\u7c7b\u578b\u7684\u503c\u3002Go\u8bed\u8a00\u63a5\u53e3\u53d8\u91cf\u7684\u8fd9\u4e2a\u7279\u6027\u5b9e\u73b0\u4e86Go\u8bed\u8a00\u4e2d\u7684\u591a\u6001\u6027\u3002\u63a5\u53e3\u7c7b\u578b\u7684\u5bf9\u8c61\uff0c\u4e0d\u80fd\u8bbf\u95ee\u5176\u5b9e\u73b0\u7c7b\u4e2d\u7684\u5c5e\u6027\u5b57\u6bb5\u3002 \u89e3\u91ca\u591a\u6001\u73b0\u8c61\u7684\u6848\u4f8b* package main import \"fmt\" type Income interface { calculate() float64 // \u8ba1\u7b97\u6536\u5165\u603b\u989d source() string // \u7528\u6765\u8bf4\u660e\u6536\u5165\u6765\u6e90 } //\u56fa\u5b9a\u8d26\u5355\u9879\u76ee type FixedBilling struct { projectName string // \u5de5\u7a0b\u9879\u76ee biddedAmount float64 // \u9879\u76ee\u62db\u6807\u603b\u989d } //\u5b9a\u65f6\u751f\u4ea7\u9879\u76ee\uff08\u5b9a\u65f6\u548c\u6750\u6599\u9879\u76ee\uff09 type TimeAndMaterial struct { projectName string workHours float64 // \u5de5\u4f5c\u65f6\u957f hourlyRate float64 // \u6bcf\u5c0f\u65f6\u6548\u7387 } //\u56fa\u5b9a\u8d26\u5355\u9879\u76ee\u5b9e\u73b0\u63a5\u53e3 func (f FixedBilling) calculate() float64{ return f.biddedAmount } func (f FixedBilling) source() string{ return f.projectName } //\u5b9a\u65f6\u6536\u5165\u9879\u76ee\u5b9e\u73b0\u63a5\u53e3 func (t TimeAndMaterial) calculate() float64{ return t.workHours * t.hourlyRate } func (t TimeAndMaterial) source() string{ return t.projectName } // \u901a\u8fc7\u5e7f\u544a\u70b9\u51fb\u83b7\u5f97\u6536\u5165 type Advertisement struct { adName string clickCount int incomePerclick float64 // \u5e73\u5747\u70b9\u51fb\u91cf } // \u901a\u8fc7\u5e7f\u544a\u70b9\u51fb\u83b7\u5f97\u6536\u5165 \u5b9e\u73b0\u63a5\u53e3 func (a Advertisement) calculate() float64{ return float64(a.clickCount) * a.incomePerclick } func (a Advertisement) source() string{ return a.adName } func main() { p1 := FixedBilling{\"\u9879\u76ee1\",5000} p2 := FixedBilling{\"\u9879\u76ee2\",8000} p3 := TimeAndMaterial{\"\u9879\u76ee3\",100,40} p4 := TimeAndMaterial{\"\u9879\u76ee4\",200,30} p5 := Advertisement{\"\u5e7f\u544a1\",10000,0.1} p6 := Advertisement{\"\u5e7f\u544a2\",20000,0.05} ic := []Income{p1,p2,p3,p4,p5,p6} fmt.Println(\"\u51c0\u6536\u5165\u4e3a\uff1a\",calculateNetIncome(ic)) } // \u8ba1\u7b97\u51c0\u6536\u5165 func calculateNetIncome(ic []Income) float64{ netincome := 0.0 for _, income := range ic{ fmt.Printf(\"\u6536\u5165\u6765\u6e90\uff1a%s, \u6536\u5165\u91d1\u989d\uff1a%.2f \\n\",income.source(),income.calculate()) netincome += income.calculate() } return netincome } /* \u6536\u5165\u6765\u6e90\uff1a\u9879\u76ee1, \u6536\u5165\u91d1\u989d\uff1a5000.00 \u6536\u5165\u6765\u6e90\uff1a\u9879\u76ee2, \u6536\u5165\u91d1\u989d\uff1a8000.00 \u6536\u5165\u6765\u6e90\uff1a\u9879\u76ee3, \u6536\u5165\u91d1\u989d\uff1a4000.00 \u6536\u5165\u6765\u6e90\uff1a\u9879\u76ee4, \u6536\u5165\u91d1\u989d\uff1a6000.00 \u6536\u5165\u6765\u6e90\uff1a\u5e7f\u544a1, \u6536\u5165\u91d1\u989d\uff1a1000.00 \u6536\u5165\u6765\u6e90\uff1a\u5e7f\u544a2, \u6536\u5165\u91d1\u989d\uff1a1000.00 \u51c0\u6536\u5165\u4e3a\uff1a 25000 */ \u53ef\u4ee5\u770b\u51fa\uff0c\u5c3d\u7ba1\u6dfb\u52a0\u4e86\u65b0\u7684\u6536\u5165\u65b9\u5f0f\uff0c\u4f46\u6ca1\u6709\u5bf9calculateNetIncome()\u51fd\u6570\u505a\u4efb\u4f55\u66f4\u6539\uff0c\u5168\u9760\u591a\u6001\u6027\u8d77\u4f5c\u7528\u3002 \u7531\u4e8e\u65b0\u7684Advertisement\u7c7b\u578b\u4e5f\u5b9e\u73b0\u4e86Income\u63a5\u53e3\uff0c\u53ef\u4ee5\u5c06\u5b83\u6dfb\u52a0\u5230ic\u5207\u7247\u4e2d\u3002 CalculateNetIncome()\u51fd\u6570\u5728\u6ca1\u6709\u4efb\u4f55\u66f4\u6539\u7684\u60c5\u51b5\u4e0b\u5de5\u4f5c\uff0c\u56e0\u4e3a\u5b83\u53ef\u4ee5\u8c03\u7528Advertisement\u7c7b\u578b\u7684calculate()\u548csource()\u65b9\u6cd5\u3002 \u63a5\u53e3\u4f53\u73b0\u591a\u6001\u7684\u4e24\u79cd\u5f62\u5f0f * 1\u3001\u591a\u6001\u53c2\u6570 \u5728\u524d\u9762\u7684Usb\u63a5\u53e3\u6848\u4f8b\uff0cusb Usb\u65e2\u53ef\u4ee5\u63a5\u6536\u624b\u673a\u53d8\u91cf\uff0c\u53c8\u53ef\u4ee5\u63a5\u6536\u76f8\u673a\u53d8\u91cf\uff0c\u4f53\u73b0\u4e86Usb\u63a5\u53e3\u7684\u591a\u6001\u53c2\u6570\u3002 2\u3001\u591a\u6001\u6570\u7ec4 \u6f14\u793a\u4e00\u4e2a\u6848\u4f8b\uff1a\u7ed9Usb\u6570\u7ec4\u4e2d\u5b58\u653ePhone\u7ed3\u6784\u4f53\u4e0eCamera\u7ed3\u6784\u4f53\u53d8\u91cf\uff1a package main import \"fmt\" // \u58f0\u660e\u4e00\u4e2a\u63a5\u53e3 type Usb interface { Start() Stop() } // 1\u3001Phone\u7ed3\u6784\u4f53 type Phone struct { Name string } // \u8ba9Phone\u5b9e\u73b0Usb\u63a5\u53e3\u7684\u65b9\u6cd5 func (p *Phone) Start() { fmt.Println(\"\u624b\u673a\u5f00\u59cb\u5de5\u4f5c...\") } func (p *Phone) Stop() { fmt.Println(\"\u624b\u673a\u505c\u6b62\u5de5\u4f5c...\") } // 2\u3001Camera\u7ed3\u6784\u4f53 type Camera struct { Name string } // \u8ba9Camera\u5b9e\u73b0Usb\u63a5\u53e3\u7684\u65b9\u6cd5 func (c *Camera) Start() { fmt.Println(\"\u76f8\u673a\u5f00\u59cb\u5de5\u4f5c...\") } func (c *Camera) Stop() { fmt.Println(\"\u76f8\u673a\u505c\u6b62\u5de5\u4f5c...\") } func main() { // \u5b9a\u4e49\u4e00\u4e2aUsb\u7ed3\u6784\u4f53\u7684\u6570\u7ec4\uff0c\u53ef\u4ee5\u5b58\u653ePhone\u548cCamera\u7684\u7ed3\u6784\u4f53\u53d8\u91cf // \u8fd9\u91cc\u5c31\u4f53\u73b0\u4e86\u4e00\u4e2a\u591a\u6001\u6570\u7ec4 var usbArr [3]Usb // \u6ce8\u610f\u8fd9\u91cc\u4f20\uff1a\u7ed3\u6784\u4f53\u6307\u9488\uff01\uff01\uff01 usbArr[0] = &Phone{\"Vivo\"} usbArr[1] = &Phone{\"\u5c0f\u7c73\"} usbArr[2] = &Camera{\"\u5c3c\u5eb7\"} for _, usbObj := range usbArr{ fmt.Println(usbObj) } /* &{Vivo} &{\u5c0f\u7c73} &{\u5c3c\u5eb7} */ } \u7a7a\u63a5\u53e3 * \u7a7a\u63a5\u53e3\u4e2d\u6ca1\u6709\u4efb\u4f55\u65b9\u6cd5\u3002\u4efb\u610f\u7c7b\u578b\u90fd\u53ef\u4ee5\u5b9e\u73b0\u8be5\u63a5\u53e3\u3002\u7a7a\u63a5\u53e3\u8fd9\u6837\u5b9a\u4e49\uff1ainterface{}\uff0c\u4e5f\u5c31\u662f\u5305\u542b0\u4e2a\u65b9\u6cd5\uff08method\uff09\u7684interface\u3002\u7a7a\u63a5\u53e3\u53ef\u8868\u793a\u4efb\u610f\u6570\u636e\u7c7b\u578b\uff0c\u7c7b\u4f3c\u4e8eJava\u4e2d\u7684object\u3002 \u7a7a\u63a5\u53e3\u5e38\u7528\u4e8e\u4ee5\u4e0b\u60c5\u5f62\uff1a println\u7684\u53c2\u6570\u5c31\u662f\u7a7a\u63a5\u53e3\u3002 \u5b9a\u4e49\u4e00\u4e2amap\uff1akey\u662fstring\uff0cvalue\u662f\u4efb\u610f\u6570\u636e\u7c7b\u578b\u3002 \u5b9a\u4e49\u4e00\u4e2a\u5207\u7247\uff0c\u5176\u4e2d\u5b58\u50a8\u4efb\u610f\u7c7b\u578b\u7684\u6570\u636e\uff01\uff01\uff01 \u7a7a\u63a5\u53e3\u7684\u4f7f\u7528\u65b9\u5f0f\uff1a package main import \"fmt\" type A interface { } type Cat struct { name string age int } type Person struct { name string gender string } func main() { var a1 A = Cat{\"Mimi\",1} var a2 A = Person{\"Steven\",\"Male\"} var a3 A = \"Learn golang with me!\" var a4 A = 100 var a5 A = 3.1415926 showInfo(a1)//main.Cat, {Mimi 1} showInfo(a2)//main.Person, {Steven Male} showInfo(a3)//string, Learn golang with me! showInfo(a4)//int, 100 showInfo(a5)//float64, 3.1415926 // 1. fmt.Println() \u53c2\u6570\u5c31\u662f\u7a7a\u63a5\u53e3 fmt.Println(\"Pringln\u7684\u53c2\u6570\u5c31\u662f\u7a7a\u63a5\u53e3,\u53ef\u4ee5\u662f\u4efb\u4f55\u7c7b\u578b\u7684\u6570\u636e\uff01\",100,2.12,Cat{\"Mini2\",2}) /* Pringln\u7684\u53c2\u6570\u5c31\u662f\u7a7a\u63a5\u53e3,\u53ef\u4ee5\u662f\u4efb\u4f55\u7c7b\u578b\u7684\u6570\u636e\uff01 100 2.12 {Mini2 2} */ // 2. \u5b9a\u4e49map,value\u662f\u4efb\u4f55\u7c7b\u578b\u7684\u6570\u636e map1 := make(map[string]interface{}) map1[\"name\"] = \"whw\" map1[\"age\"] = 22 map1[\"height\"] = 1.71 fmt.Println(map1) //map[age:22 height:1.71 name:whw] // 3.\u5b9a\u4e49\u4e00\u4e2a\u5207\u7247\uff0c\u5176\u4e2d\u5b58\u50a8\u4efb\u610f\u7c7b\u578b\u7684\u6570\u636e !!!!! slice := make([]interface{},0,10) slice = append(slice,a1,a2,a3,a4,a5) fmt.Println(slice) //[{Mimi 1} {Steven Male} Learn golang with me! 100 3.1415926] } func showInfo(a A){ fmt.Printf(\"%T, %v \\n\",a,a) } \u5728\u4e0a\u4f8b\u4e2d\uff0c\u53d8\u91cfa1\u3001a2\u3001a3\u3001a4\u3001a5\u5206\u522b\u4e3a\u4e0d\u540c\u7c7b\u578b\u7684\u53d8\u91cf\uff0c\u5b83\u4eec\u5747\u53ef\u4ee5\u5b58\u653e\u5728\u7a7a\u63a5\u53e3\u4e2d\u4f7f\u7528\u3002 \u7a7a\u63a5\u53e3 interface{} \u6ca1\u6709\u4efb\u4f55\u65b9\u6cd5\uff0c *\u6240\u4ee5\u6240\u6709\u7c7b\u578b\u90fd\u5b9e\u73b0\u4e86\u7a7a\u63a5\u53e3 \uff0c\u5373\u6211\u4eec\u53ef\u4ee5\u628a\u4efb\u4f55\u4e00\u4e2a\u53d8\u91cf\u8d4b\u503c\u7ed9\u7a7a\u63a5\u53e3\u3002 package main import \"fmt\" // \u5b9a\u4e49\u4e00\u4e2a\u7a7a\u63a5\u53e3 type T interface { } type Student struct { Name string } func main() { stuObj := Student{ Name: \"wanghw\", } var t1 T = stuObj fmt.Println(t1)//{wanghw} // \u53ef\u4ee5\u91cd\u590d\u8d4b\u503c var t2 T = stuObj t2 = 10.12 t1 = \"hhh\" fmt.Println(t1,t2)//hhh 10.12 } 7.5 \u7c7b\u578b\u65ad\u8a00/\u63a5\u53e3\u5bf9\u8c61\u8f6c\u578b * \u7b2c\u4e00\u79cd\u5b9e\u73b0\u65b9\u5f0f instance, ok := \u63a5\u53e3\u5bf9\u8c61.(\u5b9e\u9645\u7c7b\u578b) \u5982\u679c\u8be5\u63a5\u53e3\u5bf9\u8c61\u662f\u5bf9\u5e94\u7684\u5b9e\u9645\u7c7b\u578b\uff0c\u90a3\u4e48instance\u5c31\u662f\u8f6c\u578b\u4e4b\u540e\u7684\u5bf9\u8c61\uff0cok\u7684\u503c\u4e3atrue\uff0c\u914d\u5408if ... else if...\u8bed\u53e5\u4f7f\u7528\u3002 \u7b2c\u4e8c\u79cd\u5b9e\u73b0\u65b9\u5f0f \u63a5\u53e3\u5bf9\u8c61.[type] \u6b64\u65b9\u5f0f\u914d\u5408switch...case\u8bed\u53e5\u4f7f\u7528\u3002 \u6700\u4f73\u5b9e\u8df5\u4e00\uff1a\u5faa\u73af\u5224\u65ad\u4f20\u5165\u53c2\u6570\u7684\u7c7b\u578b \u63a5\u4e0b\u6765\u901a\u8fc7\u4e00\u4e2a\u6848\u4f8b\u5b9e\u73b0\u63a5\u53e3\u5bf9\u8c61\u8f6c\u578b \uff08\u6ce8\u610f\u4e09\u89d2\u5f62Triangle\u7ed3\u6784\u4f53\u7684\u90a3\u4e2a\u7cfb\u7edf\u63a5\u53e3\uff09\uff1a package main import ( \"fmt\" \"math\" ) // 1.\u5b9a\u4e49\u63a5\u53e3 \u8ba1\u7b97\u5468\u957f\u4e0e\u9762\u79ef type Shape interface { perimeter() float64 area() float64 } // 2.\u77e9\u5f62 type Rectangle struct { a, b float64 } // 3.\u4e09\u89d2\u5f62 type Triangle struct { a, b, c float64 } // 4.\u5706\u5f62 type Circle struct { radius float64 } // \u5b9a\u4e49\u5b9e\u73b0\u63a5\u53e3\u7684\u65b9\u6cd5 // \u77e9\u5f62\u7684\u5468\u957f\u4e0e\u9762\u79ef func (r Rectangle) perimeter() float64{ return (r.a + r.b) * 2 } func (r Rectangle) area() float64 { return r.a * r.b } //\u4e09\u89d2\u5f62\u7684\u5468\u957f\u4e0e\u9762\u79ef func (t Triangle) perimeter() float64{ return t.a + t.b + t.c } func (t Triangle) area() float64{ // \u6d77\u4f26\u516c\u5f0f p := t.perimeter() / 2 //\u534a\u5468\u957f return math.Sqrt(p*(p-t.a) * (p-t.b) * (p-t.c)) } //\u5706\u5f62\u7684\u5468\u957f\u4e0e\u9762\u79ef func (c Circle) perimeter() float64{ return 2 * math.Pi * c.radius } func (c Circle) area() float64{ return math.Pow(c.radius,2) * math.Pi } // \u63a5\u53e3\u5bf9\u8c61\u8f6c\u578b\u65b9\u5f0f1\uff1ainstance, ok := \u63a5\u53e3\u5bf9\u8c61.(\u5b9e\u9645\u7c7b\u578b) func getType(s Shape){ if instance, ok := s.(Rectangle);ok{ fmt.Printf(\"\u77e9\u5f62\uff1a\u957f\u5ea6\u4e3a%.2f\uff0c\u5bbd\u5ea6\u4e3a%.2f \\n\",instance.a,instance.b) }else if instance, ok := s.(Triangle);ok{ fmt.Printf(\"\u4e09\u89d2\u5f62\u5f62\uff1a\u4e09\u6761\u8fb9\u5206\u522b\u4e3a%.2f\uff0c%.2f\uff0c%.2f \\n\",instance.a,instance.b,instance.c) }else if instance, ok := s.(Circle);ok{ fmt.Printf(\"\u5706\u5f62\uff1a\u534a\u5f84\u4e3a%.2f \\n\",instance.radius) } } // \u63a5\u53e3\u5bf9\u8c61\u8f6c\u578b\u65b9\u5f0f2\uff1a\u63a5\u53e3\u5bf9\u8c61.(type),\u914d\u5408switch...case\u8bed\u53e5\u4f7f\u7528 func getType2(s Shape){ switch instance := s.(type) { case Rectangle: fmt.Printf(\"\u77e9\u5f62\uff1a\u957f\u5ea6\u4e3a%.2f\uff0c\u5bbd\u5ea6\u4e3a%.2f \\n\", instance.a, instance.b) case Triangle: fmt.Printf(\"\u4e09\u89d2\u5f62\uff1a\u4e09\u6761\u8fb9\u5206\u522b\u4e3a%.2f\uff0c%.2f\uff0c%.2f \\n\",instance.a,instance.b,instance.c) case Circle: fmt.Printf(\"\u5706\u5f62\uff1a\u534a\u5f84\u4e3a%.2f \\n\",instance.radius) } } func main() { var s Shape s = Rectangle{22,33} getResult(s) showInfo(s) s = Triangle{3,4,5} getResult(s) showInfo(s) s = Circle{1} getResult(s) showInfo(s) x := Triangle{3,4,5} fmt.Println(x) } func getResult(s Shape){ //getType(s) getType2(s) fmt.Printf(\"getResult\u51fd\u6570\u4e2d\uff5e\u5468\u957f\uff1a%.2f\uff0c\u9762\u79ef\uff1a%.2f \\n\", s.perimeter(),s.area()) } // \u5b9e\u73b0\u4e86\u7cfb\u7edf\u63a5\u53e3\uff0c\u6700\u540e\u7684\u6253\u5370\u4f1a\u6539\u53d8 func (t Triangle) String() string{ return fmt.Sprintf(\"Triangle\u5bf9\u8c61\uff0c\u5c5e\u6027\u5206\u522b\u662f\uff1a%.2f, %.2f, %.2f \",t.a,t.b,t.c) } func showInfo(s Shape){ fmt.Printf(\"showInfo\u51fd\u6570\u4e2d\uff5e%T, %v \\n\",s, s) fmt.Println(\"-----------------------------\") } /* \u77e9\u5f62\uff1a\u957f\u5ea6\u4e3a22.00\uff0c\u5bbd\u5ea6\u4e3a33.00 getResult\u51fd\u6570\u4e2d\uff5e\u5468\u957f\uff1a110.00\uff0c\u9762\u79ef\uff1a726.00 showInfo\u51fd\u6570\u4e2d\uff5emain.Rectangle, {22 33} ----------------------------- \u4e09\u89d2\u5f62\uff1a\u4e09\u6761\u8fb9\u5206\u522b\u4e3a3.00\uff0c4.00\uff0c5.00 getResult\u51fd\u6570\u4e2d\uff5e\u5468\u957f\uff1a12.00\uff0c\u9762\u79ef\uff1a6.00 showInfo\u51fd\u6570\u4e2d\uff5emain.Triangle, Triangle\u5bf9\u8c61\uff0c\u5c5e\u6027\u5206\u522b\u662f\uff1a3.00, 4.00, 5.00 ----------------------------- \u5706\u5f62\uff1a\u534a\u5f84\u4e3a1.00 getResult\u51fd\u6570\u4e2d\uff5e\u5468\u957f\uff1a6.28\uff0c\u9762\u79ef\uff1a3.14 showInfo\u51fd\u6570\u4e2d\uff5emain.Circle, {1} ----------------------------- Triangle\u5bf9\u8c61\uff0c\u5c5e\u6027\u5206\u522b\u662f\uff1a3.00, 4.00, 5.00 */ \u6700\u4f73\u5b9e\u8df5\u4e8c\uff1a\u6839\u636e\u4e0d\u540c\u7c7b\u578b\u6267\u884c\u4e0d\u540c\u7684\u65b9\u6cd5 package main import \"fmt\" // \u58f0\u660e\u4e00\u4e2a\u63a5\u53e3 type Usb interface { Start() Stop() } // 1\u3001Phone\u7ed3\u6784\u4f53 type Phone struct { Name string } // \u8ba9Phone\u5b9e\u73b0Usb\u63a5\u53e3\u7684\u65b9\u6cd5 func (p Phone) Start() { fmt.Println(\"\u624b\u673a\u5f00\u59cb\u5de5\u4f5c...\") } func (p Phone) Stop() { fmt.Println(\"\u624b\u673a\u505c\u6b62\u5de5\u4f5c...\") } // Phone\u8fd8\u6709\u4e00\u4e2a\u989d\u5916\u7684\u65b9\u6cd5 func (p Phone) Call(){ fmt.Println(\"\u5f00\u59cb\u6253\u7535\u8bdd...\") } // 2\u3001Camera\u7ed3\u6784\u4f53 type Camera struct { Name string } // \u8ba9Camera\u5b9e\u73b0Usb\u63a5\u53e3\u7684\u65b9\u6cd5 func (c Camera) Start() { fmt.Println(\"\u76f8\u673a\u5f00\u59cb\u5de5\u4f5c...\") } func (c Camera) Stop() { fmt.Println(\"\u76f8\u673a\u505c\u6b62\u5de5\u4f5c...\") } // 3\u3001computer\u7ed3\u6784\u4f53 type Computer struct { } // \u6839\u636e\u4e0d\u540c\u7c7b\u578b\u6267\u884c\u4e0d\u540c\u7684\u65b9\u6cd5 \u2014\u2014\u2014\u2014 \u7c7b\u578b\u65ad\u8a00 func (c *Computer) Working(usb Usb){ // Start usb.Start() // \u5982\u679c\u7c7b\u578b\u662fPhone\uff0c\u6267\u884c\u4e13\u5c5e\u7684Call\u65b9\u6cd5 \u2014\u2014\u2014\u2014 \u6ce8\u610f\u524d\u9762\u7684\u65b9\u6cd5\u5b9a\u4e49\u65f6\u4e0d\u53ef\u4ee5\u4f7f\u7528\u7ed3\u6784\u4f53\u6307\u9488\uff01\uff01\uff01 if phone, ok := usb.(Phone);ok{ phone.Call() }else{ fmt.Println(\"ok>>> \",ok) } // Stop usb.Stop() } func main() { // \u5b9a\u4e49\u4e00\u4e2aUsb\u7ed3\u6784\u4f53\u7684\u6570\u7ec4\uff0c\u53ef\u4ee5\u5b58\u653ePhone\u548cCamera\u7684\u7ed3\u6784\u4f53\u53d8\u91cf // \u8fd9\u91cc\u5c31\u4f53\u73b0\u4e86\u4e00\u4e2a\u591a\u6001\u6570\u7ec4 var usbArr [2]Usb // \u6ce8\u610f\u8fd9\u91cc\u4f20\uff1a\u7ed3\u6784\u4f53\u6307\u9488\uff01\uff01\uff01 usbArr[0] = Phone{\"Vivo\"} usbArr[1] = Camera{\"\u5c0f\u7c73\"} // \u58f0\u660e\u4e00\u4e2acomputer\u53d8\u91cf var comObj Computer for _, usbObj := range usbArr{ // \u6ce8\u610f Phone\u6709\u4e00\u4e2a\u4e13\u5c5e\u7684\u65b9\u6cd5\uff0c\u5982\u679c\u662fPhone\u5bf9\u8c61\uff0c\u5c31\u4f1a\u8c03\u7528call\u65b9\u6cd5 comObj.Working(usbObj) } } /* \u624b\u673a\u5f00\u59cb\u5de5\u4f5c... \u5f00\u59cb\u6253\u7535\u8bdd... \u624b\u673a\u505c\u6b62\u5de5\u4f5c... \u76f8\u673a\u5f00\u59cb\u5de5\u4f5c... ok>>> false \u76f8\u673a\u505c\u6b62\u5de5\u4f5c... */","title":"05 \u7ed3\u6784\u4f53\u63a5\u53e3\u4e0e\u53cd\u5c04"},{"location":"%E5%9F%BA%E7%A1%80/5/#_1","text":"","title":""},{"location":"%E5%9F%BA%E7%A1%80/5/#7-go","text":"","title":"7 Go\u8bed\u8a00\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b *"},{"location":"%E5%9F%BA%E7%A1%80/5/#71-go","text":"\u5176\u4ed6\u7f16\u7a0b\u8bed\u8a00\u5927\u591a\u4f7f\u7528\u5173\u952e\u5b57\u201c\u7c7b\u201d\uff08class\uff09\u6765\u5b9a\u4e49\u5c01\u88c5\u5bf9\u8c61\uff0c\u8868\u793a\u8be5\u7c7b\u7684\u5177\u4f53\u7279\u5f81\uff0c\u7136\u800cGo\u5e76\u4e0d\u662f\u4e00\u4e2a\u7eaf\u9762\u5411\u5bf9\u8c61\u7684\u7f16\u7a0b\u8bed\u8a00\u3002Go\u8bed\u8a00\u91c7\u7528\u66f4\u7075\u6d3b\u7684\u201c\u7ed3\u6784\u4f53\u201d\u66ff\u4ee3\u4e86\u201c\u7c7b\u201d\u3002 Go\u8bed\u8a00\u5e76\u6ca1\u6709\u63d0\u4f9b\u7c7b\uff08class\uff09\uff0c\u4f46\u662f\u5b83\u63d0\u4f9b\u4e86\u7ed3\u6784\u4f53\uff08struct\uff09\uff0c\u65b9\u6cd5\uff08method\uff09\u53ef\u4ee5\u5728\u7ed3\u6784\u4f53\u4e0a\u6dfb\u52a0\u3002\u4e0e\u7c7b\u76f8\u4f3c\uff0c\u7ed3\u6784\u4f53\u63d0\u4f9b\u4e86\u6346\u7ed1\u6570\u636e\u548c\u65b9\u6cd5\u7684\u884c\u4e3a\u3002 Go\u8bed\u8a00\u8bbe\u8ba1\u5f97\u975e\u5e38\u7b80\u6d01\u4f18\u96c5\uff0c\u5b83\u6ca1\u6709\u6cbf\u88ad\u4f20\u7edf\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u4e2d\u7684\u8bf8\u591a\u6982\u5ff5\uff0c\u6bd4\u5982\u7ee7\u627f\u3001\u865a\u65b9\u6cd5\u3001\u6784\u9020\u65b9\u6cd5\u548c\u6790\u6784\u65b9\u6cd5\u7b49\u3002 \u867d\u7136Go\u8bed\u8a00\u6ca1\u6709\u7ee7\u627f\u548c\u591a\u6001\uff0c\u4f46\u662fGo\u8bed\u8a00\u53ef\u4ee5\u901a\u8fc7\u533f\u540d\u5b57\u6bb5\u5b9e\u73b0\u7ee7\u627f\uff0c\u901a\u8fc7\u63a5\u53e3\u5b9e\u73b0\u591a\u6001\u3002 \u5728Go\u8bed\u8a00\u4e2d\u5b66\u4e60\u9762\u5411\u5bf9\u8c61\uff0c\u4e3b\u8981\u5b66\u4e60\u7ed3\u6784\u4f53\uff08struct\uff09\u3001\u65b9\u6cd5\uff08method\uff09\u3001\u63a5\u53e3\uff08interface\uff09\u3002","title":"7.1 Go\u8bed\u8a00\u9762\u5411\u5bf9\u8c61"},{"location":"%E5%9F%BA%E7%A1%80/5/#72","text":"\u5355\u4e00\u7684\u6570\u636e\u7c7b\u578b\u5df2\u7ecf\u6ee1\u8db3\u4e0d\u4e86\u73b0\u5b9e\u5f00\u53d1\u9700\u6c42\uff0c\u4e8e\u662f Go \u8bed\u8a00\u63d0\u4f9b\u4e86\u7ed3\u6784\u4f53\u6765\u5b9a\u4e49\u590d\u6742\u7684\u6570\u636e\u7c7b\u578b\u3002\u7ed3\u6784\u4f53\u662f\u7531\u4e00\u7cfb\u5217\u76f8\u540c\u7c7b\u578b\u6216\u4e0d\u540c\u7c7b\u578b\u7684\u6570\u636e\u6784\u6210\u7684\u6570\u636e\u96c6\u5408\u3002 \u7ed3\u6784\u4f53\u7684\u9876\u5b9a\u4e49\u683c\u5f0f\uff1a type \u7c7b\u578b\u540d struct{ \u6210\u5458\u5c5e\u60271 \u7c7b\u578b1 \u6210\u5458\u5c5e\u60272 \u7c7b\u578b2 \u6210\u5458\u5c5e\u60273,\u6210\u5458\u5c5e\u60274 \u7c7b\u578b3 ... } \u5728\u4f7f\u7528\u7ed3\u6784\u4f53\u7684\u8fc7\u7a0b\u4e2d\u6ce8\u610f\u4ee5\u4e0b3\u70b9: \u7c7b\u578b\u540d\u662f\u6807\u8bc6\u7ed3\u6784\u4f53\u7684\u540d\u79f0\uff0c\u5728\u540c\u4e00\u4e2a\u5305\u5185\u4e0d\u80fd\u91cd\u590d\u3002 \u7ed3\u6784\u4f53\u7684\u5c5e\u6027\uff0c\u4e5f\u53eb\u5b57\u6bb5\uff0c\u5fc5\u987b\u552f\u4e00\u3002 \u540c\u7c7b\u578b\u7684\u6210\u5458\u5c5e\u6027\u53ef\u4ee5\u5199\u5728\u4e00\u884c\u3002 \u7ed3\u6784\u4f53\u7684\u521d\u59cb\u5316 \u7ed3\u6784\u4f53\u7684\u5b9a\u4e49\u53ea\u662f\u4e00\u79cd\u5185\u5b58\u5e03\u5c40\u7684\u63cf\u8ff0\uff0c\u53ea\u6709\u5f53\u7ed3\u6784\u4f53\u5b9e\u4f8b\u5316\u65f6\uff0c\u624d\u4f1a\u771f\u6b63\u5206\u914d\u5185\u5b58\u3002\u56e0\u6b64\u53ea\u6709\u5728\u5b9a\u4e49\u7ed3\u6784\u4f53\u5e76\u5b9e\u4f8b\u5316\u540e\u624d\u80fd\u4f7f\u7528\u7ed3\u6784\u4f53\u3002 \u5b9e\u4f8b\u5316\u5c31\u662f\u6839\u636e\u7ed3\u6784\u4f53\u5b9a\u4e49\u7684\u683c\u5f0f\u521b\u5efa\u4e00\u4efd\u4e0e\u683c\u5f0f\u4e00\u81f4\u7684\u5185\u5b58\u533a\u57df\u3002\u7ed3\u6784\u4f53\u6bcf\u4e2a\u5b9e\u4f8b\u7684\u5185\u5b58\u662f\u5b8c\u5168\u72ec\u7acb\u7684\u3002 package main import \"fmt\" // \u5b9a\u4e49Teacher\u7ed3\u6784\u4f53 type Teacher struct{ name string age int8 sex byte } func main() { // 1. var \u58f0\u660e\u65b9\u5f0f\u5b9e\u4f8b\u5316\u7ed3\u6784\u4f53\uff0c\u521d\u59cb\u5316\u65b9\u5f0f\u4e3a\uff1a\u5bf9\u8c61.\u5c5e\u6027=\u503c var t1 Teacher fmt.Printf(\"t1>>>%T, %v, %q \\n\",t1, t1, t1)//main.Teacher, { 0 0}, {\"\" '\\x00' '\\x00'} t1.name = \"wanghw\" t1.age = 28 t1.sex = 'M' fmt.Printf(\"t1>>>%T, %v, %q \\n\",t1, t1, t1)//main.Teacher, {wanghw 28 77}, {\"wanghw\" '\\x1c' 'M'} // 2. \u53d8\u91cf\u7b80\u77ed\u58f0\u660e\u683c\u5f0f\u5b9e\u4f8b\u5316\u7ed3\u6784\u4f53\uff0c\u521d\u59cb\u5316\u65b9\u5f0f\u4e3a\uff1a\u5bf9\u8c61.\u5c5e\u6027=\u503c t2 := Teacher{} t2.name = \"Naruto\" t2.age = 22 t2.sex = 'M' fmt.Printf(\"t2>>>%T, %v, %q \\n\",t2, t2, t2)//main.Teacher, {Naruto 22 77}, {\"Naruto\" '\\x16' 'M'} // 3. \u53d8\u91cf\u7b80\u77ed\u58f0\u660e\u683c\u5f0f\u5b9e\u4f8b\u5316\u7ed3\u6784\u4f53\uff0c\u58f0\u660e\u65f6\u521d\u59cb\u5316\uff0c\u521d\u59cb\u5316\u65b9\u5f0f\u4e3a\uff1a\u5c5e\u6027:\u503c\uff0c\u5c5e\u6027:\u503c\u53ef\u4ee5\u540c\u884c\uff0c\u4e5f\u53ef\u4ee5\u6362\u884c\uff08\u7c7b\u4f3cmap\u7684\u7528\u6cd5\uff09 t3 := Teacher{ name: \"Sasuke\", age: 23, sex: 'M', } fmt.Printf(\"t3>>>%T, %v, %q \\n\",t3, t3, t3)//main.Teacher, {Sasuke 23 77}, {\"Sasuke\" '\\x17' 'M'} } \u4f7f\u7528new()\u521d\u59cb\u5316\u7ed3\u6784\u4f53\u4e0e\u7ed3\u6784\u4f53\u3001\u6570\u7ec4\u3001\u5207\u7247\u4e2d\u7684\u8bed\u6cd5\u7cd6 \u8bed\u6cd5\u7cd6\uff08Syntactic Sugar\uff09\uff0c\u4e5f\u8bd1\u4e3a\u7cd6\u8863\u8bed\u6cd5\uff0c\u662f\u7531\u82f1\u56fd\u8ba1\u7b97\u673a\u79d1\u5b66\u5bb6\u5f7c\u5f97\u00b7\u7ea6\u7ff0\u00b7\u5170\u8fbe\uff08Peter J. Landin\uff09\u53d1\u660e\u7684\u4e00\u4e2a\u672f\u8bed\uff0c\u6307\u8ba1\u7b97\u673a\u8bed\u8a00\u4e2d\u6dfb\u52a0\u7684\u67d0\u79cd\u8bed\u6cd5\uff0c\u8fd9\u79cd\u8bed\u6cd5\u5bf9\u8bed\u8a00\u7684\u529f\u80fd\u5e76\u6ca1\u6709\u5f71\u54cd\uff0c\u4f46\u662f\u66f4\u65b9\u4fbf\u7a0b\u5e8f\u5458\u4f7f\u7528\u3002 \u901a\u5e38\u6765\u8bf4\u4f7f\u7528\u8bed\u6cd5\u7cd6\u80fd\u591f\u63d0\u5347\u7a0b\u5e8f\u7684\u53ef\u8bfb\u6027\uff0c\u4ece\u800c\u51cf\u5c11\u7a0b\u5e8f\u4ee3\u7801\u51fa\u9519\u7684\u673a\u4f1a\u3002\u7ed3\u6784\u4f53\u548c\u6570\u7ec4\u4e2d\u90fd\u6709\u8bed\u6cd5\u7cd6\u3002 \u4f7f\u7528\u5185\u7f6e\u51fd\u6570new()\u5bf9\u7ed3\u6784\u4f53\u8fdb\u884c\u5b9e\u4f8b\u5316\uff0c\u7ed3\u6784\u4f53\u5b9e\u4f8b\u5316\u540e\u5f62\u6210\u6307\u9488\u7c7b\u578b\u7684\u7ed3\u6784\u4f53\uff0cnew()\u5185\u7f6e\u51fd\u6570\u4f1a\u5206\u914d\u5185\u5b58\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u7c7b\u578b\uff0c\u800c\u4e0d\u662f\u503c\uff0c\u8fd4\u56de\u7684\u503c\u662f\u6307\u5411\u8be5\u7c7b\u578b\u65b0\u5206\u914d\u7684\u96f6\u503c\u7684\u6307\u9488\u3002\u8be5\u51fd\u6570\u7528\u4e8e\u521b\u5efa\u67d0\u4e2a\u7c7b\u578b\u7684\u6307\u9488\u3002 package main import \"fmt\" // \u5b9a\u4e49Teacher\u7ed3\u6784\u4f53 type Teacher struct{ name string age int8 sex byte } func main() { // \u4f7f\u7528new()\u5185\u7f6e\u51fd\u6570\u5b9e\u4f8b\u5316struct t1 := new(Teacher) fmt.Printf(\"t1>>>%T, %v, %q \\n\",t1, t1, t1)//*main.Teacher, &{ 0 0}, &{\"\" '\\x00' '\\x00'} (*t1).name = \"wanghhonwei\" (*t1).age = 22 (*t1).sex = 'M' fmt.Printf(\"t1>>>%T, %v, %q \\n\",t1, t1, t1)//*main.Teacher, &{wanghhonwei 22 77}, &{\"wanghhonwei\" '\\x16' 'M'} // \u8bed\u6cd5\u7cd6\u5199\u6cd5 t1.name = \"Naruto\" t1.age = 28 t1.sex = 'M' fmt.Println(t1)//&{Naruto 28 77} // \u6570\u7ec4\u4e0e\u5207\u7247\u4e2d\u7684\u8bed\u6cd5\u7cd6 SyntacticSugar() } func SyntacticSugar(){ // \u6570\u7ec4\u4e2d\u7684\u8bed\u6cd5\u7cd6 arr := [4]int{12,13,14,15} arr2 := &arr fmt.Println((*arr2)[len(arr)-1]) // 15 fmt.Println(arr2[0])//12 // \u5207\u7247\u4e2d\u7684\u8bed\u6cd5\u7cd6 arr3 := []int{100,200,300,400} arr4 := &arr3 fmt.Println((*arr4)[len(arr)-1]) // 400 } \u7ed3\u6784\u4f53\u662f\u503c\u7c7b\u578b \u7ed3\u6784\u4f53\u4f5c\u4e3a\u51fd\u6570\u53c2\u6570\uff0c\u82e5\u590d\u5236\u4e00\u4efd\u4f20\u9012\u5230\u51fd\u6570\u4e2d\uff0c\u5728\u51fd\u6570\u4e2d\u5bf9\u53c2\u6570\u8fdb\u884c\u4fee\u6539\uff0c\u4e0d\u4f1a\u5f71\u54cd\u5230\u5b9e\u9645\u53c2\u6570\uff0c\u8bc1\u660e\u7ed3\u6784\u4f53\u662f\u503c\u7c7b\u578b\u3002 package main import \"fmt\" // \u5b9a\u4e49Teacher\u7ed3\u6784\u4f53 type Teacher struct{ name string age int8 sex byte } func main() { // 1\u3001\u521d\u59cb\u5316Teacher t1 := Teacher{\"wanghw\",22,'M'} fmt.Printf(\"t1:%T, %v, %p \\n\",t1, t1, &t1)//main.Teacher, {wanghw 22 77}, 0xc00005c420 // 2.\u590d\u5236\u7ed3\u6784\u4f53\u5bf9\u8c61 t2 := t1 t2.name = \"David\" t2.age = 21 t2.sex = 'M' fmt.Printf(\"t2:%T, %v, %p \\n\",t2, t2, &t2)//main.Teacher, {David 21 77}, 0xc00005a4a0 // 3.\u7ed3\u6784\u4f53\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\uff0c\u4fee\u6539t2\u7684name \u2014\u2014\u2014\u2014 \u5b9e\u9645\u4e0a\u4e0d\u4f1a\u6539\u53d8t2\u7684name\u7684\u503c\uff01 changeName(t2) // \u518d\u6253\u5370\u4e00\u4e0bt1 \u4e0et2 fmt.Printf(\"t1:%T, %v, %p \\n\",t1, t1, &t1)//main.Teacher, {wanghw 22 77}, 0xc00005a420 fmt.Printf(\"t2:%T, %v, %p \\n\",t2, t2, &t2)//main.Teacher, {David 21 77}, 0xc00005a4a0 } func changeName(t Teacher){ t.name = \"Sasuke\" fmt.Printf(\"\u5728changeName\u51fd\u6570\u5185\u90e8\u7684t:%T, %v, %p \\n\",t, t, &t)//main.Teacher, {Sasuke 21 77}, 0xc00005a500 } \u7ed3\u6784\u4f53\u7684\u6df1\u62f7\u8d1d\u4e0e\u6d45\u62f7\u8d1d \u503c\u7c7b\u578b\u662f\u6df1\u62f7\u8d1d\uff0c\u6df1\u62f7\u8d1d\u5c31\u662f\u4e3a\u65b0\u7684\u5bf9\u8c61\u5206\u914d\u4e86\u5185\u5b58\u3002\u5f15\u7528\u7c7b\u578b\u662f\u6d45\u62f7\u8d1d\uff0c\u6d45\u62f7\u8d1d\u53ea\u662f\u590d\u5236\u4e86\u5bf9\u8c61\u7684\u6307\u9488\u3002 \u7ed3\u6784\u4f53\u7684\u62f7\u8d1d\u5b9e\u4f8b\uff1a package main import \"fmt\" // \u5b9a\u4e49Teacher\u7ed3\u6784\u4f53 type Dog struct { name string color string age int8 kind string } func main() { //1 \u5b9e\u73b0\u7ed3\u6784\u4f53\u6df1\u62f7\u8d1d //struct \u662f\u503c\u7c7b\u578b\uff0c\u9ed8\u8ba4\u590d\u5236\u5c31\u662f\u6df1\u62f7\u8d1d fmt.Println(\"\u7ed3\u6784\u4f53\u7684\u6df1\u62f7\u8d1d\uff1a\") d1 := Dog{\"\u8c46\u8c46\",\"black\",2,\"\u4e8c\u54c8\"} fmt.Printf(\"d1:%T, %v, %p \\n\",d1, d1, &d1)//main.Dog, {\u8c46\u8c46 black 2 \u4e8c\u54c8}, 0xc00001c180 d2 := d1 // \u6df1\u62f7\u8d1d fmt.Printf(\"d2:%T, %v, %p \\n\",d2, d2, &d2)//main.Dog, {\u8c46\u8c46 black 2 \u4e8c\u54c8}, 0xc00001c240 d2.name = \"\u6bdb\u6bdb\" fmt.Printf(\"d2\u4fee\u6539\u540e:%T, %v, %p \\n\",d2, d2, &d2)//main.Dog, {\u6bdb\u6bdb black 2 \u4e8c\u54c8}, 0xc00001c240 fmt.Printf(\"d1:%T, %v, %p \\n\",d1, d1, &d1)//main.Dog, {\u8c46\u8c46 black 2 \u4e8c\u54c8}, 0xc00001c180 //2 \u5b9e\u73b0\u7ed3\u6784\u4f53\u7684\u6d45\u62f7\u8d1d\uff081\uff09:\u76f4\u63a5\u8d4b\u503c\u6307\u9488\u5730\u5740 fmt.Println(\"\u7ed3\u6784\u4f53\u7684\u6d45\u62f7\u8d1d\uff081\uff09\uff1a\") d3 := &d1 fmt.Printf(\"d3:%T, %v, %p \\n\",d3, d3, &d3)//*main.Dog, &{\u8c46\u8c46 black 2 \u4e8c\u54c8}, 0xc000006030 d3.name = \"\u7403\u7403\" d3.age = 1 d3.color = \"white\" d3.kind = \"\u8428\u6469\u8036\" fmt.Printf(\"d3\u4fee\u6539\u540e:%T, %v, %p \\n\",d3, d3, &d3)//\u4fee\u6539\u540e:*main.Dog, &{\u7403\u7403 white 1 \u8428\u6469\u8036}, 0xc000006030 fmt.Printf(\"d1:%T, %v, %p \\n\",d1, d1, &d1)//main.Dog, {\u7403\u7403 white 1 \u8428\u6469\u8036}, 0xc00001c180 //3 \u5b9e\u73b0\u7ed3\u6784\u4f53\u7684\u6d45\u62f7\u8d1d\uff082\uff09:\u901a\u8fc7new()\u51fd\u6570\u6765\u5b9e\u4f8b\u5316\u5bf9\u8c61 fmt.Println(\"\u7ed3\u6784\u4f53\u7684\u6d45\u62f7\u8d1d\uff082\uff09\uff1a\") d4 := new(Dog) d4.name = \"\u591a\u591a\" d4.age = 1 d4.color = \"white\" d4.kind = \"\u4e8c\u54c8\" d5 := d4 fmt.Printf(\"d4:%T, %v, %p \\n\",d4, d4, &d4)//*main.Dog, &{\u591a\u591a white 1 \u4e8c\u54c8}, 0xc000006038 fmt.Printf(\"d5:%T, %v, %p \\n\",d5, d5, &d5)//*main.Dog, &{\u591a\u591a white 1 \u4e8c\u54c8}, 0xc000006040 // \u4fee\u6539d5 d5.name = \"\u563b\u563b\" d5.color = \"black\" fmt.Printf(\"d5\u4fee\u6539\u540e:%T, %v, %p \\n\",d5, d5, &d5)//*main.Dog, &{\u563b\u563b black 1 \u4e8c\u54c8}, 0xc000006040 fmt.Printf(\"d4:%T, %v, %p \\n\",d4, d4, &d4)//*main.Dog, &{\u563b\u563b black 1 \u4e8c\u54c8}, 0xc000006038 } \u7ed3\u6784\u4f53\u4f5c\u4e3a\u51fd\u6570\u7684\u53c2\u6570\u53ca\u8fd4\u56de\u503c \u7ed3\u6784\u4f53\u4f5c\u4e3a\u51fd\u6570\u7684\u53c2\u6570\u53ca\u8fd4\u56de\u503c\u6709\u4e24\u79cd\u5f62\u5f0f\uff1a\u503c\u4f20\u9012\u548c\u5f15\u7528\u4f20\u9012\uff1a package main import \"fmt\" type Flower struct{ name, color string } func main(){ // 1. \u7ed3\u6784\u4f53\u4f5c\u4e3a\u53c2\u6570\u7684\u7528\u6cd5 f1 := Flower{\"\u73ab\u7470\",\"\u7ea2\"} fmt.Printf(\"f1: %T, %v, %p \\n\", f1, f1, &f1) fmt.Println(\"-----------------------\") // \u5c06\u7ed3\u6784\u4f53\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570 changeInfo1(f1) fmt.Printf(\"f1: %T, %v, %p \\n\", f1, f1, &f1) fmt.Println(\"-----------------------\") // \u5c06\u7ed3\u6784\u4f53\u6307\u9488\u4f5c\u4e3a\u53c2\u6570 changeInfo2(&f1) fmt.Printf(\"f1: %T, %v, %p \\n\", f1, f1, &f1) fmt.Println(\"-----------------------\") // 2. \u7ed3\u6784\u4f53\u4f5c\u4e3a\u8fd4\u56de\u503c\u7684\u7528\u6cd5 // \u7ed3\u6784\u4f53\u5bf9\u8c61\u4f5c\u4e3a\u8fd4\u56de\u503c f2 := getFlower1() f3 := getFlower1() fmt.Println(\"\u66f4\u6539\u524d\uff1a\",f2, f3) fmt.Printf(\"f2\u5730\u5740\u4e3a\uff1a%p\uff0cf3\u5730\u5740\u4e3a%p\\n\",&f2,&f3) // \u5730\u5740\u53d1\u751f\u53d8\u5316\uff0c\u5bf9\u8c61\u53d1\u751f\u4e86\u590d\u5236 f2.name = \"\u674f\u82b1\" fmt.Println(\"\u66f4\u6539\u540e\uff1a\",f2, f3) // \u7ed3\u6784\u4f53\u6307\u9488\u4f5c\u4e3a\u8fd4\u56de\u503c f4 := getFlower2() f5 := getFlower2() fmt.Println(\"\u66f4\u6539\u524d\uff1a\",f4, f5) f4.name = \"\u6843\u82b1\" fmt.Println(\"\u66f4\u6539\u540e\uff1a\",f4, f5) } // \u8fd4\u56de\u7ed3\u6784\u4f53\u5bf9\u8c61 func getFlower1()(f Flower){ f = Flower{\"\u7261\u4e39\",\"\u767d\"} fmt.Printf(\"\u51fd\u6570 getFlower1\u5185f\uff1a%T, %v, %p \\n\", f, f, &f) return } // \u8fd4\u56de\u7ed3\u6784\u4f53\u6307\u9488 func getFlower2()(f *Flower){ //f = &Flower{\"\u8299\u84c9\",\"\u7ea2\"} temp := Flower{\"\u8299\u84c9\",\"\u7ea2\"} fmt.Printf(\"\u51fd\u6570 getFlower2\u5185temp\uff1a%T, %v, %p \\n\", temp, temp, &temp) f = &temp fmt.Printf(\"\u51fd\u6570 getFlower2\u5185f\uff1a%T, %v, %p \\n\", f, f, &f) return } // \u4f20\u7ed3\u6784\u4f53\u5bf9\u8c61 func changeInfo1(f Flower){ f.name = \"\u6708\u5b63\" f.color = \"\u7c89\" fmt.Printf(\"\u51fd\u6570 changeInfo1\u5185f\uff1a%T, %v, %p \\n\", f, f, &f) } // \u4f20\u7ed3\u6784\u4f53\u6307\u9488 func changeInfo2(f *Flower){ f.name = \"\u8537\u8587\" f.color = \"\u7d2b\" fmt.Printf(\"\u51fd\u6570 changeInfo2\u5185f\uff1a%T, %v, %p \\n\", f, f, &f) } /* f1: main.Flower, {\u73ab\u7470 \u7ea2}, 0xc00005a420 ----------------------- \u51fd\u6570 changeInfo1\u5185f\uff1amain.Flower, {\u6708\u5b63 \u7c89}, 0xc00005a4a0 f1: main.Flower, {\u73ab\u7470 \u7ea2}, 0xc00005a420 ----------------------- \u51fd\u6570 changeInfo2\u5185f\uff1a*main.Flower, &{\u8537\u8587 \u7d2b}, 0xc000090020 f1: main.Flower, {\u8537\u8587 \u7d2b}, 0xc00005a420 ----------------------- \u51fd\u6570 getFlower1\u5185f\uff1amain.Flower, {\u7261\u4e39 \u767d}, 0xc00005a5c0 \u51fd\u6570 getFlower1\u5185f\uff1amain.Flower, {\u7261\u4e39 \u767d}, 0xc00005a640 \u66f4\u6539\u524d\uff1a {\u7261\u4e39 \u767d} {\u7261\u4e39 \u767d} f2\u5730\u5740\u4e3a\uff1a0xc00005a5a0\uff0cf3\u5730\u5740\u4e3a0xc00005a620 \u66f4\u6539\u540e\uff1a {\u674f\u82b1 \u767d} {\u7261\u4e39 \u767d} \u51fd\u6570 getFlower2\u5185temp\uff1amain.Flower, {\u8299\u84c9 \u7ea2}, 0xc00005a720 \u51fd\u6570 getFlower2\u5185f\uff1a*main.Flower, &{\u8299\u84c9 \u7ea2}, 0xc000090028 \u51fd\u6570 getFlower2\u5185temp\uff1amain.Flower, {\u8299\u84c9 \u7ea2}, 0xc00005a7a0 \u51fd\u6570 getFlower2\u5185f\uff1a*main.Flower, &{\u8299\u84c9 \u7ea2}, 0xc000090030 \u66f4\u6539\u524d\uff1a &{\u8299\u84c9 \u7ea2} &{\u8299\u84c9 \u7ea2} \u66f4\u6539\u540e\uff1a &{\u6843\u82b1 \u7ea2} &{\u8299\u84c9 \u7ea2} */ \u533f\u540d\u7ed3\u6784\u4f53\u548c\u4e0e\u7ed3\u6784\u4f53\u7684\u533f\u540d\u5b57\u6bb5 1. \u533f\u540d\u7ed3\u6784\u4f53 \u533f\u540d\u7ed3\u6784\u4f53\u5c31\u662f\u6ca1\u6709\u540d\u5b57\u7684\u7ed3\u6784\u4f53\uff0c\u65e0\u987b\u901a\u8fc7type\u5173\u952e\u5b57\u5b9a\u4e49\u5c31\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u3002\u521b\u5efa\u533f\u540d\u7ed3\u6784\u4f53\u65f6\uff0c\u540c\u65f6\u8981\u521b\u5efa\u5bf9\u8c61\u3002 \u533f\u540d\u7ed3\u6784\u4f53\u7531\u7ed3\u6784\u4f53\u5b9a\u4e49\u548c\u952e\u503c\u5bf9\u521d\u59cb\u5316\u4e24\u90e8\u5206\u7ec4\u6210\uff1a \u53d8\u91cf\u540d := struct { // \u5b9a\u4e49\u6210\u5458\u5c5e\u6027 }{ // \u521d\u59cb\u5316\u6210\u5458\u5c5e\u6027 } package main import ( \"fmt\" \"math\" ) func main(){ // \u533f\u540d\u51fd\u6570 res := func(a, b float64) float64{ return math.Pow(a,b) }(2,4) fmt.Println(res) // \u533f\u540d\u7ed3\u6784\u4f53 addr := struct{ province, city string }{\"\u56db\u5ddd\u7701\",\"\u6210\u90fd\u5e02\"} fmt.Println(addr) cat := struct { name, color string age int8 }{name:\"\u82b1\u82b1\",color:\"black\",age:1} fmt.Println(cat) } /* 16 {\u56db\u5ddd\u7701 \u6210\u90fd\u5e02} {\u82b1\u82b1 black 1} */ 2. \u7ed3\u6784\u4f53\u7684\u533f\u540d\u5b57\u6bb5 \u533f\u540d\u5b57\u6bb5\u5c31\u662f\u5728\u7ed3\u6784\u4f53\u4e2d\u7684\u5b57\u6bb5\u6ca1\u6709\u540d\u5b57\uff0c\u53ea\u5305\u542b\u4e00\u4e2a\u6ca1\u6709\u5b57\u6bb5\u540d\u7684\u7c7b\u578b\u3002\u8fd9\u4e9b\u5b57\u6bb5\u88ab\u79f0\u4e3a\u533f\u540d\u5b57\u6bb5\u3002 \u5982\u679c\u5b57\u6bb5\u6ca1\u6709\u540d\u5b57\uff0c\u90a3\u4e48\u9ed8\u8ba4\u4f7f\u7528\u7c7b\u578b\u4f5c\u4e3a\u5b57\u6bb5\u540d\uff0c\u540c\u4e00\u4e2a\u7c7b\u578b\u53ea\u80fd\u6709\u4e00\u4e2a\u533f\u540d\u5b57\u6bb5\u3002\u7ed3\u6784\u4f53\u5d4c\u5957\u4e2d\u91c7\u7528\u533f\u540d\u7ed3\u6784\u4f53\u5b57\u6bb5\u53ef\u4ee5\u6a21\u62df\u7ee7\u627f\u5173\u7cfb\u3002 package main import \"fmt\" type User struct { string byte int8 float64 } func main(){ // \u5b9e\u4f8b\u5316\u7ed3\u6784\u4f53 user := User{\"Steven\",'M',35,178.2} fmt.Println(user) //\u4f9d\u6b21\u8f93\u51fa\u59d3\u540d\u3001\u6027\u522b\u3001\u5e74\u9f84\u3001\u8eab\u9ad8 fmt.Printf(\"\u59d3\u540d\uff1a%s \\n\",user.string) fmt.Printf(\"\u6027\u522b\uff1a%c \\n\",user.byte) fmt.Printf(\"\u5e74\u9f84\uff1a%d \\n\",user.int8) fmt.Printf(\"\u8eab\u9ad8\uff1a%.2f \\n\",user.float64) } /* {Steven 77 35 178.2} \u59d3\u540d\uff1aSteven \u6027\u522b\uff1aM \u5e74\u9f84\uff1a35 \u8eab\u9ad8\uff1a178.20 */ \u7ed3\u6784\u4f53\u5d4c\u5957 \u5c06\u4e00\u4e2a\u7ed3\u6784\u4f53\u4f5c\u4e3a\u53e6\u4e00\u4e2a\u7ed3\u6784\u4f53\u7684\u5c5e\u6027\uff08\u5b57\u6bb5\uff09\uff0c\u8fd9\u79cd\u7ed3\u6784\u5c31\u662f\u7ed3\u6784\u4f53\u5d4c\u5957\u3002 \u7ed3\u6784\u4f53\u5d4c\u5957\u53ef\u4ee5\u6a21\u62df\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u4e2d\u7684\u4ee5\u4e0b\u4e24\u79cd\u5173\u7cfb\uff1a \u805a\u5408\u5173\u7cfb\uff1a\u4e00\u4e2a\u7c7b\u4f5c\u4e3a\u53e6\u4e00\u4e2a\u7c7b\u7684\u5c5e\u6027\u3002 \u7ee7\u627f\u5173\u7cfb\uff1a\u4e00\u4e2a\u7c7b\u4f5c\u4e3a\u53e6\u4e00\u4e2a\u7c7b\u7684\u5b50\u7c7b\u3002\u5b50\u7c7b\u548c\u7236\u7c7b\u7684\u5173\u7cfb\u3002 \u805a\u5408\u5173\u7cfb package main import \"fmt\" type Address struct{ province, city string } type Person struct{ name string age int address *Address } func main() { // \u6a21\u62df\u7ed3\u6784\u4f53\u5bf9\u8c61\u4e4b\u95f4\u7684\u805a\u5408\u5173\u7cfb p := Person{} p.name = \"Wanghongwei\" p.age = 22 // \u8d4b\u503c\u65b9\u5f0f1 addr := Address{ \"Sichuan\",\"\u6210\u90fd\", } p.address = &addr fmt.Println(p) // {Wanghongwei 22 0xc00000c080} fmt.Println(\"\u59d3\u540d:\",p.name,\"\u5e74\u9f84:\",p.age,\"\u7701:\",p.address.province,\"\u5e02:\",p.address.city) // \u59d3\u540d: Wanghongwei \u5e74\u9f84: 22 \u7701: Sichuan \u5e02: \u6210\u90fd // \u4fee\u6539Person\u5bf9\u8c61\u7684\u6570\u636e\uff0c\u4f1a\u5f71\u54cdAddress\u7684\u6570\u636e\uff01\uff01\uff01 p.address.province = \"\u5185\u8499\u53e4\" p.address.city = \"\u5305\u5934\u5e02\" // Person\u7684\u6570\u636e fmt.Println(\"\u59d3\u540d:\",p.name,\"\u5e74\u9f84:\",p.age,\"\u7701:\",p.address.province,\"\u5e02:\",p.address.city) // Address\u7684\u6570\u636e fmt.Println(\"addr\u4e2d\u7684\u7701:\",addr.province,\"\u5e02:\",addr.city) //addr\u4e2d\u7684\u7701: \u5185\u8499\u53e4 \u5e02: \u5305\u5934\u5e02 // \u4fee\u6539Address\u4e2d\u7684\u6570\u636e\uff0c\u4e5f\u4f1a\u5f71\u54cdPerson\u4e2d\u7684\u6570\u636e\uff01\uff01\uff01 addr.province = \"\u5e7f\u4e1c\u7701\" addr.city = \"\u6df1\u5733\u5e02\" fmt.Println(\"\u59d3\u540d:\",p.name,\"\u5e74\u9f84:\",p.age,\"\u7701:\",p.address.province,\"\u5e02:\",p.address.city) // \u59d3\u540d: Wanghongwei \u5e74\u9f84: 22 \u7701: \u5e7f\u4e1c\u7701 \u5e02: \u6df1\u5733\u5e02 // \u8d4b\u503c\u65b9\u5f0f2 p.address = &Address{ province: \"\u9655\u897f\u7701\", city: \"\u897f\u5b89\u5e02\", } fmt.Println(p)//{Wanghongwei 22 0xc0000a6060} fmt.Println(\"\u59d3\u540d:\",p.name,\"\u5e74\u9f84:\",p.age,\"\u7701:\",p.address.province,\"\u5e02:\",p.address.city) // \u59d3\u540d: Wanghongwei \u5e74\u9f84: 22 \u7701: \u9655\u897f\u7701 \u5e02: \u897f\u5b89\u5e02 } \u7ee7\u627f\u5173\u7cfb \u7ee7\u627f\u662f\u4f20\u7edf\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u4e09\u5927\u7279\u5f81\u4e4b\u4e00\uff0c\u7528\u4e8e\u63cf\u8ff0\u4e24\u4e2a\u7c7b\u4e4b\u95f4\u7684\u5173\u7cfb\u3002\u4e00\u4e2a\u7c7b\uff08\u5b50\u7c7b\u3001\u6d3e\u751f\u7c7b\uff09\u7ee7\u627f\u81ea\u53e6\u4e00\u4e2a\u7c7b\uff08\u7236\u7c7b\u3001\u8d85\u7c7b\uff09\u3002 \u5b50\u7c7b\u53ef\u4ee5\u6709\u81ea\u5df1\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u4e5f\u53ef\u4ee5\u91cd\u5199\u7236\u7c7b\u5df2\u6709\u7684\u65b9\u6cd5\u3002\u5b50\u7c7b\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\u7236\u7c7b\u6240\u6709\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 \u5728\u7ed3\u6784\u4f53\u4e2d\uff0c\u5c5e\u4e8e\u533f\u540d\u7ed3\u6784\u4f53\u7684\u5b57\u6bb5\u79f0\u4e3a\u63d0\u5347\u5b57\u6bb5\uff0c\u5b83\u4eec\u53ef\u4ee5\u88ab\u8bbf\u95ee\uff0c\u533f\u540d\u7ed3\u6784\u4f53\u5c31\u50cf\u662f\u8be5\u7ed3\u6784\u4f53\u7684\u7236\u7c7b\u3002 \u91c7\u7528\u533f\u540d\u5b57\u6bb5\u7684\u5f62\u5f0f\u5c31\u662f\u6a21\u62df\u7ee7\u627f\u5173\u7cfb\u3002\u800c\u6a21\u62df\u805a\u5408\u5173\u7cfb\u65f6\u4e00\u5b9a\u8981\u91c7\u7528\u6709\u540d\u5b57\u7684\u7ed3\u6784\u4f53\u4f5c\u4e3a\u5b57\u6bb5\u3002 \u63a5\u4e0b\u6765\u901a\u8fc7\u4e00\u4e2a\u6848\u4f8b\u6765\u7528\u7ed3\u6784\u4f53\u6a21\u62df\u7ee7\u627f\u5173\u7cfb\uff1a package main import \"fmt\" type Person struct { name,gender string age int } type Student struct{ Person schoolName string } func main(){ // 1. \u5b9e\u4f8b\u5316\u5e76\u521d\u59cb\u5316Person p1 := Person{\"WangHongWei\",\"Male\",22} fmt.Println(p1) //{WangHongWei Male 22} // 2. \u5b9e\u529b\u8bdd\u5e76\u521d\u59cb\u5316Student // \u5199\u6cd51\uff1a s1 := Student{p1,\"\u897f\u5357\u4ea4\u901a\u5927\u5b66\"} printInfo(s1) /* {{WangHongWei Male 22} \u897f\u5357\u4ea4\u901a\u5927\u5b66} {Person:{name:WangHongWei gender:Male age:22} schoolName:\u897f\u5357\u4ea4\u901a\u5927\u5b66} \u59d3\u540d:WangHongWei, \u5e74\u9f84:22, \u6027\u522b:Male, \u5b66\u6821:\u897f\u5357\u4ea4\u901a\u5927\u5b66 */ // \u5199\u6cd52\uff1a s2 := Student{Person{\"Josh\",\"Male\",23},\"Method\"} printInfo(s2) /* {{Josh Male 23} Method} {Person:{name:Josh gender:Male age:23} schoolName:Method} \u59d3\u540d:Josh, \u5e74\u9f84:23, \u6027\u522b:Male, \u5b66\u6821:Method */ // \u5199\u6cd53\uff1a s3 := Student{ Person: Person{\"Naruto\",\"Male\",25}, schoolName: \"\u6728\u53f6\u5b66\u6821\", } printInfo(s3) /* {{Naruto Male 25} \u6728\u53f6\u5b66\u6821} {Person:{name:Naruto gender:Male age:25} schoolName:\u6728\u53f6\u5b66\u6821} \u59d3\u540d:Naruto, \u5e74\u9f84:25, \u6027\u522b:Male, \u5b66\u6821:\u6728\u53f6\u5b66\u6821 */ // \u5199\u6cd54\uff1a s4 := Student{} s4.name = \"Sasuke\" s4.gender = \"Male\" s4.age = 25 s4.schoolName = \"\u5927\u86c7\u4e38\u7814\u7a76\u5ba4\" printInfo(s4) /* {{Sasuke Male 25} \u5927\u86c7\u4e38\u7814\u7a76\u5ba4} {Person:{name:Sasuke gender:Male age:25} schoolName:\u5927\u86c7\u4e38\u7814\u7a76\u5ba4} \u59d3\u540d:Sasuke, \u5e74\u9f84:25, \u6027\u522b:Male, \u5b66\u6821:\u5927\u86c7\u4e38\u7814\u7a76\u5ba4 */ } func printInfo(s Student){ fmt.Println(s) fmt.Printf(\"%+v \\n\", s) fmt.Printf(\"\u59d3\u540d:%s, \u5e74\u9f84:%d, \u6027\u522b:%s, \u5b66\u6821:%s \\n\",s.name,s.age,s.gender,s.schoolName) } \u5c3d\u91cf\u907f\u514d\u7ed3\u6784\u4f53\u5d4c\u5957\u65f6\u51fa\u73b0\u76f8\u540c\u7684\u6210\u5458\u540d \u7ed3\u6784\u4f53\u5d4c\u5957\u65f6\uff0c\u53ef\u80fd\u5b58\u5728\u76f8\u540c\u7684\u6210\u5458\u540d\uff0c\u6210\u5458\u91cd\u540d\u4f1a\u5bfc\u81f4\u6210\u5458\u540d\u5b57\u51b2\u7a81\uff01\u9700\u8981\u4f7f\u7528\u4e0b\u9762\u65b9\u5f0f\uff1a package main import \"fmt\" type A struct { a, b int } type B struct { a, d int } // C\u7ee7\u627fA\u4e0eB type C struct { A B } func main(){ c := C{} c.A.a = 1 c.B.a = 2 // \u5982\u679c\u8c03\u7528 c.a = 2 \uff0c\u4f1a\u63d0\u793a \"\u5f15\u8d77\u6b67\u4e49\u7684\u53c2\u6570\"\uff01\uff01\uff01 c.b = 3 c.d = 4 fmt.Println(c) //{{1 3} {2 4}} } \u5f53\u91cd\u540d\u65f6\uff0c\u7f16\u8bd1\u5668\u4f1a\u62a5\u9519\uff1aAmbiguous reference\u3002","title":"7.2 \u7ed3\u6784\u4f53 ***"},{"location":"%E5%9F%BA%E7%A1%80/5/#73","text":"\u65b9\u6cd5\u7684\u6982\u5ff5 Go\u8bed\u8a00\u540c\u65f6\u6709\u51fd\u6570\u548c\u65b9\u6cd5\uff0c\u65b9\u6cd5\u7684\u672c\u8d28\u662f\u51fd\u6570\uff0c\u4f46\u662f\u65b9\u6cd5\u548c\u51fd\u6570\u53c8\u6709\u6240\u4e0d\u540c\u3002 1. \u542b\u4e49\u4e0d\u540c \u51fd\u6570\uff08function\uff09\u662f\u4e00\u6bb5\u5177\u6709\u72ec\u7acb\u529f\u80fd\u7684\u4ee3\u7801\uff0c\u53ef\u4ee5\u88ab\u53cd\u590d\u591a\u6b21\u8c03\u7528\uff0c\u4ece\u800c\u5b9e\u73b0\u4ee3\u7801\u590d\u7528\u3002\u800c\u65b9\u6cd5\uff08method\uff09\u662f\u4e00\u4e2a\u7c7b\u7684\u884c\u4e3a\u529f\u80fd\uff0c\u53ea\u6709\u8be5\u7c7b\u7684\u5bf9\u8c61\u624d\u80fd\u8c03\u7528\u3002 2. \u65b9\u6cd5\u6709\u63a5\u53d7\u8005\uff0c\u800c\u51fd\u6570\u65e0\u63a5\u53d7\u8005 Go\u8bed\u8a00\u7684\u65b9\u6cd5\uff08method\uff09\u662f\u4e00\u79cd\u4f5c\u7528\u4e8e\u7279\u5b9a\u7c7b\u578b\u53d8\u91cf\u7684\u51fd\u6570\u3002\u8fd9\u79cd\u7279\u5b9a\u7c7b\u578b\u53d8\u91cf\u53eb\u4f5c\u63a5\u53d7\u8005\uff08receiver\uff09\u3002 \u63a5\u53d7\u8005\u7684\u6982\u5ff5\u7c7b\u4f3c\u4e8e\u4f20\u7edf\u9762\u5411\u5bf9\u8c61\u8bed\u8a00\u4e2d\u7684this\u6216self\u5173\u952e\u5b57\u3002 Go\u8bed\u8a00\u7684\u63a5\u53d7\u8005\u5f3a\u8c03\u4e86\u65b9\u6cd5\u5177\u6709\u4f5c\u7528\u5bf9\u8c61\uff0c\u800c\u51fd\u6570\u6ca1\u6709\u4f5c\u7528\u5bf9\u8c61\u3002\u4e00\u4e2a\u65b9\u6cd5\u5c31\u662f\u4e00\u4e2a\u5305\u542b\u4e86\u63a5\u53d7\u8005\u7684\u51fd\u6570\u3002 Go\u8bed\u8a00\u4e2d\uff0c\u63a5\u53d7\u8005\u53ef\u4ee5\u662f\u7ed3\u6784\u4f53\uff0c\u4e5f\u53ef\u4ee5\u662f\u7ed3\u6784\u4f53\u7c7b\u578b\u5916\u7684\u5176\u4ed6\u4efb\u4f55\u7c7b\u578b\u3002 3. \u51fd\u6570\u4e0d\u53ef\u4ee5\u91cd\u540d\uff0c\u800c\u65b9\u6cd5\u53ef\u4ee5\u91cd\u540d \u53ea\u8981\u63a5\u53d7\u8005\u4e0d\u540c\uff0c\u65b9\u6cd5\u540d\u5c31\u53ef\u4ee5\u76f8\u540c\u3002 \u57fa\u672c\u8bed\u6cd5 func (\u63a5\u53d7\u8005\u53d8\u91cf \u63a5\u53d7\u8005\u7c7b\u578b) \u65b9\u6cd5\u540d(\u53c2\u6570\u5217\u8868) (\u8fd4\u56de\u503c\u5217\u8868){ // \u65b9\u6cd5\u4f53 } \u63a5\u53d7\u8005\u5728func\u5173\u952e\u5b57\u548c\u65b9\u6cd5\u540d\u4e4b\u95f4\u7f16\u5199\uff0c\u63a5\u53d7\u8005\u53ef\u4ee5\u662fstruct\u7c7b\u578b\u6216\u975estruct\u7c7b\u578b\uff0c\u53ef\u4ee5\u662f\u6307\u9488\u7c7b\u578b\u6216\u975e\u6307\u9488\u7c7b\u578b\u3002 \u63a5\u53d7\u8005\u4e2d\u7684\u53d8\u91cf\u5728\u547d\u540d\u65f6\uff0c\u5b98\u65b9\u5efa\u8bae\u4f7f\u7528\u63a5\u53d7\u8005\u7c7b\u578b\u7684\u7b2c\u4e00\u4e2a\u5c0f\u5199\u5b57\u6bcd\u3002\u4e0b\u9762\u901a\u8fc7\u4e00\u4e2a\u6848\u4f8b\u5bf9\u6bd4\u51fd\u6570\u548c\u65b9\u6cd5\u5728\u8bed\u6cd5\u4e0a\u7684\u533a\u522b\uff1a package main import \"fmt\" type Employee struct{ name, currency string salary float64 } func main(){ emp1 := Employee{\"David\",\"$\",2000} // \u65b9\u6cd5\u7684\u8c03\u7528 emp1.printSalary() //\u5458\u5de5\uff1aDavid\uff0c\u85aa\u8d44\uff1a$2000.00 // \u8c03\u7528\u51fd\u6570 printSalary(emp1) //\u5458\u5de5\uff1aDavid\uff0c\u85aa\u8d44\uff1a$2000.00 } // printSalary \u65b9\u6cd5 func (e Employee) printSalary(){ fmt.Printf(\"\u5458\u5de5\uff1a%s\uff0c\u85aa\u8d44\uff1a%s%.2f \\n\",e.name,e.currency,e.salary) } // printSalary \u51fd\u6570 func printSalary(e Employee){ fmt.Printf(\"\u5458\u5de5\uff1a%s\uff0c\u85aa\u8d44\uff1a%s%.2f \\n\",e.name,e.currency,e.salary) } \u65b9\u6cd5\u548c\u51fd\u6570 \u4e00\u6bb5\u7a0b\u5e8f\u53ef\u4ee5\u7528\u51fd\u6570\u6765\u5199\uff0c\u5374\u8fd8\u8981\u4f7f\u7528\u65b9\u6cd5\uff0c\u4e3b\u8981\u6709\u4ee5\u4e0b\u4e24\u4e2a\u539f\u56e0\uff1a Go\u4e0d\u662f\u4e00\u79cd\u7eaf\u7cb9\u9762\u5411\u5bf9\u8c61\u7684\u7f16\u7a0b\u8bed\u8a00\uff0c\u5b83\u4e0d\u652f\u6301\u7c7b\u3002\u56e0\u6b64\u5176\u65b9\u6cd5\u65e8\u5728\u5b9e\u73b0\u7c7b\u4f3c\u4e8e\u7c7b\u7684\u884c\u4e3a\u3002 \u76f8\u540c\u540d\u79f0\u7684\u65b9\u6cd5\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u7c7b\u578b\u4e0a\u5b9a\u4e49\uff0c\u800c\u5177\u6709\u76f8\u540c\u540d\u79f0\u7684\u51fd\u6570\u662f\u4e0d\u5141\u8bb8\u7684\u3002\u5047\u8bbe\u6709\u4e00\u4e2a\u6b63\u65b9\u5f62\u548c\u4e00\u4e2a\u5706\u5f62\uff0c\u53ef\u4ee5\u5206\u522b\u5728\u6b63\u65b9\u5f62\u548c\u5706\u5f62\u4e0a\u5b9a\u4e49\u4e00\u4e2a\u540d\u4e3aArea\u7684\u6c42\u53d6\u9762\u79ef\u7684\u65b9\u6cd5\u3002 \u4e0b\u9762\u901a\u8fc7\u4e00\u4e2a\u6848\u4f8b\u6765\u89c2\u5bdf\u4e0d\u540c\u7684\u7ed3\u6784\u4f53\u4e2d\u76f8\u540c\u7684\u65b9\u6cd5\u540d\uff1a \u76f8\u540c\u65b9\u6cd5\u540d\uff1a package main import ( \"fmt\" \"math\" ) type Rectangle struct { width, height float64 } type Circle struct { radius float64 } func main(){ r1 := Rectangle{10,4} c1 := Circle{1} fmt.Println(\"r1\u7684\u9762\u79ef\uff1a\",r1.Area()) fmt.Println(\"c1\u7684\u9762\u79ef\uff1a\",c1.Area()) } // \u5b9a\u4e49\u7ed3\u6784\u4f53Rectangle\u7684 Area \u65b9\u6cd5 func (r Rectangle) Area() float64{ return r.width * r.height } // \u5b9a\u4e49\u7ed3\u6784\u4f53Circle\u7684 Area\u65b9\u6cd5 func (c Circle) Area() float64{ return c.radius * c.radius * math.Pi } \u6307\u9488\u4f5c\u4e3a\u63a5\u53d7\u8005\uff1a \u82e5\u65b9\u6cd5\u7684\u63a5\u53d7\u8005\u4e0d\u662f\u6307\u9488\uff0c\u5b9e\u9645\u53ea\u662f\u83b7\u53d6\u4e86\u4e00\u4e2a\u62f7\u8d1d\uff0c\u800c \u4e0d\u80fd\u771f\u6b63\u6539\u53d8\u63a5\u53d7\u8005\u4e2d\u539f\u6765\u7684\u6570\u636e \u3002\u5f53\u6307\u9488\u4f5c\u4e3a\u63a5\u53d7\u8005\u65f6\uff0c\u60c5\u51b5\u5982\u4e0b\uff1a package main import \"fmt\" type Rectangle struct { width, height float64 } func main() { r1 := Rectangle{5,8} r2 := r1 // \u6253\u5370\u5bf9\u8c61\u7684\u5185\u5b58\u5730\u5740 fmt.Printf(\"r1\u7684\u5730\u5740\uff1a%p \\n\",&r1)//r1\u7684\u5730\u5740\uff1a0xc0000b4010 fmt.Printf(\"r2\u7684\u5730\u5740\uff1a%p \\n\",&r2)//r2\u7684\u5730\u5740\uff1a0xc0000b4020 r1.setValue()//setValue\u65b9\u6cd5\u4e2dr\u7684\u5730\u5740\uff1a0xc0000b4040 fmt.Println(\"r1.height=\",r1.height)//8 fmt.Println(\"r2.height=\",r2.height)//8 r1.setValue2()//setValue2\u65b9\u6cd5\u4e2dr\u7684\u5730\u5740\uff1a0xc0000b4010 fmt.Println(\"r1.height=\",r1.height)//666 fmt.Println(\"r2.height=\",r2.height)//8 } // \u5c06\u7ed3\u6784\u4f53\u4f5c\u4e3a\u63a5\u53d7\u8005 \u2014\u2014 \u4e0d\u4f1a\u6539\u53d8\u539f\u59cb\u6570\u636e func (r Rectangle) setValue(){ fmt.Printf(\"setValue\u65b9\u6cd5\u4e2dr\u7684\u5730\u5740\uff1a%p \\n\",&r) r.height = 123 } // \u5c06\u6307\u9488\u4f5c\u4e3a\u63a5\u53d7\u8005 \u2014\u2014 \u4f1a\u6539\u53d8\u539f\u59cb\u6570\u636e \u2014\u2014 \u6ce8\u610fr\u672c\u8eab\u662f\u4e00\u4e2a\u6307\u9488 func (r *Rectangle) setValue2(){ fmt.Printf(\"setValue2\u65b9\u6cd5\u4e2dr\u7684\u5730\u5740\uff1a%p \\n\",r) r.height = 666 } \u65b9\u6cd5\u7ee7\u627f \u65b9\u6cd5\u662f\u53ef\u4ee5\u7ee7\u627f\u7684\uff0c\u5982\u679c\u533f\u540d\u5b57\u6bb5\u5b9e\u73b0\u4e86\u4e00\u4e2a\u65b9\u6cd5\uff0c\u90a3\u4e48\u5305\u542b\u8fd9\u4e2a\u533f\u540d\u5b57\u6bb5\u7684struct\u4e5f\u80fd\u8c03\u7528\u8be5\u533f\u540d\u5b57\u6bb5\u4e2d\u7684\u65b9\u6cd5\u3002 package main import \"fmt\" type Human struct { name, phone string age int } type Student struct { Human // \u533f\u540d\u5b57\u6bb5 school string } type Employee struct { Human // \u533f\u540d\u5b57\u6bb5 company string } func main(){ s1 := Student{Human{\"David\",\"1553322xxxx\",23},\"xinan\"} e1 := Employee{Human{\"Steven\",\"1323344xxxx\",22},\"nanxi\"} // \u8c03\u7528\u7236\u7ed3\u6784\u4f53\u7684\u65b9\u6cd5 s1.SayHi() e1.SayHi() } func (h *Human) SayHi(){ fmt.Printf(\"\u5728Human\u7684SayHi\u65b9\u6cd5\u4e2d\uff1a\u6211\u662f %s,\u8054\u7cfb\u65b9\u5f0f\u662f\uff1a%s,\u5e74\u9f84\u662f\uff1a%d \\n\",h.name,h.phone,h.age) } /* \u5728Human\u7684SayHi\u65b9\u6cd5\u4e2d\uff1a\u6211\u662f David,\u8054\u7cfb\u65b9\u5f0f\u662f\uff1a1553322xxxx,\u5e74\u9f84\u662f\uff1a23 \u5728Human\u7684SayHi\u65b9\u6cd5\u4e2d\uff1a\u6211\u662f Steven,\u8054\u7cfb\u65b9\u5f0f\u662f\uff1a1323344xxxx,\u5e74\u9f84\u662f\uff1a22 */ \u65b9\u6cd5\u91cd\u5199 \u5728Go\u8bed\u8a00\u4e2d\uff0c\u65b9\u6cd5\u91cd\u5199\u662f\u6307\u4e00\u4e2a\u5305\u542b\u4e86\u533f\u540d\u5b57\u6bb5\u7684struct\u4e5f\u5b9e\u73b0\u4e86\u8be5\u533f\u540d\u5b57\u6bb5\u5b9e\u73b0\u7684\u65b9\u6cd5\u3002 \u5f53\u7ed3\u6784\u4f53\u5b58\u5728\u7ee7\u627f\u5173\u7cfb\u65f6\uff0c\u65b9\u6cd5\u8c03\u7528\u6309\u7167\u5c31\u8fd1\u539f\u5219\u3002 package main import \"fmt\" type Human struct { name, phone string age int } type Student struct { Human // \u533f\u540d\u5b57\u6bb5 school string } type Employee struct { Human // \u533f\u540d\u5b57\u6bb5 company string } func main(){ s1 := Student{Human{\"David\",\"1553322xxxx\",23},\"xinan\"} e1 := Employee{Human{\"Steven\",\"1323344xxxx\",22},\"nanxi\"} // \u8c03\u7528\u7236\u7ed3\u6784\u4f53\u7684\u65b9\u6cd5 s1.SayHi() e1.SayHi() } func (h *Human) SayHi(){ fmt.Printf(\"\u5728Human\u7684SayHi\u65b9\u6cd5\u4e2d\uff1a\u6211\u662f %s,\u8054\u7cfb\u65b9\u5f0f\u662f\uff1a%s,\u5e74\u9f84\u662f\uff1a%d \\n\",h.name,h.phone,h.age) } func (s *Student) SayHi(){ fmt.Printf(\"\u5728Student\u7684SayHi\u65b9\u6cd5\u4e2d\uff1a\u6211\u662f %s,\u8054\u7cfb\u65b9\u5f0f\u662f\uff1a%s,\u5e74\u9f84\u662f\uff1a%d \\n\",s.name,s.phone,s.age) } func (e Employee) SayHi(){ fmt.Printf(\"\u5728Employee\u7684SayHi\u65b9\u6cd5\u4e2d\uff1a\u6211\u662f %s,\u8054\u7cfb\u65b9\u5f0f\u662f\uff1a%s,\u5e74\u9f84\u662f\uff1a%d \\n\",e.name,e.phone,e.age) } /* \u5728Student\u7684SayHi\u65b9\u6cd5\u4e2d\uff1a\u6211\u662f David,\u8054\u7cfb\u65b9\u5f0f\u662f\uff1a1553322xxxx,\u5e74\u9f84\u662f\uff1a23 \u5728Employee\u7684SayHi\u65b9\u6cd5\u4e2d\uff1a\u6211\u662f Steven,\u8054\u7cfb\u65b9\u5f0f\u662f\uff1a1323344xxxx,\u5e74\u9f84\u662f\uff1a22 */","title":"7.3 \u65b9\u6cd5 ***"},{"location":"%E5%9F%BA%E7%A1%80/5/#74","text":"","title":"7.4 \u63a5\u53e3 ***"},{"location":"%E5%9F%BA%E7%A1%80/5/#_2","text":"\u9762\u5411\u5bf9\u8c61\u8bed\u8a00\u4e2d\uff0c\u63a5\u53e3\u7528\u4e8e\u5b9a\u4e49\u5bf9\u8c61\u7684\u884c\u4e3a\u3002\u63a5\u53e3\u53ea\u6307\u5b9a\u5bf9\u8c61\u5e94\u8be5\u505a\u4ec0\u4e48\uff0c\u5b9e\u73b0\u8fd9\u79cd\u884c\u4e3a\u7684\u65b9\u5f0f\uff08\u5b9e\u73b0\u7ec6\u8282\uff09\u7531\u5bf9\u8c61\u6765\u51b3\u5b9a\u3002 \u5728Go\u8bed\u8a00\u4e2d\uff0c\u63a5\u53e3\u662f\u4e00\u7ec4\u65b9\u6cd5\u7b7e\u540d\u3002 \u63a5\u53e3\u6307\u5b9a\u4e86\u7c7b\u578b\u5e94\u8be5\u5177\u6709\u7684\u65b9\u6cd5\uff0c\u7c7b\u578b\u51b3\u5b9a\u4e86\u5982\u4f55\u5b9e\u73b0\u8fd9\u4e9b\u65b9\u6cd5\u3002 \u5f53\u67d0\u4e2a\u7c7b\u578b\u4e3a\u63a5\u53e3\u4e2d\u7684\u6240\u6709\u65b9\u6cd5\u63d0\u4f9b\u4e86\u5177\u4f53\u7684\u5b9e\u73b0\u7ec6\u8282\u65f6\uff0c\u8fd9\u4e2a\u7c7b\u578b\u5c31\u88ab\u79f0\u4e3a\u5b9e\u73b0\u4e86\u8be5\u63a5\u53e3\u3002 \u63a5\u53e3\u5b9a\u4e49\u4e86\u4e00\u7ec4\u65b9\u6cd5\uff0c\u5982\u679c\u67d0\u4e2a\u5bf9\u8c61\u5b9e\u73b0\u4e86\u8be5\u63a5\u53e3\u7684\u6240\u6709\u65b9\u6cd5\uff0c\u5219\u6b64\u5bf9\u8c61\u5c31\u5b9e\u73b0\u4e86\u8be5\u63a5\u53e3\u3002 Go\u8bed\u8a00\u7684\u7c7b\u578b\u90fd\u662f\u9690\u5f0f\u5b9e\u73b0\u63a5\u53e3\u7684\u3002\u4efb\u4f55\u5b9a\u4e49\u4e86\u63a5\u53e3\u4e2d\u6240\u6709\u65b9\u6cd5\u7684\u7c7b\u578b\u90fd\u88ab\u79f0\u4e3a\u9690\u5f0f\u5730\u5b9e\u73b0\u4e86\u8be5\u63a5\u53e3\u3002 \u63a5\u53e3\u7684\u5b9a\u4e49\u4e0e\u5b9e\u73b0 \u5b9a\u4e49\u63a5\u53e3\u7684\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\uff1a type \u63a5\u53e3\u540d interface { \u65b9\u6cd51([\u53c2\u6570\u5217\u8868]) [\u8fd4\u56de\u503c] \u65b9\u6cd52([\u53c2\u6570\u5217\u8868]) [\u8fd4\u56de\u503c] ... \u65b9\u6cd5n([\u53c2\u6570\u5217\u8868]) [\u8fd4\u56de\u503c] } \u5b9e\u73b0\u63a5\u53e3\u65b9\u6cd5\u7684\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\uff1a func (\u53d8\u91cf\u540d \u7ed3\u6784\u4f53\u7c7b\u578b) \u65b9\u6cd51([\u53c2\u6570\u5217\u8868]) [\u8fd4\u56de\u503c] { // \u65b9\u6cd5\u4f53 } func (\u53d8\u91cf\u540d \u7ed3\u6784\u4f53\u7c7b\u578b) \u65b9\u6cd52([\u53c2\u6570\u5217\u8868]) [\u8fd4\u56de\u503c] { // \u65b9\u6cd5\u4f53 } ... func (\u53d8\u91cf\u540d \u7ed3\u6784\u4f53\u7c7b\u578b) \u65b9\u6cd5n([\u53c2\u6570\u5217\u8868]) [\u8fd4\u56de\u503c] { // \u65b9\u6cd5\u4f53 } \u4f7f\u7528\u6848\u4f8b\u5982\u4e0b\uff1a package main import \"fmt\" // \u58f0\u660e/\u5b9a\u4e49\u4e00\u4e2a\u63a5\u53e3 type Usb interface { // \u58f0\u660e2\u4e2a\u6ca1\u6709\u5b9e\u73b0\u7684\u65b9\u6cd5 Start() Stop() } // 1\u3001Phone\u7ed3\u6784\u4f53 type Phone struct { } // \u8ba9Phone\u5b9e\u73b0Usb\u63a5\u53e3\u7684\u65b9\u6cd5 func (p *Phone) Start() { fmt.Println(\"\u624b\u673a\u5f00\u59cb\u5de5\u4f5c...\") } func (p *Phone) Stop() { fmt.Println(\"\u624b\u673a\u505c\u6b62\u5de5\u4f5c...\") } // 2\u3001Camera\u7ed3\u6784\u4f53 type Camera struct { } // \u8ba9Camera\u5b9e\u73b0Usb\u63a5\u53e3\u7684\u65b9\u6cd5 func (c *Camera) Start() { fmt.Println(\"\u76f8\u673a\u5f00\u59cb\u5de5\u4f5c...\") } func (c *Camera) Stop() { fmt.Println(\"\u76f8\u673a\u505c\u6b62\u5de5\u4f5c...\") } // 3\u3001\u8ba1\u7b97\u673a\u7ed3\u6784\u4f53 *** type Computer struct { } // \u7f16\u5199\u4e00\u4e2a\u65b9\u6cd5Working\uff0c\u63a5\u6536\u4e00\u4e2aUsb\u63a5\u53e3\u7c7b\u578b\u53d8\u91cf // \u53ea\u8981\u662f\u5b9e\u73b0\u4e86Usb\u63a5\u53e3\uff08\u6240\u8c13\u5b9e\u73b0Usb\u63a5\u53e3\u5176\u5b9e\u5c31\u662f\u5b9e\u73b0\u4e86Usb\u63a5\u53e3\u58f0\u660e\u7684\"\u6240\u6709\u65b9\u6cd5\"\uff09 func (c Computer) Working(u Usb) { // u\u53d8\u91cf\u6216\u6839\u636e\u4f20\u5165\u7684\u5b9e\u53c2\uff0c\u6765\u5224\u65ad\u5230\u5e95\u662fPhone\u8fd8\u662fCamera // \u901a\u8fc7u\u63a5\u53e3\u53d8\u91cf\u6765\u8c03\u7528Start\u4e0eStop\u65b9\u6cd5 u.Start() u.Stop() } func main() { // \u5148\u521b\u5efa\u7ed3\u6784\u4f53\u53d8\u91cf computerObj := Computer{} phoneObj := Phone{} cameraObj := Camera{} // \u5173\u952e\u70b9 computerObj.Working(&phoneObj) computerObj.Working(&cameraObj) /* \u624b\u673a\u5f00\u59cb\u5de5\u4f5c... \u624b\u673a\u505c\u6b62\u5de5\u4f5c... \u76f8\u673a\u5f00\u59cb\u5de5\u4f5c... \u76f8\u673a\u505c\u6b62\u5de5\u4f5c... */ }","title":"\u6982\u5ff5\u53ca\u4ee3\u7801\u6f14\u793a"},{"location":"%E5%9F%BA%E7%A1%80/5/#_3","text":"interface\u7c7b\u578b\u53ef\u4ee5\u5b9a\u4e49\u4e00\u7ec4\u65b9\u6cd5\uff0c\u4f46\u662f\u8fd9\u4e9b\u4e0d\u9700\u8981\u5b9e\u73b0\u3002\u5e76\u4e14interface\u4e0d\u80fd\u5305\u542b\u4efb\u4f55\u53d8\u91cf\u3002\u5230\u67d0\u4e2a\u81ea\u5b9a\u4e49\u7c7b\u578b\uff08\u6bd4\u5982\u7ed3\u6784\u4f53Phone\uff09\u8981\u4f7f\u7528\u7684\u65f6\u5019\uff0c\u5728\u6839\u636e\u5177\u4f53\u60c5\u51b5\u628a\u8fd9\u4e9b\u65b9\u6cd5\u5199\u51fa\u6765\uff08\u5b9e\u73b0\u63a5\u53e3\uff09\u3002 \uff081\uff09\u63a5\u53e3\u91cc\u7684 \u6240\u6709\u65b9\u6cd5\u90fd\u6ca1\u6709\u65b9\u6cd5\u4f53 \uff0c\u5373\u63a5\u53e3\u7684\u65b9\u6cd5\u90fd\u662f\u6ca1\u6709\u5b9e\u73b0\u7684\u65b9\u6cd5\u3002\u63a5\u53e3\u4f53\u73b0\u4e86\u7a0b\u5e8f\u8bbe\u8ba1\u7684 \u591a\u6001 \u548c \u9ad8\u5185\u805a\u4f4e\u8026\u5408 \u7684\u601d\u60f3\u3002 \uff082\uff09Golang\u4e2d\u7684\u63a5\u53e3\uff0c\u4e0d\u9700\u8981\u663e\u5f0f\u7684\u5b9e\u73b0\u3002\u53ea\u8981\u4e00\u4e2a\u53d8\u91cf\uff08\u6bd4\u5982\u7ed3\u6784\u4f53\u53d8\u91cf\uff09\uff0c\u542b\u6709\u63a5\u53e3\u7c7b\u578b\u4e2d\u7684\u65b9\u6cd5\uff0c\u90a3\u4e48\u8fd9\u4e2a\u53d8\u91cf\u5c31\u5b9e\u73b0\u4e86\u8fd9\u4e2a\u63a5\u53e3\u3002 \uff083\uff09\u63a5\u53e3\u672c\u8eab\u4e0d\u80fd\u521b\u5efa\u5b9e\u4f8b\uff0c\u4f46\u662f \u53ef\u4ee5\u6307\u5411\u4e00\u4e2a\u5b9e\u73b0\u4e86\u8be5\u63a5\u53e3\u7684\u81ea\u5b9a\u4e49\u7c7b\u578b\u7684\u53d8\u91cf \uff08\u5b9e\u4f8b\uff09\uff1a package main import \"fmt\" type AInterface interface { Say() string } // \u5b9a\u4e49\u4e00\u4e2a\u7ed3\u6784\u4f53\u5b9e\u73b0\u4e0a\u9762\u7684\u63a5\u53e3 type Student struct { Name string } func (s *Student) Say() string{ return fmt.Sprintf(\"My name is %s \\n\",s.Name) } func main() { stuObj := Student{ Name: \"Naruto\", } // \u6307\u5411\u5b9e\u73b0\u8be5\u63a5\u53e3\u7684\u53d8\u91cf \u7279\u522b\u6ce8\u610f\uff01\u53f3\u8fb9\u5b57\u9762\u91cf\u5fc5\u987b\u662f\u4e00\u4e2a\u6307\u9488\uff01\u56e0\u4e3a\u5b9e\u73b0\u7684\u65f6\u5019\u4f20\u5165\u7684\u662f *Stucent~~ var s AInterface = &stuObj ret := s.Say() fmt.Println(\"ret>>> \",ret) // My name is Naruto } \uff084\uff09\u5728Golang\u4e2d\uff0c\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7c7b\u578b\u9700\u8981 \u5c06\u67d0\u4e2a\u63a5\u53e3\u6240\u6709\u65b9\u6cd5\u90fd\u5b9e\u73b0 \uff0c\u6211\u4eec\u8bf4\u8fd9\u4e2a\u81ea\u5b9a\u4e49\u7c7b\u578b \u5b9e\u73b0\u4e86\u8be5\u63a5\u53e3 \u3002 \uff085\uff09\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7c7b\u578b \u53ea\u6709\u5b9e\u73b0\u4e86\u67d0\u4e2a\u63a5\u53e3 \uff0c\u624d\u80fd \u5c06\u8be5\u81ea\u5b9a\u4e49\u7c7b\u578b\u7684\u5b9e\u4f8b\uff08\u53d8\u91cf\uff09\u8d4b\u503c\u7ed9\u63a5\u53e3\u7c7b\u578b \uff01 \uff086\uff09\u53ea\u8981\u662f\u81ea\u5b9a\u4e49\u6570\u636e\u7c7b\u578b\u5c31\u53ef\u4ee5\u5b9e\u73b0\u63a5\u53e3\uff0c\u4e0d\u4ec5\u4ec5\u662f\u7ed3\u6784\u4f53\u7c7b\u578b\u3002 package main import \"fmt\" type AInterface interface { Say() string } // \u81ea\u5b9a\u4e49\u6570\u636e\u7c7b\u578b\u5b9e\u73b0\u63a5\u53e3 type integer int func (i *integer) Say() string{ return fmt.Sprintf(\"say:%d \\n\",*i) // \u6ce8\u610f\u4f20\u5165\u7684\u662f\u6307\u9488\uff0c\u8fd9\u91cc\u9700\u8981\u7528*\u53bb\u53d6\u503c\uff01 } func main() { var i integer = 10 var b AInterface = &i ret := b.Say() fmt.Println(\"ret>>> \",ret) // say:10 } \uff087\uff09\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7c7b\u578b\u53ef\u4ee5\u5b9e\u73b0\u591a\u4e2a\u63a5\u53e3 package main import \"fmt\" type AInterface interface { ReturnName() string } type BInterface interface { ReturnAge() string } type Monster struct { Name string Age int } // \u5b9e\u73b0\u63a5\u53e3A func (m *Monster) ReturnName() string{ return fmt.Sprintf(\"name:%s \\n\",m.Name) } // \u5b9e\u73b0\u63a5\u53e3B func (m *Monster) ReturnAge() string{ return fmt.Sprintf(\"age:%d \\n\",m.Age) } func main() { mObj := Monster{ Name: \"Naruto\", Age: 22, } // \u8d4b\u503c\u7ed9\u4e0d\u540c\u7c7b\u578b\u7684\u63a5\u53e3 var aObj AInterface = &mObj var bObj BInterface = &mObj // \u7ed3\u679c ret1 := aObj.ReturnName() fmt.Println(\"ret1>>> \",ret1)//name:Naruto ret2 := bObj.ReturnAge() fmt.Println(\"ret2>>> \",ret2)//age:22 } \uff088\uff09Golang\u63a5\u53e3\u4e2d\u4e0d\u80fd\u6709\u4efb\u4f55\u53d8\u91cf\uff1a \uff089\uff09\u4e00\u4e2a\u63a5\u53e3\uff08\u6bd4\u5982A\u63a5\u53e3\uff09\u53ef\u4ee5\u7ee7\u627f\u591a\u4e2a\u522b\u7684\u63a5\u53e3\uff08\u6bd4\u5982B\u3001C\u63a5\u53e3\uff09\uff0c\u8fd9\u65f6\u5982\u679c\u8981\u5b9e\u73b0A\u63a5\u53e3\uff0c\u4e5f\u5fc5\u987b\u5c06B\u3001C\u63a5\u53e3\u7684\u65b9\u6cd5\u4e5f\u5168\u90e8\u5b9e\u73b0\uff01 package main import \"fmt\" // \u7236\u7ea7\u7ed3\u6784\u4f53 type BInter interface { testB() } type CInter interface { testC() } // \u7ee7\u627f type AInter interface { BInter CInter testA() } // \u5982\u679c\u9700\u8981\u5b9e\u73b0A\u63a5\u53e3\uff0c\u90a3\u5fc5\u987b\u5c06B\u4e0eC\u63a5\u53e3\u540c\u65f6\u90fd\u5b9e\u73b0\u4e86\uff01\uff01\uff01 type Stu struct{ Name string } func (s *Stu) testA(){ fmt.Println(\"\u5b9e\u73b0\u4e86A...\") } func (s *Stu) testB(){ fmt.Println(\"\u5b9e\u73b0\u4e86B...\") } func (s *Stu) testC(){ fmt.Println(\"\u5b9e\u73b0\u4e86C...\") } func main() { stuObj := Stu{ Name: \"wanghw\", } // \u63a5\u6536 var a AInter = &stuObj a.testA() a.testB() a.testC() /* \u5b9e\u73b0\u4e86A... \u5b9e\u73b0\u4e86B... \u5b9e\u73b0\u4e86C... */ } \uff0810\uff09interface\u7c7b\u578b\u9ed8\u8ba4\u662f\u4e00\u4e2a\u6307\u9488\uff08\u5f15\u7528\u7c7b\u578b\uff09\uff0c\u5982\u679c\u6ca1\u6709\u5bf9interface\u521d\u59cb\u5316\u5c31\u4f7f\u7528\u7684\u8bdd\uff0c\u90a3\u4e48\u4f1a\u8f93\u51fanil\u3002","title":"\u63a5\u53e3\u7684\u8bf4\u660e *"},{"location":"%E5%9F%BA%E7%A1%80/5/#2","text":"\uff081\uff09\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7c7b\u578b\u53ef\u4ee5\u5b9e\u73b0\u591a\u4e2a\u63a5\u53e3\uff0c\u63a5\u53e3\u4e4b\u95f4\u53ef\u4ee5\u6709\u76f8\u540c\u7684\u65b9\u6cd5\uff1a package main import \"fmt\" // \u6ce8\u610f A\u63a5\u53e3\u4e0eB\u63a5\u53e3\u4e2d\u6709\u76f8\u540c\u7684\u65b9\u6cd5 Test1 type AInter interface { Test1() Test2() } type BInter interface { Test1() Test3() } type Student struct { Name string } // \u540c\u65f6\u5b9e\u73b0A\u63a5\u53e3\u4e0eB\u63a5\u53e3 func(s *Student) Test1(){ fmt.Println(\"Student\u5b9e\u73b0\u4e86Test1\u65b9\u6cd5\") } func(s *Student) Test2(){ fmt.Println(\"Student\u5b9e\u73b0\u4e86Test2\u65b9\u6cd5\") } func(s *Student) Test3(){ fmt.Println(\"Student\u5b9e\u73b0\u4e86Test3\u65b9\u6cd5\") } func main() { stuObj := Student{ Name: \"wanghw\", } var A AInter = &stuObj var B BInter = &stuObj A.Test1()//Student\u5b9e\u73b0\u4e86Test1\u65b9\u6cd5 A.Test2()//Student\u5b9e\u73b0\u4e86Test2\u65b9\u6cd5 B.Test1()//Student\u5b9e\u73b0\u4e86Test1\u65b9\u6cd5 B.Test3()//Student\u5b9e\u73b0\u4e86Test3\u65b9\u6cd5 } \uff082\uff09\u63a5\u53e3\u7ee7\u627f\u7684\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u4e24\u4e2a\u57fa\u7c7b\u4e2d\u6709\u76f8\u540c\u7684\u65b9\u6cd5\uff0c\u8fd9\u6837\u4e0d\u884c\uff01\u4f1a\u62a5\u9519\uff01","title":"2\u4e2a\u7279\u6b8a\u4f8b\u5b50*"},{"location":"%E5%9F%BA%E7%A1%80/5/#_4","text":"\u5b9e\u73b0\u5bf9Hero\u7ed3\u6784\u4f53\u5207\u7247\u7684\u6392\u5e8f\uff1asort.Sort(data Interface) package main import ( \"fmt\" \"math/rand\" \"sort\" ) ////// \u6e90\u7801\u5b9e\u73b0\u601d\u8def // 1\u3001\u58f0\u660eHero\u7ed3\u6784\u4f53 type Hero struct { Name string Age int } // 2\u3001\u58f0\u660e\u4e00\u4e2aHero\u7ed3\u6784\u4f53\u5207\u7247\u7c7b\u578b type HeroSlice []Hero // 3\u3001\u5b9e\u73b0interface\u63a5\u53e3 func (hs HeroSlice) Len() int{ return len(hs) } /// Less \u65b9\u6cd5\u5c31\u662f\u51b3\u5b9a\u6211\u4eec\u4f7f\u7528\u4ec0\u4e48\u6807\u51c6\u8fdb\u884c\u6392\u5e8f // 1. \u6309\u7167Hero\u7684\u5e74\u9f84\u4ece\u5c0f\u5230\u5927\u6392\u5e8f func (hs HeroSlice) Less(i, j int)bool{ return hs[i].Age < hs[j].Age // \u4fee\u6539\u6210 \u5bf9Name\u7684\u6392\u5e8f // return hs[i].Name < hs[j].Name } // \u6570\u636e\u4ea4\u6362 func (hs HeroSlice) Swap(i, j int){ hs[i], hs[j] = hs[j], hs[i] } func main() { // TODO \u6d4b\u8bd5\u7cfb\u7edf\u6392\u5e8f\u7684\u65b9\u6cd5 //\u5148\u5b9a\u4e49\u4e00\u4e2a\u6570\u7ec4/\u5207\u7247 var intSlice = []int{0, -1, 10, 7, 90} //\u8981\u6c42\u5bf9 intSlice\u5207\u7247\u8fdb\u884c\u6392\u5e8f // \u4f7f\u7528\u7cfb\u7edf\u63d0\u4f9b\u7684\u65b9\u6cd5 sort.Ints(intSlice) // \u4ece\u5c0f\u5230\u5927 fmt.Println(intSlice) // [-1 0 7 10 90] //\u6d4b\u8bd5\u770b\u770b\u6211\u4eec\u662f\u5426\u53ef\u4ee5\u5bf9\u7ed3\u6784\u4f53\u5207\u7247\u8fdb\u884c\u6392\u5e8f var heroes HeroSlice for i := 0; i < 10 ; i++ { hero := Hero{ Name : fmt.Sprintf(\"\u82f1\u96c4|%d\", rand.Intn(100)), Age : rand.Intn(100), } //\u5c06 hero append\u5230 heroes\u5207\u7247 heroes = append(heroes, hero) } //\u770b\u770b\u6392\u5e8f\u524d\u7684\u987a\u5e8f fmt.Println(\"-----------\u6392\u5e8f\u524d------------\") for _ , v := range heroes { fmt.Println(v) } //\u8c03\u7528sort.Sort sort.Sort(heroes) fmt.Println(\"-----------\u6392\u5e8f\u540e------------\") //\u770b\u770b\u6392\u5e8f\u540e\u7684\u987a\u5e8f for _ , v := range heroes { fmt.Println(v) } }","title":"\u63a5\u53e3\u7f16\u7a0b\u7684\u6700\u4f73\u5b9e\u8df5*"},{"location":"%E5%9F%BA%E7%A1%80/5/#vs","text":"\u5b9e\u73b0\u63a5\u53e3\u53ef\u4ee5\u8bf4\u662f\u5bf9\u7ee7\u627f\u7684\u4e00\u79cd\u8865\u5145\uff01 \uff081\uff09 \u5f53A\u7ed3\u6784\u4f53\u7ee7\u627f\u4e86B\u7ed3\u6784\u4f53\uff0c\u90a3\u4e48A\u7ed3\u6784\u4f53\u5c31\u81ea\u52a8\u7ee7\u627f\u4e86B\u7ed3\u6784\u4f53\u7684\u5b57\u6bb5\u8ddf\u65b9\u6cd5\uff0c\u5e76\u4e14\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u3002 \uff082\uff09 \u5f53A\u7ed3\u6784\u4f53\u9700\u8981\u6269\u5c55\uff0c\u540c\u65f6\u4e0d\u5e0c\u671b\u7834\u574f\u7ee7\u627f\u5173\u7cfb\uff0c\u5219\u53ef\u4ee5\u53d6\u5b9e\u73b0\u67d0\u4e2a\u63a5\u53e3\uff01 package main import ( \"fmt\" ) // \u7236\u7ea7Monkey\u7ed3\u6784\u4f53 type Monkey struct { Name string } // Monkey\u7684\u65b9\u6cd5 func (m *Monkey) climbing(){ fmt.Println(\"\u751f\u6765\u4f1a\u722c\u6811...\") } // \u58f0\u660e2\u4e2a\u63a5\u53e3 \u2014\u2014\u2014\u2014 \u5b9a\u4e49\u62d3\u5c55\u65b9\u6cd5 type BirdAble interface { Flying() } type FishAble interface { Swinging() } // \u5b50\u7c7b\uff1aLittleMonkey\u7ed3\u6784\u4f53 type LittleMonkey struct { Monkey // \u7ee7\u627f } // \u8ba9\u5b50\u7c7b\u5b9e\u73b0\u4e24\u4e2a\u63a5\u53e3\u7684\u62d3\u5c55\u65b9\u6cd5 func (l *LittleMonkey) Flying(){ fmt.Println(\"\u901a\u8fc7\u5b66\u4e60\uff0c\u5b66\u4f1a\u4e86\u98de...\") } func (l *LittleMonkey) Swinging(){ fmt.Println(\"\u901a\u8fc7\u5b66\u4e60\uff0c\u5b66\u4f1a\u4e86\u6e38\u6cf3...\") } func main() { // \u521b\u5efa\u4e00\u4e2aLittleMonkey\u5b9e\u4f8b LittleMonkeyObj := LittleMonkey{ Monkey{ Name: \"\u5b59\u609f\u7a7a\", }, } // \u8fd9\u6837\uff1a\u5b50\u7c7b\u65e2\u6709\u4e86\u7236\u7c7b\u7684\u65b9\u6cd5\uff0c\u4e5f\u6709\u4e86\u81ea\u5df1\u62d3\u5c55\u7684\u65b9\u6cd5 LittleMonkeyObj.climbing() LittleMonkeyObj.Flying() LittleMonkeyObj.Swinging() /* \u751f\u6765\u4f1a\u722c\u6811... \u901a\u8fc7\u5b66\u4e60\uff0c\u5b66\u4f1a\u4e86\u98de... \u901a\u8fc7\u5b66\u4e60\uff0c\u5b66\u4f1a\u4e86\u6e38\u6cf3... */ }","title":"\u5b9e\u73b0\u63a5\u53e3 VS \u7ee7\u627f *"},{"location":"%E5%9F%BA%E7%A1%80/5/#duck-typing","text":"Go\u6ca1\u6709implements\u6216extends\u5173\u952e\u5b57\uff0c\u8fd9\u7c7b\u7f16\u7a0b\u8bed\u8a00\u53eb\u4f5cduck typing\u7f16\u7a0b\u8bed\u8a00\u3002 1. \u5927\u9ec4\u9e2d\u73a9\u5177\u4e0d\u662f\u9e2d\u5b50 \u751f\u6d3b\u4e2d\u7684\u5927\u9ec4\u9e2d\uff0c\u53ea\u662f\u4e00\u4e2a\u5851\u6599\u73a9\u5177\u3002 \u4ece\u751f\u7269\u5b66\u89d2\u5ea6\u770b\uff0c\u9e2d\u5b50\u5c5e\u4e8e\u810a\u7d22\u52a8\u7269\u95e8\u3001\u810a\u690e\u52a8\u7269\u4e9a\u95e8\u3001\u9e1f\u7eb2\u3001\u96c1\u5f62\u76ee\u3002\u5927\u9ec4\u9e2d\u6ca1\u6709\u751f\u547d\uff0c\u6240\u4ee5\u4e0d\u662f\u9e2d\u5b50\u3002 2. duck typing duck typing\u662f\u63cf\u8ff0\u4e8b\u7269\u7684\u5916\u90e8\u884c\u4e3a\u800c\u975e\u5185\u90e8\u7ed3\u6784\u3002\u201c\u4e00\u53ea\u9e1f\u8d70\u8d77\u6765\u50cf\u9e2d\u5b50\uff0c\u6e38\u6cf3\u50cf\u9e2d\u5b50\uff0c\u53eb\u8d77\u6765\u4e5f\u50cf\u9e2d\u5b50\uff0c\u90a3\u4e48\u8fd9\u53ea\u9e1f\u5c31\u53ef\u4ee5\u88ab\u79f0\u4e3a\u9e2d\u5b50\u3002\u201d\u6269\u5c55\u540e\uff0c\u53ef\u4ee5\u5c06\u5176\u7406\u89e3\u4e3a\uff1a\u201c\u4e00\u53ea\u9e1f\u770b\u8d77\u6765\u50cf\u9e2d\u5b50\uff0c\u90a3\u4e48\u5b83\u5c31\u662f\u9e2d\u5b50\u3002\u201d duck typing\u5173\u6ce8\u7684\u4e0d\u662f\u5bf9\u8c61\u7684\u7c7b\u578b\u672c\u8eab\uff0c\u800c\u662f\u5b83\u662f\u5982\u4f55\u4f7f\u7528\u7684\u3002 3. duck typing\u7f16\u7a0b\u8bed\u8a00 \u4f7f\u7528duck typing\u7684\u7f16\u7a0b\u8bed\u8a00\u5f80\u5f80\u88ab\u5f52\u7c7b\u4e3a\u201c\u52a8\u6001\u7c7b\u578b\u8bed\u8a00\u201d\u6216\u8005\u201c\u89e3\u91ca\u578b\u8bed\u8a00\u201d\uff0c\u5982Python\u3001Javascript\u3001Ruby\u7b49\uff1b\u800c\u975educk typing\u7f16\u7a0b\u8bed\u8a00\u5f80\u5f80\u88ab\u5f52\u4e3a\u201c\u9759\u6001\u7c7b\u578b\u8bed\u8a00\u201d\uff0c\u5982C\u3001C++\u3001Java\u7b49\u3002 4. \u975educk typing\u7f16\u7a0b\u8bed\u8a00 \u4ee5Java\u4e3a\u4f8b\uff0c\u4e00\u4e2a\u7c7b\u5fc5\u987b\u663e\u5f0f\u5730\u58f0\u660e\u201c\u7c7b\u5b9e\u73b0\u4e86\u67d0\u4e2a\u63a5\u53e3\u201d\uff0c\u7136\u540e\u624d\u80fd\u7528\u5728\u8fd9\u4e2a\u63a5\u53e3\u53ef\u4ee5\u4f7f\u7528\u7684\u5730\u65b9\u3002\u5982\u679c\u6709\u4e00\u4e2a\u7b2c\u4e09\u65b9\u7684Java\u5e93\uff0c\u8fd9\u4e2a\u5e93\u4e2d\u7684\u67d0\u4e2a\u7c7b\u6ca1\u6709\u58f0\u660e\u5b83\u5b9e\u73b0\u4e86\u67d0\u4e2a\u63a5\u53e3\uff0c\u90a3\u4e48\u5373\u4f7f\u8fd9\u4e2a\u7c7b\u4e2d\u771f\u7684\u6709\u90a3\u4e9b\u63a5\u53e3\u4e2d\u7684\u65b9\u6cd5\uff0c\u4e5f\u4e0d\u80fd\u628a\u8fd9\u4e2a\u7c7b\u7684\u5bf9\u8c61\u7528\u5728\u90a3\u4e9b\u8981\u6c42\u7528\u63a5\u53e3\u7684\u5730\u65b9\u3002\u4f46\u5728duck typing\u7f16\u7a0b\u8bed\u8a00\u4e2d\u5c31\u53ef\u4ee5\u8fd9\u6837\u505a\uff0c\u56e0\u4e3a\u5b83\u4e0d\u8981\u6c42\u4e00\u4e2a\u7c7b\u663e\u5f0f\u5730\u58f0\u660e\u5b83\u5b9e\u73b0\u4e86\u67d0\u4e2a\u63a5\u53e3\u3002 5. \u52a8\u6001\u7c7b\u578b\u8bed\u8a00\u7684\u4f18\u7f3a\u70b9 \u52a8\u6001\u7c7b\u578b\u8bed\u8a00\u7684\u597d\u5904\u5f88\u591a\uff0cPython\u4ee3\u7801\u5199\u8d77\u6765\u5f88\u5feb\u3002\u4f46\u662f\u7f3a\u9677\u4e5f\u662f\u663e\u800c\u6613\u89c1\u7684\uff1a\u9519\u8bef\u5f80\u5f80\u8981\u5728\u8fd0\u884c\u65f6\u624d\u80fd\u88ab\u53d1\u73b0\u3002\u76f8\u53cd\uff0c\u9759\u6001\u7c7b\u578b\u8bed\u8a00\u5f80\u5f80\u5728\u7f16\u8bd1\u65f6\u5c31\u53d1\u73b0\u8fd9\u7c7b\u9519\u8bef\uff1a\u5982\u679c\u67d0\u4e2a\u53d8\u91cf\u7684\u7c7b\u578b\u6ca1\u6709\u663e\u5f0f\u5730\u58f0\u660e\u5b9e\u73b0\u4e86\u67d0\u4e2a\u63a5\u53e3\uff0c\u90a3\u4e48\uff0c\u8fd9\u4e2a\u53d8\u91cf\u5c31\u4e0d\u80fd\u7528\u5728\u4e00\u4e2a\u8981\u6c42\u5b9e\u73b0\u4e86\u8fd9\u4e2a\u63a5\u53e3\u7684\u5730\u65b9\u3002 6. Go\u7684\u5904\u7406\u65b9\u5f0f Go\u7c7b\u578b\u7cfb\u7edf\u91c7\u53d6\u4e86\u6298\u4e2d\u7684\u529e\u6cd5\uff0c\u5176\u505a\u6cd5\u5982\u4e0b\uff1a \u7b2c\u4e00\uff0c\u7ed3\u6784\u4f53\u7c7b\u578bT\u4e0d\u9700\u8981\u663e\u5f0f\u5730\u58f0\u660e\u5b83\u5b9e\u73b0\u4e86\u63a5\u53e3I\u3002\u53ea\u8981\u7c7b\u578bT\u5b9e\u73b0\u4e86\u63a5\u53e3I\u89c4\u5b9a\u7684\u6240\u6709\u65b9\u6cd5\uff0c\u5b83\u5c31\u81ea\u52a8\u5730\u5b9e\u73b0\u4e86\u63a5\u53e3I\u3002\u8fd9\u6837\u5c31\u50cf\u52a8\u6001\u7c7b\u578b\u8bed\u8a00\u4e00\u6837\u7701\u4e86\u5f88\u591a\u4ee3\u7801\uff0c\u5c11\u4e86\u8bb8\u591a\u9650\u5236\u3002 \u7b2c\u4e8c\uff0c\u5c06\u7ed3\u6784\u4f53\u7c7b\u578b\u7684\u53d8\u91cf\u663e\u5f0f\u6216\u8005\u9690\u5f0f\u5730\u8f6c\u6362\u4e3a\u63a5\u53e3I\u7c7b\u578b\u7684\u53d8\u91cfi\u3002\u8fd9\u6837\u5c31\u53ef\u4ee5\u548c\u5176\u4ed6\u9759\u6001\u7c7b\u578b\u8bed\u8a00\u4e00\u6837\uff0c\u5728\u7f16\u8bd1\u65f6\u68c0\u67e5\u53c2\u6570\u7684\u5408\u6cd5\u6027\u3002 \u63a5\u4e0b\u6765\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u6848\u4f8b\u52a0\u6df1\u5bf9duck typing\u7684\u7406\u89e3\uff1a package main import \"fmt\" type ISayHello interface { SayHello() string } type Duck struct { name string } type Person struct { name string } func (d Duck) SayHello() string{ return d.name + \"\u53eb\uff1aga ga ga!\" } func (p Person) SayHello() string{ return p.name + \"\u8bf4\uff1a\u4f60\u597d\uff01\" } func main() { // \u5b9a\u4e49\u5b9e\u73b0\u63a5\u53e3\u7684\u5bf9\u8c61 duck := Duck{\"DaHuangYa\"} person := Person{\"Jonson\"} fmt.Println(duck.SayHello())// DaHuangYa\u53eb\uff1aga ga ga! fmt.Println(person.SayHello())// Jonson\u8bf4\uff1a\u4f60\u597d\uff01 // \u5b9a\u4e49\u63a5\u53e3\u7c7b\u578b\u7684\u53d8\u91cf var i ISayHello i = duck fmt.Printf(\"%T, %v, %p \\n\",i, i, &i)//main.Duck, {DaHuangYa}, 0xc00008e200 fmt.Println(i.SayHello())//DaHuangYa\u53eb\uff1aga ga ga! i = person fmt.Printf(\"%T, %v, %p \\n\",i, i, &i)//main.Person, {Jonson}, 0xc000010220 fmt.Println(i.SayHello())//Jonson\u8bf4\uff1a\u4f60\u597d\uff01 } \u53ef\u4ee5\u770b\u51fa\uff0c\u4e00\u4e2a\u51fd\u6570\u5982\u679c\u63a5\u53d7\u63a5\u53e3\u7c7b\u578b\u4f5c\u4e3a\u53c2\u6570\uff0c\u90a3\u4e48\u5b9e\u9645\u4e0a\u5b83\u53ef\u4ee5\u4f20\u5165\u8be5\u63a5\u53e3\u7684\u4efb\u610f\u4e00\u4e2a\u5b9e\u73b0\u7c7b\u7684\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u3002\u5b9a\u4e49\u4e00\u4e2a\u63a5\u53e3\u53d8\u91cf\uff0c\u5b9e\u9645\u4e0a\u53ef\u4ee5\u8d4b\u503c\u7ed9\u4efb\u610f\u4e00\u4e2a\u5b9e\u73b0\u4e86\u8be5\u63a5\u53e3\u7684\u5bf9\u8c61\u3002 \u5982\u679c\u5b9a\u4e49\u4e86\u4e00\u4e2a\u63a5\u53e3\u7c7b\u578b\u7684\u5bb9\u5668\uff08\u6570\u7ec4\u6216\u5207\u7247\uff09\uff0c\u5b9e\u9645\u4e0a\u8be5\u5bb9\u5668\u53ef\u4ee5\u5b58\u50a8\u4efb\u610f\u4e00\u4e2a\u5b9e\u73b0\u7c7b\u5bf9\u8c61\u3002","title":"duck typing"},{"location":"%E5%9F%BA%E7%A1%80/5/#_5","text":"\u5982\u679c\u6709\u51e0\u4e2a\u76f8\u4f3c\u800c\u4e0d\u5b8c\u5168\u76f8\u540c\u7684\u5bf9\u8c61\uff0c\u6709\u65f6\u4eba\u4eec\u8981\u6c42\u5728\u5411\u5b83\u4eec\u53d1\u51fa\u540c\u4e00\u4e2a\u6d88\u606f\u65f6\uff0c\u5b83\u4eec\u7684\u53cd\u5e94\u5404\u4e0d\u76f8\u540c\uff0c\u5206\u522b\u6267\u884c\u4e0d\u540c\u7684\u64cd\u4f5c\u3002\u8fd9\u79cd\u60c5\u51b5\u5c31\u662f\u591a\u6001\u73b0\u8c61\u3002\u4f8b\u5982\uff0c\u7532\u3001\u4e59\u3001\u4e19\u4e09\u4e2a\u73ed\u90fd\u662f\u521d\u4e2d\u4e00\u5e74\u7ea7\uff0c\u5b66\u751f\u4eec\u6709\u57fa\u672c\u76f8\u540c\u7684\u5c5e\u6027\u548c\u884c\u4e3a\uff0c\u5728\u540c\u65f6\u542c\u5230\u4e0a\u8bfe\u94c3\u58f0\u7684\u65f6\u5019\uff0c\u4ed6\u4eec\u4f1a\u5206\u522b\u8d70\u5411\u4e09\u4e2a\u4e0d\u540c\u7684\u6559\u5ba4\uff0c\u800c\u4e0d\u4f1a\u8d70\u5411\u540c\u4e00\u4e2a\u6559\u5ba4\u3002 \u591a\u6001\u5c31\u662f\u4e8b\u7269\u7684\u591a\u79cd\u5f62\u6001\uff0cGo\u8bed\u8a00\u4e2d\u7684\u591a\u6001\u6027\u662f\u5728\u63a5\u53e3\u7684\u5e2e\u52a9\u4e0b\u5b9e\u73b0\u7684\u2014\u2014\u5b9a\u4e49\u63a5\u53e3\u7c7b\u578b\uff0c\u521b\u5efa\u5b9e\u73b0\u8be5\u63a5\u53e3\u7684\u7ed3\u6784\u4f53\u5bf9\u8c61\u3002 \u5b9a\u4e49\u63a5\u53e3\u7c7b\u578b\u7684\u5bf9\u8c61\uff0c\u53ef\u4ee5\u4fdd\u5b58\u5b9e\u73b0\u8be5\u63a5\u53e3\u7684\u4efb\u4f55\u7c7b\u578b\u7684\u503c\u3002Go\u8bed\u8a00\u63a5\u53e3\u53d8\u91cf\u7684\u8fd9\u4e2a\u7279\u6027\u5b9e\u73b0\u4e86Go\u8bed\u8a00\u4e2d\u7684\u591a\u6001\u6027\u3002\u63a5\u53e3\u7c7b\u578b\u7684\u5bf9\u8c61\uff0c\u4e0d\u80fd\u8bbf\u95ee\u5176\u5b9e\u73b0\u7c7b\u4e2d\u7684\u5c5e\u6027\u5b57\u6bb5\u3002","title":"\u591a\u6001"},{"location":"%E5%9F%BA%E7%A1%80/5/#_6","text":"package main import \"fmt\" type Income interface { calculate() float64 // \u8ba1\u7b97\u6536\u5165\u603b\u989d source() string // \u7528\u6765\u8bf4\u660e\u6536\u5165\u6765\u6e90 } //\u56fa\u5b9a\u8d26\u5355\u9879\u76ee type FixedBilling struct { projectName string // \u5de5\u7a0b\u9879\u76ee biddedAmount float64 // \u9879\u76ee\u62db\u6807\u603b\u989d } //\u5b9a\u65f6\u751f\u4ea7\u9879\u76ee\uff08\u5b9a\u65f6\u548c\u6750\u6599\u9879\u76ee\uff09 type TimeAndMaterial struct { projectName string workHours float64 // \u5de5\u4f5c\u65f6\u957f hourlyRate float64 // \u6bcf\u5c0f\u65f6\u6548\u7387 } //\u56fa\u5b9a\u8d26\u5355\u9879\u76ee\u5b9e\u73b0\u63a5\u53e3 func (f FixedBilling) calculate() float64{ return f.biddedAmount } func (f FixedBilling) source() string{ return f.projectName } //\u5b9a\u65f6\u6536\u5165\u9879\u76ee\u5b9e\u73b0\u63a5\u53e3 func (t TimeAndMaterial) calculate() float64{ return t.workHours * t.hourlyRate } func (t TimeAndMaterial) source() string{ return t.projectName } // \u901a\u8fc7\u5e7f\u544a\u70b9\u51fb\u83b7\u5f97\u6536\u5165 type Advertisement struct { adName string clickCount int incomePerclick float64 // \u5e73\u5747\u70b9\u51fb\u91cf } // \u901a\u8fc7\u5e7f\u544a\u70b9\u51fb\u83b7\u5f97\u6536\u5165 \u5b9e\u73b0\u63a5\u53e3 func (a Advertisement) calculate() float64{ return float64(a.clickCount) * a.incomePerclick } func (a Advertisement) source() string{ return a.adName } func main() { p1 := FixedBilling{\"\u9879\u76ee1\",5000} p2 := FixedBilling{\"\u9879\u76ee2\",8000} p3 := TimeAndMaterial{\"\u9879\u76ee3\",100,40} p4 := TimeAndMaterial{\"\u9879\u76ee4\",200,30} p5 := Advertisement{\"\u5e7f\u544a1\",10000,0.1} p6 := Advertisement{\"\u5e7f\u544a2\",20000,0.05} ic := []Income{p1,p2,p3,p4,p5,p6} fmt.Println(\"\u51c0\u6536\u5165\u4e3a\uff1a\",calculateNetIncome(ic)) } // \u8ba1\u7b97\u51c0\u6536\u5165 func calculateNetIncome(ic []Income) float64{ netincome := 0.0 for _, income := range ic{ fmt.Printf(\"\u6536\u5165\u6765\u6e90\uff1a%s, \u6536\u5165\u91d1\u989d\uff1a%.2f \\n\",income.source(),income.calculate()) netincome += income.calculate() } return netincome } /* \u6536\u5165\u6765\u6e90\uff1a\u9879\u76ee1, \u6536\u5165\u91d1\u989d\uff1a5000.00 \u6536\u5165\u6765\u6e90\uff1a\u9879\u76ee2, \u6536\u5165\u91d1\u989d\uff1a8000.00 \u6536\u5165\u6765\u6e90\uff1a\u9879\u76ee3, \u6536\u5165\u91d1\u989d\uff1a4000.00 \u6536\u5165\u6765\u6e90\uff1a\u9879\u76ee4, \u6536\u5165\u91d1\u989d\uff1a6000.00 \u6536\u5165\u6765\u6e90\uff1a\u5e7f\u544a1, \u6536\u5165\u91d1\u989d\uff1a1000.00 \u6536\u5165\u6765\u6e90\uff1a\u5e7f\u544a2, \u6536\u5165\u91d1\u989d\uff1a1000.00 \u51c0\u6536\u5165\u4e3a\uff1a 25000 */ \u53ef\u4ee5\u770b\u51fa\uff0c\u5c3d\u7ba1\u6dfb\u52a0\u4e86\u65b0\u7684\u6536\u5165\u65b9\u5f0f\uff0c\u4f46\u6ca1\u6709\u5bf9calculateNetIncome()\u51fd\u6570\u505a\u4efb\u4f55\u66f4\u6539\uff0c\u5168\u9760\u591a\u6001\u6027\u8d77\u4f5c\u7528\u3002 \u7531\u4e8e\u65b0\u7684Advertisement\u7c7b\u578b\u4e5f\u5b9e\u73b0\u4e86Income\u63a5\u53e3\uff0c\u53ef\u4ee5\u5c06\u5b83\u6dfb\u52a0\u5230ic\u5207\u7247\u4e2d\u3002 CalculateNetIncome()\u51fd\u6570\u5728\u6ca1\u6709\u4efb\u4f55\u66f4\u6539\u7684\u60c5\u51b5\u4e0b\u5de5\u4f5c\uff0c\u56e0\u4e3a\u5b83\u53ef\u4ee5\u8c03\u7528Advertisement\u7c7b\u578b\u7684calculate()\u548csource()\u65b9\u6cd5\u3002","title":"\u89e3\u91ca\u591a\u6001\u73b0\u8c61\u7684\u6848\u4f8b*"},{"location":"%E5%9F%BA%E7%A1%80/5/#_7","text":"1\u3001\u591a\u6001\u53c2\u6570 \u5728\u524d\u9762\u7684Usb\u63a5\u53e3\u6848\u4f8b\uff0cusb Usb\u65e2\u53ef\u4ee5\u63a5\u6536\u624b\u673a\u53d8\u91cf\uff0c\u53c8\u53ef\u4ee5\u63a5\u6536\u76f8\u673a\u53d8\u91cf\uff0c\u4f53\u73b0\u4e86Usb\u63a5\u53e3\u7684\u591a\u6001\u53c2\u6570\u3002 2\u3001\u591a\u6001\u6570\u7ec4 \u6f14\u793a\u4e00\u4e2a\u6848\u4f8b\uff1a\u7ed9Usb\u6570\u7ec4\u4e2d\u5b58\u653ePhone\u7ed3\u6784\u4f53\u4e0eCamera\u7ed3\u6784\u4f53\u53d8\u91cf\uff1a package main import \"fmt\" // \u58f0\u660e\u4e00\u4e2a\u63a5\u53e3 type Usb interface { Start() Stop() } // 1\u3001Phone\u7ed3\u6784\u4f53 type Phone struct { Name string } // \u8ba9Phone\u5b9e\u73b0Usb\u63a5\u53e3\u7684\u65b9\u6cd5 func (p *Phone) Start() { fmt.Println(\"\u624b\u673a\u5f00\u59cb\u5de5\u4f5c...\") } func (p *Phone) Stop() { fmt.Println(\"\u624b\u673a\u505c\u6b62\u5de5\u4f5c...\") } // 2\u3001Camera\u7ed3\u6784\u4f53 type Camera struct { Name string } // \u8ba9Camera\u5b9e\u73b0Usb\u63a5\u53e3\u7684\u65b9\u6cd5 func (c *Camera) Start() { fmt.Println(\"\u76f8\u673a\u5f00\u59cb\u5de5\u4f5c...\") } func (c *Camera) Stop() { fmt.Println(\"\u76f8\u673a\u505c\u6b62\u5de5\u4f5c...\") } func main() { // \u5b9a\u4e49\u4e00\u4e2aUsb\u7ed3\u6784\u4f53\u7684\u6570\u7ec4\uff0c\u53ef\u4ee5\u5b58\u653ePhone\u548cCamera\u7684\u7ed3\u6784\u4f53\u53d8\u91cf // \u8fd9\u91cc\u5c31\u4f53\u73b0\u4e86\u4e00\u4e2a\u591a\u6001\u6570\u7ec4 var usbArr [3]Usb // \u6ce8\u610f\u8fd9\u91cc\u4f20\uff1a\u7ed3\u6784\u4f53\u6307\u9488\uff01\uff01\uff01 usbArr[0] = &Phone{\"Vivo\"} usbArr[1] = &Phone{\"\u5c0f\u7c73\"} usbArr[2] = &Camera{\"\u5c3c\u5eb7\"} for _, usbObj := range usbArr{ fmt.Println(usbObj) } /* &{Vivo} &{\u5c0f\u7c73} &{\u5c3c\u5eb7} */ }","title":"\u63a5\u53e3\u4f53\u73b0\u591a\u6001\u7684\u4e24\u79cd\u5f62\u5f0f *"},{"location":"%E5%9F%BA%E7%A1%80/5/#_8","text":"\u7a7a\u63a5\u53e3\u4e2d\u6ca1\u6709\u4efb\u4f55\u65b9\u6cd5\u3002\u4efb\u610f\u7c7b\u578b\u90fd\u53ef\u4ee5\u5b9e\u73b0\u8be5\u63a5\u53e3\u3002\u7a7a\u63a5\u53e3\u8fd9\u6837\u5b9a\u4e49\uff1ainterface{}\uff0c\u4e5f\u5c31\u662f\u5305\u542b0\u4e2a\u65b9\u6cd5\uff08method\uff09\u7684interface\u3002\u7a7a\u63a5\u53e3\u53ef\u8868\u793a\u4efb\u610f\u6570\u636e\u7c7b\u578b\uff0c\u7c7b\u4f3c\u4e8eJava\u4e2d\u7684object\u3002 \u7a7a\u63a5\u53e3\u5e38\u7528\u4e8e\u4ee5\u4e0b\u60c5\u5f62\uff1a println\u7684\u53c2\u6570\u5c31\u662f\u7a7a\u63a5\u53e3\u3002 \u5b9a\u4e49\u4e00\u4e2amap\uff1akey\u662fstring\uff0cvalue\u662f\u4efb\u610f\u6570\u636e\u7c7b\u578b\u3002 \u5b9a\u4e49\u4e00\u4e2a\u5207\u7247\uff0c\u5176\u4e2d\u5b58\u50a8\u4efb\u610f\u7c7b\u578b\u7684\u6570\u636e\uff01\uff01\uff01 \u7a7a\u63a5\u53e3\u7684\u4f7f\u7528\u65b9\u5f0f\uff1a package main import \"fmt\" type A interface { } type Cat struct { name string age int } type Person struct { name string gender string } func main() { var a1 A = Cat{\"Mimi\",1} var a2 A = Person{\"Steven\",\"Male\"} var a3 A = \"Learn golang with me!\" var a4 A = 100 var a5 A = 3.1415926 showInfo(a1)//main.Cat, {Mimi 1} showInfo(a2)//main.Person, {Steven Male} showInfo(a3)//string, Learn golang with me! showInfo(a4)//int, 100 showInfo(a5)//float64, 3.1415926 // 1. fmt.Println() \u53c2\u6570\u5c31\u662f\u7a7a\u63a5\u53e3 fmt.Println(\"Pringln\u7684\u53c2\u6570\u5c31\u662f\u7a7a\u63a5\u53e3,\u53ef\u4ee5\u662f\u4efb\u4f55\u7c7b\u578b\u7684\u6570\u636e\uff01\",100,2.12,Cat{\"Mini2\",2}) /* Pringln\u7684\u53c2\u6570\u5c31\u662f\u7a7a\u63a5\u53e3,\u53ef\u4ee5\u662f\u4efb\u4f55\u7c7b\u578b\u7684\u6570\u636e\uff01 100 2.12 {Mini2 2} */ // 2. \u5b9a\u4e49map,value\u662f\u4efb\u4f55\u7c7b\u578b\u7684\u6570\u636e map1 := make(map[string]interface{}) map1[\"name\"] = \"whw\" map1[\"age\"] = 22 map1[\"height\"] = 1.71 fmt.Println(map1) //map[age:22 height:1.71 name:whw] // 3.\u5b9a\u4e49\u4e00\u4e2a\u5207\u7247\uff0c\u5176\u4e2d\u5b58\u50a8\u4efb\u610f\u7c7b\u578b\u7684\u6570\u636e !!!!! slice := make([]interface{},0,10) slice = append(slice,a1,a2,a3,a4,a5) fmt.Println(slice) //[{Mimi 1} {Steven Male} Learn golang with me! 100 3.1415926] } func showInfo(a A){ fmt.Printf(\"%T, %v \\n\",a,a) } \u5728\u4e0a\u4f8b\u4e2d\uff0c\u53d8\u91cfa1\u3001a2\u3001a3\u3001a4\u3001a5\u5206\u522b\u4e3a\u4e0d\u540c\u7c7b\u578b\u7684\u53d8\u91cf\uff0c\u5b83\u4eec\u5747\u53ef\u4ee5\u5b58\u653e\u5728\u7a7a\u63a5\u53e3\u4e2d\u4f7f\u7528\u3002 \u7a7a\u63a5\u53e3 interface{} \u6ca1\u6709\u4efb\u4f55\u65b9\u6cd5\uff0c *\u6240\u4ee5\u6240\u6709\u7c7b\u578b\u90fd\u5b9e\u73b0\u4e86\u7a7a\u63a5\u53e3 \uff0c\u5373\u6211\u4eec\u53ef\u4ee5\u628a\u4efb\u4f55\u4e00\u4e2a\u53d8\u91cf\u8d4b\u503c\u7ed9\u7a7a\u63a5\u53e3\u3002 package main import \"fmt\" // \u5b9a\u4e49\u4e00\u4e2a\u7a7a\u63a5\u53e3 type T interface { } type Student struct { Name string } func main() { stuObj := Student{ Name: \"wanghw\", } var t1 T = stuObj fmt.Println(t1)//{wanghw} // \u53ef\u4ee5\u91cd\u590d\u8d4b\u503c var t2 T = stuObj t2 = 10.12 t1 = \"hhh\" fmt.Println(t1,t2)//hhh 10.12 }","title":"\u7a7a\u63a5\u53e3 *"},{"location":"%E5%9F%BA%E7%A1%80/5/#75","text":"\u7b2c\u4e00\u79cd\u5b9e\u73b0\u65b9\u5f0f instance, ok := \u63a5\u53e3\u5bf9\u8c61.(\u5b9e\u9645\u7c7b\u578b) \u5982\u679c\u8be5\u63a5\u53e3\u5bf9\u8c61\u662f\u5bf9\u5e94\u7684\u5b9e\u9645\u7c7b\u578b\uff0c\u90a3\u4e48instance\u5c31\u662f\u8f6c\u578b\u4e4b\u540e\u7684\u5bf9\u8c61\uff0cok\u7684\u503c\u4e3atrue\uff0c\u914d\u5408if ... else if...\u8bed\u53e5\u4f7f\u7528\u3002 \u7b2c\u4e8c\u79cd\u5b9e\u73b0\u65b9\u5f0f \u63a5\u53e3\u5bf9\u8c61.[type] \u6b64\u65b9\u5f0f\u914d\u5408switch...case\u8bed\u53e5\u4f7f\u7528\u3002","title":"7.5 \u7c7b\u578b\u65ad\u8a00/\u63a5\u53e3\u5bf9\u8c61\u8f6c\u578b *"},{"location":"%E5%9F%BA%E7%A1%80/5/#_9","text":"\u63a5\u4e0b\u6765\u901a\u8fc7\u4e00\u4e2a\u6848\u4f8b\u5b9e\u73b0\u63a5\u53e3\u5bf9\u8c61\u8f6c\u578b \uff08\u6ce8\u610f\u4e09\u89d2\u5f62Triangle\u7ed3\u6784\u4f53\u7684\u90a3\u4e2a\u7cfb\u7edf\u63a5\u53e3\uff09\uff1a package main import ( \"fmt\" \"math\" ) // 1.\u5b9a\u4e49\u63a5\u53e3 \u8ba1\u7b97\u5468\u957f\u4e0e\u9762\u79ef type Shape interface { perimeter() float64 area() float64 } // 2.\u77e9\u5f62 type Rectangle struct { a, b float64 } // 3.\u4e09\u89d2\u5f62 type Triangle struct { a, b, c float64 } // 4.\u5706\u5f62 type Circle struct { radius float64 } // \u5b9a\u4e49\u5b9e\u73b0\u63a5\u53e3\u7684\u65b9\u6cd5 // \u77e9\u5f62\u7684\u5468\u957f\u4e0e\u9762\u79ef func (r Rectangle) perimeter() float64{ return (r.a + r.b) * 2 } func (r Rectangle) area() float64 { return r.a * r.b } //\u4e09\u89d2\u5f62\u7684\u5468\u957f\u4e0e\u9762\u79ef func (t Triangle) perimeter() float64{ return t.a + t.b + t.c } func (t Triangle) area() float64{ // \u6d77\u4f26\u516c\u5f0f p := t.perimeter() / 2 //\u534a\u5468\u957f return math.Sqrt(p*(p-t.a) * (p-t.b) * (p-t.c)) } //\u5706\u5f62\u7684\u5468\u957f\u4e0e\u9762\u79ef func (c Circle) perimeter() float64{ return 2 * math.Pi * c.radius } func (c Circle) area() float64{ return math.Pow(c.radius,2) * math.Pi } // \u63a5\u53e3\u5bf9\u8c61\u8f6c\u578b\u65b9\u5f0f1\uff1ainstance, ok := \u63a5\u53e3\u5bf9\u8c61.(\u5b9e\u9645\u7c7b\u578b) func getType(s Shape){ if instance, ok := s.(Rectangle);ok{ fmt.Printf(\"\u77e9\u5f62\uff1a\u957f\u5ea6\u4e3a%.2f\uff0c\u5bbd\u5ea6\u4e3a%.2f \\n\",instance.a,instance.b) }else if instance, ok := s.(Triangle);ok{ fmt.Printf(\"\u4e09\u89d2\u5f62\u5f62\uff1a\u4e09\u6761\u8fb9\u5206\u522b\u4e3a%.2f\uff0c%.2f\uff0c%.2f \\n\",instance.a,instance.b,instance.c) }else if instance, ok := s.(Circle);ok{ fmt.Printf(\"\u5706\u5f62\uff1a\u534a\u5f84\u4e3a%.2f \\n\",instance.radius) } } // \u63a5\u53e3\u5bf9\u8c61\u8f6c\u578b\u65b9\u5f0f2\uff1a\u63a5\u53e3\u5bf9\u8c61.(type),\u914d\u5408switch...case\u8bed\u53e5\u4f7f\u7528 func getType2(s Shape){ switch instance := s.(type) { case Rectangle: fmt.Printf(\"\u77e9\u5f62\uff1a\u957f\u5ea6\u4e3a%.2f\uff0c\u5bbd\u5ea6\u4e3a%.2f \\n\", instance.a, instance.b) case Triangle: fmt.Printf(\"\u4e09\u89d2\u5f62\uff1a\u4e09\u6761\u8fb9\u5206\u522b\u4e3a%.2f\uff0c%.2f\uff0c%.2f \\n\",instance.a,instance.b,instance.c) case Circle: fmt.Printf(\"\u5706\u5f62\uff1a\u534a\u5f84\u4e3a%.2f \\n\",instance.radius) } } func main() { var s Shape s = Rectangle{22,33} getResult(s) showInfo(s) s = Triangle{3,4,5} getResult(s) showInfo(s) s = Circle{1} getResult(s) showInfo(s) x := Triangle{3,4,5} fmt.Println(x) } func getResult(s Shape){ //getType(s) getType2(s) fmt.Printf(\"getResult\u51fd\u6570\u4e2d\uff5e\u5468\u957f\uff1a%.2f\uff0c\u9762\u79ef\uff1a%.2f \\n\", s.perimeter(),s.area()) } // \u5b9e\u73b0\u4e86\u7cfb\u7edf\u63a5\u53e3\uff0c\u6700\u540e\u7684\u6253\u5370\u4f1a\u6539\u53d8 func (t Triangle) String() string{ return fmt.Sprintf(\"Triangle\u5bf9\u8c61\uff0c\u5c5e\u6027\u5206\u522b\u662f\uff1a%.2f, %.2f, %.2f \",t.a,t.b,t.c) } func showInfo(s Shape){ fmt.Printf(\"showInfo\u51fd\u6570\u4e2d\uff5e%T, %v \\n\",s, s) fmt.Println(\"-----------------------------\") } /* \u77e9\u5f62\uff1a\u957f\u5ea6\u4e3a22.00\uff0c\u5bbd\u5ea6\u4e3a33.00 getResult\u51fd\u6570\u4e2d\uff5e\u5468\u957f\uff1a110.00\uff0c\u9762\u79ef\uff1a726.00 showInfo\u51fd\u6570\u4e2d\uff5emain.Rectangle, {22 33} ----------------------------- \u4e09\u89d2\u5f62\uff1a\u4e09\u6761\u8fb9\u5206\u522b\u4e3a3.00\uff0c4.00\uff0c5.00 getResult\u51fd\u6570\u4e2d\uff5e\u5468\u957f\uff1a12.00\uff0c\u9762\u79ef\uff1a6.00 showInfo\u51fd\u6570\u4e2d\uff5emain.Triangle, Triangle\u5bf9\u8c61\uff0c\u5c5e\u6027\u5206\u522b\u662f\uff1a3.00, 4.00, 5.00 ----------------------------- \u5706\u5f62\uff1a\u534a\u5f84\u4e3a1.00 getResult\u51fd\u6570\u4e2d\uff5e\u5468\u957f\uff1a6.28\uff0c\u9762\u79ef\uff1a3.14 showInfo\u51fd\u6570\u4e2d\uff5emain.Circle, {1} ----------------------------- Triangle\u5bf9\u8c61\uff0c\u5c5e\u6027\u5206\u522b\u662f\uff1a3.00, 4.00, 5.00 */","title":"\u6700\u4f73\u5b9e\u8df5\u4e00\uff1a\u5faa\u73af\u5224\u65ad\u4f20\u5165\u53c2\u6570\u7684\u7c7b\u578b"},{"location":"%E5%9F%BA%E7%A1%80/5/#_10","text":"package main import \"fmt\" // \u58f0\u660e\u4e00\u4e2a\u63a5\u53e3 type Usb interface { Start() Stop() } // 1\u3001Phone\u7ed3\u6784\u4f53 type Phone struct { Name string } // \u8ba9Phone\u5b9e\u73b0Usb\u63a5\u53e3\u7684\u65b9\u6cd5 func (p Phone) Start() { fmt.Println(\"\u624b\u673a\u5f00\u59cb\u5de5\u4f5c...\") } func (p Phone) Stop() { fmt.Println(\"\u624b\u673a\u505c\u6b62\u5de5\u4f5c...\") } // Phone\u8fd8\u6709\u4e00\u4e2a\u989d\u5916\u7684\u65b9\u6cd5 func (p Phone) Call(){ fmt.Println(\"\u5f00\u59cb\u6253\u7535\u8bdd...\") } // 2\u3001Camera\u7ed3\u6784\u4f53 type Camera struct { Name string } // \u8ba9Camera\u5b9e\u73b0Usb\u63a5\u53e3\u7684\u65b9\u6cd5 func (c Camera) Start() { fmt.Println(\"\u76f8\u673a\u5f00\u59cb\u5de5\u4f5c...\") } func (c Camera) Stop() { fmt.Println(\"\u76f8\u673a\u505c\u6b62\u5de5\u4f5c...\") } // 3\u3001computer\u7ed3\u6784\u4f53 type Computer struct { } // \u6839\u636e\u4e0d\u540c\u7c7b\u578b\u6267\u884c\u4e0d\u540c\u7684\u65b9\u6cd5 \u2014\u2014\u2014\u2014 \u7c7b\u578b\u65ad\u8a00 func (c *Computer) Working(usb Usb){ // Start usb.Start() // \u5982\u679c\u7c7b\u578b\u662fPhone\uff0c\u6267\u884c\u4e13\u5c5e\u7684Call\u65b9\u6cd5 \u2014\u2014\u2014\u2014 \u6ce8\u610f\u524d\u9762\u7684\u65b9\u6cd5\u5b9a\u4e49\u65f6\u4e0d\u53ef\u4ee5\u4f7f\u7528\u7ed3\u6784\u4f53\u6307\u9488\uff01\uff01\uff01 if phone, ok := usb.(Phone);ok{ phone.Call() }else{ fmt.Println(\"ok>>> \",ok) } // Stop usb.Stop() } func main() { // \u5b9a\u4e49\u4e00\u4e2aUsb\u7ed3\u6784\u4f53\u7684\u6570\u7ec4\uff0c\u53ef\u4ee5\u5b58\u653ePhone\u548cCamera\u7684\u7ed3\u6784\u4f53\u53d8\u91cf // \u8fd9\u91cc\u5c31\u4f53\u73b0\u4e86\u4e00\u4e2a\u591a\u6001\u6570\u7ec4 var usbArr [2]Usb // \u6ce8\u610f\u8fd9\u91cc\u4f20\uff1a\u7ed3\u6784\u4f53\u6307\u9488\uff01\uff01\uff01 usbArr[0] = Phone{\"Vivo\"} usbArr[1] = Camera{\"\u5c0f\u7c73\"} // \u58f0\u660e\u4e00\u4e2acomputer\u53d8\u91cf var comObj Computer for _, usbObj := range usbArr{ // \u6ce8\u610f Phone\u6709\u4e00\u4e2a\u4e13\u5c5e\u7684\u65b9\u6cd5\uff0c\u5982\u679c\u662fPhone\u5bf9\u8c61\uff0c\u5c31\u4f1a\u8c03\u7528call\u65b9\u6cd5 comObj.Working(usbObj) } } /* \u624b\u673a\u5f00\u59cb\u5de5\u4f5c... \u5f00\u59cb\u6253\u7535\u8bdd... \u624b\u673a\u505c\u6b62\u5de5\u4f5c... \u76f8\u673a\u5f00\u59cb\u5de5\u4f5c... ok>>> false \u76f8\u673a\u505c\u6b62\u5de5\u4f5c... */","title":"\u6700\u4f73\u5b9e\u8df5\u4e8c\uff1a\u6839\u636e\u4e0d\u540c\u7c7b\u578b\u6267\u884c\u4e0d\u540c\u7684\u65b9\u6cd5"},{"location":"%E5%9F%BA%E7%A1%80/6/","text":"0\u3001new\u51fd\u6570 new\uff1a\u7528\u6765\u5206\u914d\u5185\u5b58\uff0c\u4e3b\u8981\u7528\u6765\u5206\u914d\u503c\u7c7b\u578b\uff1aint\u3001float32\u3001struct...\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u6307\u5411\u8fd9\u4e2a\u6570\u636e\u7c7b\u578b\u7684\u6307\u9488\u3002 1 \u5b57\u7b26\u4e32\u7684\u64cd\u4f5c 1.1 \u5b57\u7b26\u4e32\u7684\u904d\u5386 *** package main import ( \"fmt\" \"unicode/utf8\" ) func main() { s1 := \"\u706b\u5f71whw\" // 1\u3001for ... range \u904d\u5386\u5b57\u7b26\u4e32 for i, ch := range s1{ fmt.Printf(\"%d:%c \",i, ch) } // \u6ce8\u610f\uff1a\u4e00\u4e2a\u4e2d\u6587\u5b57\u7b26\u53603\u4e2a\u5b57\u8282\uff08unitcode\u7f16\u7801\u89c4\u8303\uff09 // 0:\u706b 3:\u5f71 6:w 7:h 8:w // 2\u3001\u904d\u5386\u6240\u6709\u5b57\u8282 for i, ch := range []byte(s1){ fmt.Printf(\"%d:%x \",i, ch) } // 0:e7 1:81 2:ab 3:e5 4:bd 5:b1 6:77 7:68 8:77 // 3\u3001\u904d\u5386\u6240\u6709\u5b57\u7b26\uff08\u5305\u542b\u4e2d\u6587\uff09*** for i, ch := range []rune(s1){ fmt.Printf(\"%d:%c \",i, ch) } // 0:\u706b 1:\u5f71 2:w 3:h 4:w // 4\u3001\u5e26\u4e2d\u6587\u7684\u5b57\u7b26\u4e32\u957f\u5ea6 *** fmt.Println(\"\u5b57\u7b26\u4e32\u957f\u5ea6>>> \",utf8.RuneCountInString(s1)) //\u5b57\u7b26\u4e32\u957f\u5ea6>>> 5 } \u53ef\u4ee5\u770b\u51fa\uff0c \u5982\u679c\u5b57\u7b26\u4e32\u6d89\u53ca\u4e2d\u6587\uff0c\u904d\u5386\u5b57\u7b26\u63a8\u8350\u4f7f\u7528rune\u3002\u56e0\u4e3a\u4e00\u4e2abyte\u5b58\u4e0d\u4e0b\u4e00\u4e2a\u6c49\u8bed\u6587\u5b57\u7684unicode\u503c\u3002 1.2 strings\u5305\u7684\u5b57\u7b26\u4e32\u5904\u7406\u51fd\u6570 \u68c0\u7d22\u5b57\u7b26\u4e32 \u5206\u5272\u5b57\u7b26\u4e32 package main import ( \"fmt\" \"strings\" \"unicode\" ) func main() { // 1\u3001\u5c06\u5b57\u7b26\u4e32\u4ee5\u7a7a\u767d\u5b57\u7b26\u5206\u5272\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u5207\u7247 ret := strings.Fields(\" abc 123 ABC h s XXYY\") fmt.Println(ret) // [abc 123 ABC h s XXYY] // 2\u3001\u5c06\u5b57\u7b26\u4e32\u4ee5\u6ee1\u8db3 f(r)==true \u7684\u5b57\u7b26\u5206\u5272\uff0c\u8fd4\u56de\u4e00\u4e2a\u5207\u7247 f := func(c rune) bool{ // \u65e2\u4e0d\u662f\u5b57\u6bcd\u4e5f\u4e0d\u662f\u6570\u5b57 \u2014\u2014 \u7279\u6b8a\u5b57\u7b26\u6216\u8005\u7a7a\u683c\u7b49\u3002\u3002\u3002 return !unicode.IsLetter(c) && !unicode.IsNumber(c) } ret = strings.FieldsFunc(\"abd#123*ghs@whw sdf\",f) fmt.Println(ret) // [abd 123 ghs whw sdf] // 3\u3001\u5c06\u5b57\u7b26\u4e32\u4ee5sep\u4f5c\u4e3a\u5206\u9694\u7b26\u8fdb\u884c\u5206\u5272\uff0c\u5206\u5272\u540e\u5b57\u7b26\u53bb\u6389sep ret1 := strings.Split(\"a,b,c\",\",\") fmt.Println(ret1)//[a b c] // \u5168\u90e8\u5206\u5272 ret2 := strings.Split(\"xyz sd 123\",\"\") fmt.Println(ret2)//[x y z s d 1 2 3] // \u6ca1\u6709\u7684\u8bdd\u5217\u8868\u4e2d\u53ea\u6709\u4e00\u4e2a\u5143\u7d20 ret3 := strings.Split(\"aa,,,b,,c\",\"*\") fmt.Println(ret3)//[aa,,,b,,c] // 4\u3001\u5c06\u5b57\u7b26\u4e32\u4ee5sep\u4f5c\u4e3a\u5206\u5272\u7b26\u8fdb\u884c\u5206\u5272\uff0c\u5206\u5272\u540e\u5b57\u7b26\u6700\u540e\u9644\u4e0asep\uff0cn\u51b3\u5b9a\u8fd4\u56de\u7684\u5207\u7247\u4e2d\u5143\u7d20\u7684\u6570\u91cf ret1 = strings.SplitN(\"a,b,c,d\",\",\",2) // \u5982\u679cn\u5927\u4e8e\u6700\u591a\u7684\u719f\u7ec3\u5219\u8fd4\u56de\u5207\u7247\u540e\u6240\u6709\u7684\u6570 fmt.Println(ret1)//[a b,c,d] ret1 = strings.SplitN(\"a,b,c,d\",\",\",1) // \u5982\u679cn\u5927\u4e8e\u6700\u591a\u7684\u719f\u7ec3\u5219\u8fd4\u56de\u5207\u7247\u540e\u6240\u6709\u7684\u6570 fmt.Println(ret1)//[a,b,c,d] // 5\u3001\u5c06\u5b57\u7b26\u4e32\u4ee5sep\u4f5c\u4e3a\u5206\u9694\u7b26\u8fdb\u884c\u5206\u5272\uff0c\u5206\u5272\u540e\u5b57\u7b26\u6700\u540e\u9644\u4e0asep ret = strings.SplitAfter(\"a,b,c,d\",\",\") fmt.Println(ret) // [a, b, c, d] \u2014\u2014\u2014\u2014 \u6ce8\u610fd\u540e\u9762\u672c\u8eab\u6ca1\u6709\u9017\u53f7\uff0c\u6240\u4ee5\u8f6c\u6210\u5207\u7247\u540e\u4e5f\u6ca1\u6709\u9017\u53f7 // 6\u3001\u5c06\u5b57\u7b26\u4e32\u4ee5sep\u4f5c\u4e3a\u5206\u9694\u7b26\u8fdb\u884c\u5206\u5272\uff0c\u5206\u5272\u540e\u5b57\u7b26\u6700\u540e\u9644\u4e0asep\uff0cn\u51b3\u5b9a\u8fd4\u56de\u7684\u5207\u7247\u4e2d\u5143\u7d20\u7684\u6570\u91cf ret = strings.SplitAfterN(\"a,b,c,d\",\",\",2) fmt.Println(ret)//[a, b,c,d] } \u5927\u5c0f\u5199\u8f6c\u6362 package main import ( \"fmt\" \"strings\" ) func main() { // 1\u3001\u5c06\u5b57\u7b26\u4e32\u6bcf\u4e2a\u5355\u8bcd\u9996\u5b57\u6bcd\u5927\u5199\u8fd4\u56de ret := strings.Title(\"my name is narutoOO! \") fmt.Println(ret)//My Name Is NarutoOO! // 2\u3001\u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u6210\u5927\u5199\u8fd4\u56de ret = strings.ToTitle(\"lius fdaSD*&\") fmt.Println(ret)//LIUS FDASD*& // 3\u3001\u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u6210\u5c0f\u5199\u8fd4\u56de ret = strings.ToLower(\"ASD sdf#sASED faASDS\") fmt.Println(ret)//asd sdf#sased faasds // 4\u3001\u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u6210\u5927\u5199\u8fd4\u56de ret = strings.ToUpper(\"lius fdaSD*&\") fmt.Println(ret)//LIUS FDASD*& } \u4fee\u526a\u5b57\u7b26\u4e32 package main import ( \"fmt\" \"strings\" \"unicode\" ) func main() { // 1\u3001\u5c06\u5b57\u7b26\u4e32\u9996\u5c3e\u5305\u542b\u5728cutset\u4e2d\u7684\u4efb\u610f\u4e00\u4e2a\u5b57\u7b26\u53bb\u6389\u8fd4\u56de ret := strings.Trim(\" see wang \",\" \") fmt.Println(ret)//see wang // 2\u3001\u5c06\u5b57\u7b26\u4e32\u9996\u5c3e\u6ee1\u8db3\u51fd\u6570 f(r)==true \u7684\u5b57\u7b26\u53bb\u6389\u8fd4\u56de f := func(c rune) bool{ // \u65e2\u4e0d\u662f\u5b57\u7b26\u4e5f\u4e0d\u662f\u6570\u5b57 return !unicode.IsLetter(c) && !unicode.IsNumber(c) } ret = strings.TrimFunc(\"**dd%$sadf 123!2&()\",f) fmt.Println(ret)//dd%$sadf 123!2 // 3\u3001\u5c06\u5b57\u7b26\u4e32\u5de6\u8fb9\u5305\u542b\u5728cutset\u4e2d\u7684\u4efb\u610f\u4e00\u4e2a\u5b57\u7b26\u53bb\u6389\u8fd4\u56de ret = strings.TrimLeft(\"**&!1231**\",\"*\") fmt.Println(ret)//&!1231** // 4\u3001\u5c06\u5b57\u7b26\u4e32\u5de6\u8fb9\u6ee1\u8db3\u51fd\u6570 f(r)==true \u7684\u5b57\u7b26\u53bb\u6389\u8fd4\u56de ret = strings.TrimLeftFunc(\"**dd%$sadf 123!2&()\",f) fmt.Println(ret)//dd%$sadf 123!2&() // 5\u3001\u5c06\u5b57\u7b26\u4e32\u53f3\u8fb9\u5305\u542b\u5728cutset\u4e2d\u7684\u4efb\u610f\u4e00\u4e2a\u5b57\u7b26\u53bb\u6389\u8fd4\u56de ret = strings.TrimRight(\"**&!1231**\",\"*\") fmt.Println(ret)//**&!1231 // 6\u3001\u5c06\u5b57\u7b26\u4e32\u53f3\u8fb9\u6ee1\u8db3\u51fd\u6570 f(r)==true \u7684\u5b57\u7b26\u53bb\u6389\u8fd4\u56de ret = strings.TrimRightFunc(\"**dd%$sadf 123!2&()\",f) fmt.Println(ret)//**dd%$sadf 123!2 } \u6bd4\u8f83\u5b57\u7b26\u4e32 package main import ( \"fmt\" \"strings\" ) func main() { // 1\u3001\u6309\u7167\u5b57\u5178\u987a\u5e8f\u6bd4\u8f832\u4e2a\u5b57\u7b26\u4e32\u7684\u5927\u5c0f fmt.Println(strings.Compare(\"abc\",\"acd\")) // -1 fmt.Println(\"abc\" < \"acd\") // true // 2\u3001\u5224\u65ad\u4e24\u4e2a UTF-8\u5b57\u7b26\u4e32\u662f\u5426\u76f8\u7b49\uff0c\u5ffd\u7565\u5927\u5c0f\u5199 fmt.Println(strings.EqualFold(\"Go\",\"go\"))// true // 3\u3001\u5c06\u5b57\u7b26\u4e32\u91cd\u590dcount\u6b21\u8fd4\u56de ret := \"g\" + strings.Repeat(\"had\",3) + \"le\" fmt.Println(ret)//ghadhadhadle // 4\u3001\u66ff\u6362\u5b57\u7b26\u4e32s\u4e2dold\u5b57\u7b26\u4e3anew\u5b57\u7b26\u5e76\u8fd4\u56de\uff0c n<0 \u65f6\u66ff\u6362\u6240\u6709old\u5b57\u7b26 ret1 := strings.Replace(\"\u738b\u8001\u5927 \u738b\u8001\u4e8c \u738b\u8001\u4e09\",\"\u738b\",\"\u5f20\",2) fmt.Println(ret1)//\u5f20\u8001\u5927 \u5f20\u8001\u4e8c \u738b\u8001\u4e09 ret2 := strings.Replace(\"\u738b\u8001\u5927 \u738b\u8001\u4e8c \u738b\u8001\u4e09\",\"\u738b\",\"\u5f20\",-1) fmt.Println(ret2)//\u5f20\u8001\u5927 \u5f20\u8001\u4e8c \u5f20\u8001\u4e09 // 5\u3001\u5c06a\u4e2d\u6240\u6709\u5b57\u7b26\u8fde\u63a5\u6210\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u4f7f\u7528\u5b57\u7b26\u4e32sep\u4f5c\u4e3a\u5206\u5272\u7b26 \u2014\u2014\u2014\u2014\u2014 Join s := []string{\"abc\",\"ABC\",\"123\"} ret1 = strings.Join(s,\",\") fmt.Println(ret1)//abc,ABC,123 ret2 = strings.Join(s,\"\") fmt.Println(ret2)//abcABC123 } 1.3 \u5b57\u7b26\u4e32\u5176\u4ed6\u64cd\u4f5c 0\uff09\u4fee\u6539\u5b57\u7b26\u4e32 \u5982\u679c\u60f3\u4fee\u6539\u5b57\u7b26\u4e32\uff0c\u53ef\u4ee5\u5148\u5c06 string -> []byte / \u6216\u8005 []rune->\u4fee\u6539->\u91cd\u5199\u8f6c\u6210string\u3002 1) \u7edf\u8ba1\u5b57\u7b26\u4e32\u957f\u5ea6(\u6309\u5b57\u8282) len\u51fd\u6570 str := \"\u706b\u5f71whw\" fmt.Println(len(str)) // 9 \u6ce8\u610f\u4e00\u4e2a\u4e2d\u6587\u5b57\u7b26\u53603\u4e2aunitcode\u4f4d 2) \u5b57\u7b26\u4e32\u904d\u5386\uff0c\u540c\u65f6\u5904\u7406\u6709\u4e2d\u6587\u7684\u95ee\u9898 r := []rune(str) str := \"\u706b\u5f71whw\" newStr := []rune(str) for i,val := range newStr{ fmt.Printf(\"%d:%c \",i,val) } // 0:\u706b 1:\u5f71 2:w 3:h 4:w 3) \u5b57\u7b26\u4e32\u8f6c\u6574\u6570 n, err := strconv.Atoi(\"123\") if err != nil{ fmt.Println(\"\u8f6c\u6362\u9519\u8bef\",err) }else{ fmt.Printf(\"result>>> %v, %T \\n\",n, n) //123, int } 4) \u6574\u6570\u8f6c\u5b57\u7b26\u4e32 str := strconv.Itoa(123) fmt.Printf(\"str>>> %v, %T \\n\",str, str) // 123, string 5) 6) \u67e5\u627e\u5b50\u4e32\u662f\u5426\u5728\u6307\u5b9a\u7684\u5b57\u7b26\u4e32\u4e2d b := strings.Contains(\"wanghw\",\"ang\") fmt.Println(b)// true 7) \u7edf\u8ba1\u4e00\u4e2a\u5b57\u7b26\u4e32\u6709\u51e0\u4e2a\u6307\u5b9a\u7684\u5b50\u4e32 strings.Count(\"Chinese\",\"c\") 8) \u4e0d\u533a\u5206\u5927\u5c0f\u5199\u7684\u6bd4\u8f83 result := strings.EqualFold(\"whw\",\"Whw\") fmt.Println(result)// true 9) \u5176\u4ed6\u6574\u5408 // \u8fd4\u56de\u5b50\u4e32\u7b2c\u4e00\u6b21\u51fa\u73b0\u7684index\u503c\uff0c\u6ca1\u6709\u5c31\u8fd4\u56de-1 index := strings.Index(\"wanghw\",\"w\") fmt.Println(index)// 0 // \u8fd4\u56de\u5b50\u4e32\u5728\u5b57\u7b26\u4e32\u6700\u540e\u4e00\u6b21\u51fa\u73b0\u7684index\uff0c\u6ca1\u6709\u8fd4\u56de-1 index = strings.LastIndex(\"wanghw\",\"w\") fmt.Println(index)// 5 // \u5c06\u6307\u5b9a\u7684\u5b50\u4e32\u66ff\u6362\u6210\u53e6\u5916\u4e00\u4e2a\u5b50\u4e32\uff0c-1\u8868\u793a\u5168\u90e8\u66ff\u6362\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u60f3\u66ff\u6362\u51e0\u4e2a str := \"go go hello\" str1 := strings.Replace(str,\"go\",\"hi\",1) fmt.Println(str1) // hi go hello // \u6309\u7167\u67d0\u4e2a\u5b57\u7b26\u4e32\u5206\u5272\uff0c\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u6570\u7ec4 strArr := strings.Split(\"hello;hi;whw\",\";\") for _, val := range strArr{ fmt.Printf(\"%s\\t\",val)//hello hi whw } // \u5927\u5c0f\u5199\u8f6c\u6362 \u5168\u8f6c\u6210\u5c0f\u5199 str = strings.ToLower(\"WansHW\") fmt.Println(str)//wanshw // \u5927\u5c0f\u5199\u8f6c\u6362 \u5168\u8f6c\u6210\u5927\u5199 str = strings.ToUpper(\"shaSAl\") fmt.Println(str)//SHASAL // \u5c06\u5b57\u7b26\u4e32\u5de6\u53f3\u4e24\u8fb9\u7684\u7a7a\u683c\u90fd\u53bb\u6389 str = \" asdf sdf jjj whw \" str1 = strings.TrimSpace(str) fmt.Println(str1) //asdf sdf jjj whw // \u53bb\u6389\u5de6\u53f3\u4e24\u8fb9\u6307\u5b9a\u7684\u5b57\u7b26 str = \"!hello#!\" str1 = strings.Trim(str,\"!\") fmt.Println(str1) //hello# // \u53bb\u6389\u5de6\u8fb9\u6307\u5b9a\u7684\u5b57\u7b26\uff1astrings.TrimLeft(...) // \u53bb\u6389\u53f3\u8fb9\u6307\u5b9a\u7684\u5b57\u7b26\uff1astrings.TrimRight(...) // \u5224\u65ad\u662f\u5426\u662f\u4ee5\u6307\u5b9a\u7684\u5b57\u7b26\u4e32\u5f00\u5934 b := strings.HasPrefix(\"wanghyw\",\"wa\") fmt.Println(b) // true // \u5224\u65ad\u662f\u5426\u4ee5\u6307\u5b9a\u5b57\u7b26\u4e32\u7ed3\u675f b = strings.HasSuffix(\"wanghhh,\",\",\") fmt.Println(b) // true 2\u3001strconv\u5305\u5e38\u7528\u51fd\u6570 strconv\u5305\u5b9e\u73b0\u4e86\u5b57\u7b26\u4e32\u4e0e\u5176\u4ed6\u57fa\u672c\u6570\u636e\u7c7b\u578b\u4e4b\u95f4\u7684\u7c7b\u578b\u8f6c\u6362\u3002 Parse\u7c7b\u51fd\u6570 Parse \u7c7b\u51fd\u6570\u4e3b\u8981\u7684\u529f\u80fd\u662f\u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u5176\u4ed6\u7c7b\u578b\uff0c\u5e38\u7528\u7684 Parse \u7c7b\u51fd\u6570\u5982\u8868\uff1a package main import ( \"fmt\" \"strconv\" ) func main() { // string -> int _int, _ := strconv.Atoi(\"97\") fmt.Println(_int, _int == int(97)) // string -> int64 _int64, _ := strconv.ParseInt(\"97\", 10, 64) fmt.Println(_int64, _int64 == int64(97)) // https://stackoverflow.com/questions/30299649/parse-string-to-specific-type-of-int-int8-int16-int32-int64 // string -> int32\uff0c\u6ce8\u610f parseInt \u59cb\u7ec8\u8fd4\u56de\u7684\u662f int64\uff0c\u6240\u4ee5\u8fd8\u662f\u9700\u8981 int32(n) \u5f3a\u8f6c\u4e00\u4e0b _int32, _ := strconv.ParseInt(\"97\", 10, 32) fmt.Println(_int32, int32(_int32) == int32(97)) // string -> float32/float64 https://yourbasic.org/golang/convert-string-to-float/ f := \"3.14159265\" if s, err := strconv.ParseFloat(f, 32); err == nil { fmt.Println(s) // 3.1415927410125732 } if s, err := strconv.ParseFloat(f, 64); err == nil { fmt.Println(s) // 3.14159265 } } Format\u7c7b\u51fd\u6570 Format\u7c7b\u51fd\u6570\u4e3b\u8981\u7684\u529f\u80fd\u662f\u5c06\u5176\u4ed6\u7c7b\u578b\u683c\u5f0f\u5316\u6210\u5b57\u7b26\u4e32 // \u63a8\u8350\u4e00\u4e2a\u66f4\u52a0\u5f3a\u5927\u7684\u8f6c\u6362\u5e93\uff1ahttps://github.com/spf13/cast package main import ( \"fmt\" \"strconv\" ) func main() { // \u6d4b\u8bd5 int \u548c string(decimal) \u4e92\u76f8\u8f6c\u6362\u7684\u51fd\u6570 // https://yourbasic.org/golang/convert-int-to-string/ // int -> string sint := strconv.Itoa(97) fmt.Println(sint, sint == \"97\") // byte -> string bytea := byte(1) bint := strconv.Itoa(int(bytea)) fmt.Println(bint) // int64 -> string sint64 := strconv.FormatInt(int64(97), 10) fmt.Println(sint64, sint64 == \"97\") // int64 -> string (hex) \uff0c\u5341\u516d\u8fdb\u5236 sint64hex := strconv.FormatInt(int64(97), 16) fmt.Println(sint64hex, sint64hex == \"61\") // int32 -> string, https://stackoverflow.com/questions/39442167/convert-int32-to-string-in-golang fmt.Println(\"------- int32 -> string ------\") res1 := strconv.FormatInt(int64(23), 10) // fast fmt.Println(\"res1>>> \",res1) res2 := strconv.Itoa(int(23)) // fast fmt.Println(\"res2>>> \",res2) res3 := fmt.Sprint(23) // slow fmt.Println(\"re3s>>> \",res3) fmt.Println(\"-------------\") // int -> int64 \uff0c\u4e0d\u4f1a\u4e22\u5931\u7cbe\u5ea6 var n int = 97 fmt.Println(int64(n) == int64(97)) // float -> string https://yourbasic.org/golang/convert-string-to-float/ s := fmt.Sprintf(\"%f\", 123.456) fmt.Println(\"s>>> \",s) } 3\u3001\u65f6\u95f4\u5904\u7406\u51fd\u6570 3.0 time\u5305\u5e38\u7528\u51fd\u6570 4\u3001 math\u5305\u5e38\u7528\u51fd\u6570 5\u3001\u968f\u673a\u6570 \u201cmath/rand\u201d\u5305\u5b9e\u73b0\u4e86\u4f2a\u968f\u673a\u6570\u751f\u6210\u5668\uff0c\u80fd\u591f\u751f\u6210 \u6574\u578b \u548c \u6d6e\u70b9\u578b \u7684\u968f\u673a\u6570\u3002 \u4f7f\u7528\u968f\u673a\u6570\u751f\u6210\u5668\u9700\u8981\u653e\u5165\u79cd\u5b50\u3002\u53ef\u4ee5\u4f7f\u7528Seed()\u51fd\u6570\u751f\u6210\u4e00\u4e2a\u4e0d\u786e\u5b9a\u7684\u79cd\u5b50\u653e\u5165\u968f\u673a\u6570\u751f\u6210\u5668\uff0c\u8fd9\u6837\u6bcf\u6b21\u8fd0\u884c\u968f\u673a\u6570\u751f\u6210\u5668\u90fd\u4f1a\u751f\u6210\u4e0d\u540c\u7684\u5e8f\u5217\u3002\u5982\u679c\u6ca1\u6709\u5728\u968f\u673a\u6570\u751f\u6210\u5668\u4e2d\u653e\u5165\u79cd\u5b50\uff0c\u5219\u9ed8\u8ba4\u4f7f\u7528\u5177\u6709\u786e\u5b9a\u6027\u72b6\u6001\u7684\u79cd\u5b50\uff0c\u6b64\u65f6\u53ef\u4ee5\u7406\u89e3\u4e3a\u79cd\u5b50\u7684\u503c\u662f\u4e00\u4e2a\u5e38\u65701\uff0c\u5373Seed(1)\u3002 \u83b7\u53d6\u968f\u673a\u6570\u7684\u51e0\u79cd\u65b9\u5f0f println(rand.Int()) println(rand.Float64()) println(rand.Intn(12))// \u83b7\u53d6 0-12\u968f\u673a\u6570 \u8fd9\u6837\u603b\u662f\u751f\u6210\u56fa\u5b9a\u7684\u968f\u673a\u6570\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u968f\u673a\u6570\u79cd\u5b50\u90fd\u662f1\u3002seed\u662f\u4e00\u4e2a64\u4f4d\u6574\u6570\u3002 \u52a8\u6001\u968f\u673a\u6570\u79cd\u5b50\u751f\u6210\u968f\u673a\u8d44\u6e90\uff0c\u4ea7\u751f\u968f\u673a\u5bf9\u8c61\u6765\u83b7\u53d6\u968f\u673a\u6570\uff0c\u5177\u4f53\u65b9\u6cd5\u5982\u4e0b\u6240\u793a: s1 := rand.NewSource(time.Now().UnixNano()) r1 := rand.New(s1) randNum := r1.Intn(12) // 0-12\u968f\u673a\u6570 fmt.Println(randNum) \u7b80\u5199\u5f62\u5f0f\uff1a\u52a8\u6001\u53d8\u5316\u968f\u673a\u6570\u79cd\u5b50\u6765\u83b7\u53d6\u968f\u673a\u6570\uff0c\u5177\u4f53\u65b9\u6cd5\u5982\u4e0b\u6240\u793a: \uff081\uff09\u83b7\u53d6\u6574\u578b 0\uff5e10\u968f\u673a\u6570 rand.Seed(time.Now().UnixNano()) rand.Intn(10) \uff082\uff09\u83b7\u53d6\u6d6e\u70b9\u578b 0.0\uff5e1.0\u968f\u673a\u6570 rand.Seed(time.Now().UnixNano()) rand.Float64() \uff083\uff09\u83b7\u53d6 m\uff5en\u968f\u673a\u6570 rand.Seed(time.Now().UnixNano()) \u968f\u673a\u6570 = rand.Intn(n - m + 1) + m \u6bd4\u5982 \u83b7\u53d6 [5,11]\u968f\u673a\u6570\uff0c\u8bed\u6cd5\u5982\u4e0b\uff1a rand.Intn(7) + 5 6\u3001regexp\u6b63\u5219\u8868\u8fbe\u5f0f\u5305 regexp\u5305\u4e2d\u6838\u5fc3\u51fd\u6570\u53ca\u65b9\u6cd5\u4ecb\u7ecd package main import ( \"fmt\" \"regexp\" ) func main() { // 1\u3001\u68c0\u67e5\u6b63\u5219\u8868\u8fbe\u5f0f\u4e0e\u5b57\u8282\u6570\u7ec4\u662f\u5426\u5339\u914d flag, _ := regexp.Match(\"^\\\\d{6,15}$\",[]byte(\"1234556788\")) fmt.Println(flag)//true // 2\u3001\u68c0\u67e5\u6b63\u5219\u8868\u8fbe\u5f0f\u4e0e\u5b57\u7b26\u4e32\u662f\u5426\u5339\u914d\u3002 flag, _ = regexp.MatchString(\"^\\\\d{1,12}$\",\"123222333\") fmt.Println(flag)//true // 3\u3001\u5c06\u6b63\u5219\u8868\u8fbe\u5f0f\u5b57\u7b26\u4e32\u7f16\u8bd1\u6210\u6b63\u5219\u8868\u8fbe\u5f0f\u5bf9\u8c61\uff08Regexp\uff09 MyRegexp, _ := regexp.Compile(\"^\\\\d{2,22}$\") flag = MyRegexp.MatchString(\"123123a\") fmt.Println(flag)//false // 4\u3001ReplaceAll()\u5c06src\u4e2d\u7b26\u5408\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u90e8\u5206\u5168\u90e8\u66ff\u6362\u6210\u6307\u5b9a\u5185\u5bb9\u3002 text := \"\u554a\u54c8\u54c8 123 \u563f\u563f\u563f 333 \u706b\u5f71 123222\" MyRegexp2, _ := regexp.Compile(\"[\\\\d\\\\s]+\") ret := MyRegexp2.ReplaceAll([]byte(text),[]byte(\"x\")) fmt.Println(string(ret))//\u554a\u54c8\u54c8x\u563f\u563f\u563fx\u706b\u5f71x // 5\u3001\u5c06\u5b57\u7b26\u4e32\u6309\u7167\u6b63\u5219\u8868\u8fbe\u5f0f\u5206\u5272\u6210\u5b50\u5b57\u7b26\u4e32\u7ec4\u6210\u7684\u5207\u7247\u3002\u5982\u679c\u5207\u7247\u957f\u5ea6\u8d85\u8fc7\u6307\u5b9a\u53c2\u6570n\uff0c\u5219\u4e0d\u518d\u5206\u5272\u3002 text = \"\u7b2c\u4e00#\u7b2c\u4e8c##\u7b2c\u4e09###\u7b2c\u56db####\u7b2c\u4e94#####\u7b2c\u516d######\u7b2c\u4e03####\u7b2c\u516b##\u7b2c\u4e5d\" MyREgexp3, _ := regexp.Compile(\"#+\") arr := MyREgexp3.Split(text,5) fmt.Println(arr)//[\u7b2c\u4e00 \u7b2c\u4e8c \u7b2c\u4e09 \u7b2c\u56db \u7b2c\u4e94#####\u7b2c\u516d######\u7b2c\u4e03####\u7b2c\u516b##\u7b2c\u4e5d] } 7 Go\u8bed\u8a00\u6587\u4ef6I/O\u64cd\u4f5c 7.1 \u6587\u4ef6\u6982\u8ff0 \u6240\u8c13\u201c\u6587\u4ef6\u201d\uff0c\u662f\u6307\u4e00\u7ec4\u76f8\u5173\u6570\u636e\u7684\u6709\u5e8f\u96c6\u5408\u3002\u6587\u4ef6\u901a\u5e38\u662f\u9a7b\u7559\u5728\u5916\u90e8\u4ecb\u8d28\uff08\u5982\u78c1\u76d8\u7b49\uff09\u4e0a\u7684\uff0c\u5728\u4f7f\u7528\u65f6\u624d\u8c03\u5165\u5185\u5b58\u3002\u8ba1\u7b97\u673a\u7cfb\u7edf\u662f\u4ee5\u6587\u4ef6\u4e3a\u5355\u4f4d\u6765\u5bf9\u6570\u636e\u8fdb\u884c\u7ba1\u7406\u7684\u3002 \u4e00\u4e2a\u6587\u4ef6\u8981\u6709\u7531\u6587\u4ef6\u8def\u5f84\u3001\u6587\u4ef6\u540d\u4e3b\u5e72\u548c\u6587\u4ef6\u540d\u540e\u7f00\uff08Windows\u6709\u65f6\u4f1a\u9690\u85cf\uff09\u7ec4\u6210\u7684\u552f\u4e00\u6807\u8bc6\uff0c\u4ee5\u4fbf\u7528\u6237\u8bc6\u522b\u548c\u5f15\u7528\uff0c\u5b83\u5e38\u88ab\u79f0\u4e3a\u6587\u4ef6\u540d\uff0c\u4f46\u6ce8\u610f\uff0c\u6b64\u65f6\u6240\u79f0\u7684\u6587\u4ef6\u540d\u5305\u62ec3\u90e8\u5206\u5185\u5bb9\uff0c\u800c\u4e0d\u662f\u6587\u4ef6\u540d\u4e3b\u5e72\u3002\u6587\u4ef6\u540d\u4e3b\u5e72\u9075\u5b88\u6807\u8bc6\u7b26\u7684\u547d\u540d\u89c4\u5219\u3002\u6587\u4ef6\u540d\u540e\u7f00\u7528\u6765\u8868\u793a\u6587\u4ef6\u7684\u5f62\u5f0f\uff0c\u4e00\u822c\u4e0d\u8d85\u8fc73\u4e2a\u5b57\u6bcd\u3002\u5982exe\uff08\u53ef\u6267\u884c\u6587\u4ef6\uff09\u3001go\uff08Go\u8bed\u8a00\u7a0b\u5e8f\u6587\u4ef6\uff09\u3001txt\uff08\u6587\u672c\u6587\u4ef6\uff09\u7b49\u3002 7.2 FIleInfo\u63a5\u53e3 \u6587\u4ef6\u7684\u4fe1\u606f\u5305\u62ec\u6587\u4ef6\u540d\u3001\u6587\u4ef6\u5927\u5c0f\u3001\u4fee\u6539\u6743\u9650\u3001\u4fee\u6539\u65f6\u95f4\u7b49\u3002 Go\u8bed\u8a00\u7cfb\u7edf\u6587\u4ef6\u4fe1\u606f\u63a5\u53e3\u5c5e\u6027\u5b9a\u4e49\u5982\u4e0b\u6240\u793a\u3002 fileStat\u7ed3\u6784\u4f53\uff08\u6587\u4ef6\u4fe1\u606f\uff09\u5b9a\u4e49\u5982\u4e0b\u6240\u793a\u3002 fileStat\u7ed3\u6784\u4f53\u7684\u5e38\u7528\u65b9\u6cd5\u5982\u4e0b\u6240\u793a\u3002 \u60f3\u8981\u67e5\u770b\u6587\u4ef6\u7684\u4fe1\u606f\uff0c\u5fc5\u987b\u8981\u77e5\u9053\u6587\u4ef6\u7684\u8def\u5f84\u3002 \u4e0b\u9762\u901a\u8fc7\u4e00\u4e2a\u6848\u4f8b\u6f14\u793a\u83b7\u53d6\u6587\u4ef6\u4fe1\u606f\uff1a package main import ( \"fmt\" \"os\" ) func main() { // \u7edd\u5bf9\u8def\u5f84 path := \"/Users/Wanghongwei/Desktop/ppyt.py\" printMessage(path) /* \u6570\u636e\u7c7b\u578b\u662f:*os.fileStat \u6587\u4ef6\u540d: ppyt.py \u662f\u5426\u4e3a\u76ee\u5f55: false \u6587\u4ef6\u5927\u5c0f: 21 \u6587\u4ef6\u6743\u9650: -rw-r--r-- \u6587\u4ef6\u6700\u540e\u4fee\u6539\u65f6\u95f4: 2020-11-10 14:32:31.806397859 +0800 CST */ } func printMessage(filePath string) { fileInfo, err := os.Stat(filePath) if err != nil { fmt.Println(\"err:\", err.Error()) } else { fmt.Printf(\"\u6570\u636e\u7c7b\u578b\u662f:%T \\n\", fileInfo) fmt.Println(\"\u6587\u4ef6\u540d:\", fileInfo.Name()) fmt.Println(\"\u662f\u5426\u4e3a\u76ee\u5f55:\", fileInfo.IsDir()) fmt.Println(\"\u6587\u4ef6\u5927\u5c0f:\", fileInfo.Size()) fmt.Println(\"\u6587\u4ef6\u6743\u9650:\", fileInfo.Mode()) fmt.Println(\"\u6587\u4ef6\u6700\u540e\u4fee\u6539\u65f6\u95f4:\", fileInfo.ModTime()) } } \u6587\u4ef6\u6743\u9650\u7b80\u5355\u8bf4\u660e \u6587\u4ef6\u7684\u6743\u9650\u6253\u5370\u51fa\u6765\u4e00\u517110\u4e2a\u5b57\u7b26\u3002\u6587\u4ef6\u67093\u79cd\u57fa\u672c\u6743\u9650\uff1ar\uff08read\uff0c\u8bfb\u6743\u9650\uff09\u3001w\uff08write\uff0c\u5199\u6743\u9650\uff09\u3001x\uff08execute\uff0c\u6267\u884c\u6743\u9650\uff09\u3002\u6587\u4ef6\u6743\u9650\u8bf4\u660e\u5982\u56fe\u6240\u793a\u3002 \u6587\u4ef6\u6743\u9650\u7b80\u5355\u8bf4\u660e\uff1a \u6587\u4ef6\u6743\u9650\u516b\u8fdb\u5236\u8868\u793a\u6cd5 \u4f8b\u5982\uff1a-rwxrwxrwx\u6743\u9650\u7528\u516b\u8fdb\u5236\u8868\u793a\u4e3a\uff1a0777 7.3 \u6587\u4ef6\u8def\u5f84 \u4e0e\u6587\u4ef6\u8def\u5f84\u76f8\u5173\u7684\u65b9\u6cd5\u5982\u8868\uff1a package main import ( \"fmt\" \"path\" \"path/filepath\" ) func main() { // \u7edd\u5bf9\u8def\u5f84 filePath1 := \"/Users/Wanghongwei/DeskTop/ppyt.py\" // \u76f8\u5bf9\u8def\u5f84 filePath2 := \"../t2/variable.go\" // \u662f\u5426\u4e3a\u7edd\u5bf9\u8def\u5f84 fmt.Println(filepath.IsAbs(filePath1)) // true fmt.Println(filepath.IsAbs(filePath2)) // false // \u83b7\u53d6\u76f8\u5bf9\u8def\u5f84 fmt.Println(filepath.Rel(\"/Users/Wanghongwei\",filePath1)) //DeskTop/ppyt.py <nil> // \u83b7\u53d6\u7edd\u5bf9\u8def\u5f84 fmt.Println(filepath.Abs(filePath1)) ///Users/Wanghongwei/DeskTop/ppyt.py <nil> fmt.Println(filepath.Abs(filePath2)) ///Users/wanghongwei/GoProject/t2/variable.go <nil> // \u62fc\u63a5\u8def\u5f84 fmt.Println(path.Join(filePath1,\"..\")) ///Users/Wanghongwei/DeskTop fmt.Println(path.Join(filePath1,\"../..\")) ///Users/Wanghongwei fmt.Println(\"/Users/Wanghongwei/Desktop\",filePath2) ///Users/Wanghongwei/Desktop ../t2/variable.go } 7.4 \u6587\u4ef6\u5e38\u89c4\u64cd\u4f5c \u521b\u5efa\u76ee\u5f55 \u521b\u5efa\u76ee\u5f55\u65f6\uff0c\u5982\u679c\u76ee\u5f55\u5b58\u5728\uff0c\u5219\u521b\u5efa\u5931\u8d25\u3002Go\u8bed\u8a00\u63d0\u4f9b\u4e86\u4e24\u79cd\u65b9\u6cd5\u3002 1. os.Mkdir() os.MKdir()\u4ec5\u521b\u5efa\u4e00\u5c42\u76ee\u5f55\u3002\u5b98\u65b9\u6587\u6863\u89e3\u91ca\u5982\u4e0b\u6240\u793a\u3002 // Mkdir creates a new directory with the specified name and permission // bits (before umask). // If there is an error, it will be of type *PathError. 2. os.MKdirAll() os.MKdirAll()\u521b\u5efa\u591a\u5c42\u76ee\u5f55\u3002 package main import ( \"fmt\" \"os\" ) func main() { // \u521b\u5efa\u5355\u4e2a\u76ee\u5f55 filePath1 := \"./test1\" err := os.Mkdir(filePath1,os.ModePerm) if err != nil{ fmt.Println(\"err>> \",err) } // \u521b\u5efa\u591a\u7ea7\u76ee\u5f55 filePath2 := \"./test2/adb/xyz\" err = os.MkdirAll(filePath2,os.ModePerm) if err != nil{ fmt.Println(\"err>> \",err) } } \u521b\u5efa\u6587\u4ef6 os.Create()\u521b\u5efa\u6587\u4ef6\uff0c\u5982\u679c\u6587\u4ef6\u5b58\u5728\uff0c\u4f1a\u5c06\u5176\u8986\u76d6\u3002\u5b98\u65b9\u6587\u6863\u89e3\u91ca\u5982\u4e0b\u6240\u793a\u3002 // Create creates or truncates the named file. If the file already exists, // it is truncated. If the file does not exist, it is created with mode 0666 // (before umask). If successful, methods on the returned File can // be used for I/O; the associated file descriptor has mode O_RDWR. // If there is an error, it will be of type *PathError. func Create(name string) (*File, error) { return OpenFile(name, O_RDWR|O_CREATE|O_TRUNC, 0666) } \u8be5\u51fd\u6570\u672c\u8d28\u4e0a\u662f\u5728\u8c03\u7528os.OpenFile()\u51fd\u6570\u3002 package main import ( \"fmt\" \"os\" ) func main() { filePath := \"./test1/abc.json\" file, err := os.Create(filePath) if err != nil{ fmt.Println(\"err>>> \",err) }else{ fmt.Println(\"file>>> \", file) } } \u6253\u5f00\u548c\u5173\u95ed\u6587\u4ef6 \u6253\u5f00\u6587\u4ef6\uff1a\u8ba9\u5f53\u524d\u7684\u7a0b\u5e8f\u548c\u6307\u5b9a\u7684\u6587\u4ef6\u5efa\u7acb\u4e00\u4e2a\u94fe\u63a5\u3002 os.Open()\u51fd\u6570\u672c\u8d28\u4e0a\u662f\u5728\u8c03\u7528os.OpenFile()\u51fd\u6570\u3002 // Open opens the named file for reading. If successful, methods on // the returned file can be used for reading; the associated file // descriptor has mode O_RDONLY. // If there is an error, it will be of type *PathError. func Open(name string) (*File, error) { return OpenFile(name, O_RDONLY, 0) } // OpenFile is the generalized open call; most users will use Open // or Create instead. It opens the named file with specified flag // (O_RDONLY etc.). If the file does not exist, and the O_CREATE flag // is passed, it is created with mode perm (before umask). If successful, // methods on the returned File can be used for I/O. // If there is an error, it will be of type *PathError. func OpenFile(name string, flag int, perm FileMode) (*File, error) { testlog.Open(name) f, err := openFileNolog(name, flag, perm) if err != nil { return nil, err } f.appendMode = flag&O_APPEND != 0 return f, nil } \u793a\u4f8b\uff1a package main import ( \"fmt\" \"os\" ) func main() { filePath := \"./test1/abc.json\" // \u6253\u5f00\u6587\u4ef6 file, err := os.Open(filePath) if err != nil{ fmt.Println(\"err>>> \",err) }else{ fmt.Println(\"file>>> \",file) } // \u4ee5\u8bfb\u5199\u7684\u65b9\u5f0f\u6253\u5f00\uff0c\u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\u5c31\u521b\u5efa // \u2014\u2014\u2014\u2014 \u6ce8\u610f \u76ee\u5f55\u5fc5\u987b\u5b58\u5728\uff01\uff01\uff01 filePath2 := \"./test2/aaa.json\" file2, err2 := os.OpenFile(filePath2,os.O_CREATE,os.ModePerm) if err2 != nil{ fmt.Println(\"err>>> \",err2) }else{ fmt.Println(\"file2>>> \",file2) } } // \u5173\u95ed\u6587\u4ef6 file.close() file2.close() \u5220\u9664\u6587\u4ef6 \u5220\u9664\u6587\u4ef6\u6709\u4e24\u79cd\u65b9\u6cd5\uff0c\u5982\u4e0b\u6240\u793a\uff1a package main import ( \"fmt\" \"os\" ) func main() { // 1 \u5220\u9664\u5355\u4e2a\u6587\u4ef6\u6216\u76ee\u5f55 filePath := \"./test1/abc.json\" err := os.Remove(filePath) if err != nil{ fmt.Println(err) } // 2 \u5c06\u76ee\u5f55\u4e2d\u6240\u6709\u6587\u4ef6\u53ca\u76ee\u5f55\u5220\u9664 \u5305\u62ec\u8fd9\u4e2a\u6839\u76ee\u5f55\uff01 filePath2 := \"./test2\" err2 := os.RemoveAll(filePath2) if err2 != nil{ fmt.Println(err2) } // 3 \u4f7f\u7528 os.Remove \u65b9\u6cd5\u5220\u9664\u975e\u7a7a\u7684\u76ee\u5f55\u4f1a\u62a5\u9519\uff01\uff01\uff01 filePath3 := \"./test3\" // test3\u4e2d\u6709\u4e1c\u897f err3 := os.Remove(filePath3) if err3 != nil{ fmt.Println(\"err3>>> \",err3) // remove ./test3: directory not empty }else{ fmt.Println(filePath3) } } \u8bfb\u53d6\u6587\u4ef6 \u8bfb\u53d6\u6587\u4ef6\u6570\u636e package main import ( \"fmt\" \"io\" \"os\" ) func main() { // \u8bfb\u53d6\u6587\u4ef6\u6570\u636e filePath := \"./test1/abc.txt\" file, err := os.Open(filePath) if err != nil{ fmt.Println(\"err>>> \",err) }else{ // \u8bfb\u53d6\u6587\u4ef6 bs := make([]byte,1024*8,1024*8) n := -1 for { n, err = file.Read(bs) if n == 0 || err == io.EOF{ fmt.Println(\"\u8bfb\u53d6\u6587\u4ef6\u7ed3\u675f\uff01\") break } fmt.Println(string(bs[:n])) } } // \u5173\u95ed\u6587\u4ef6 file.Close() } /* whw 123 666 \u738b\u5b8f\u4f1f666 \u8bfb\u53d6\u6587\u4ef6\u7ed3\u675f\uff01 */ \u5199\u5165\u6587\u4ef6 package main import ( \"fmt\" \"os\" ) func main() { // \u8bfb\u53d6\u6587\u4ef6\u6570\u636e filePath := \"./test1/writeTest.txt\" file, err := os.OpenFile(filePath,os.O_RDWR|os.O_CREATE,os.ModePerm) if err != nil{ fmt.Println(\"err>>> \",err) }else{ // \u5199\u5165\u6587\u4ef6 n, err := file.Write([]byte(\"abdcsa13\\n\")) if err != nil{ fmt.Println(\"\u5199\u5165\u6587\u4ef6\u5f02\u5e38:\",err) }else{ fmt.Println(\"n:\",n) // 9 } // \u5199\u5165\u6c49\u5b57\uff01 n, err = file.WriteString(\"\u738b\u5b8f\u4f1f666\") if err != nil{ fmt.Println(\"\u5199\u5165\u6c49\u5b57\u5f02\u5e38>>\",err) }else{ fmt.Println(\"n:\",n) // 12 } } // \u5173\u95ed\u6587\u4ef6 file.Close() } \u590d\u5236\u6587\u4ef6 Go\u8bed\u8a00\u63d0\u4f9b\u4e86copyFile()\u65b9\u6cd5\uff0c\u7528\u6765\u590d\u5236\u6587\u4ef6\u3002 package main import ( \"fmt\" \"io\" \"os\" ) func main() { // \u6e90\u6587\u4ef6\u76f8\u5bf9\u8def\u5f84 srcFilePath := \"./test1/writeTest.txt\" // \u51c6\u5907\u751f\u6210\u7684\u76ee\u6807\u6587\u4ef6\u8def\u5f84 \uff01 \u6ce8\u610ftest2\u8fd9\u4e2a\u76ee\u5f55\u5fc5\u987b\u5b58\u5728\uff01\uff01\uff01 newFilePath := \"./test2/copyTest.txt\" total, err := copyFile(newFilePath,srcFilePath) if err != nil{ fmt.Println(\"err:\",err) } else{ fmt.Println(\"\u590d\u5236OK\uff01\",total) } } func copyFile(destFile, srcFile string)(int64, error){ file1, err := os.Open(srcFile) if err != nil{ return 0, err } file2, err := os.OpenFile(destFile,os.O_RDWR|os.O_CREATE,os.ModePerm) if err != nil{ return 0, err } // defer close defer file1.Close() defer file2.Close() // \u590d\u5236\uff01 return io.Copy(file2, file1) } 7.5 ioutil\u5305 ioutil\u5305\u7684\u6838\u5fc3\u51fd\u6570\u5982\u8868\u6240\u793a\uff1a package main import ( \"fmt\" \"io/ioutil\" \"os\" ) func main() { // \u6253\u5f00\u6587\u4ef6 filePath1 := \"./test1/writeTest.txt\" data, err := ioutil.ReadFile(filePath1) if err != nil{ fmt.Println(\"err>> \",err) }else{ fmt.Println(\"data>> \\n\",string(data)) } // \u5199\u5165\u6587\u4ef6 \u4f1a\u8986\u76d6\u4e4b\u524d\u7684\u5185\u5bb9\uff01 filePath2 := \"./test2/copyTest.txt\" writeString := \"\u91d1\u521a\u846b\u82a6\u5a03\" err = ioutil.WriteFile(filePath2,[]byte(writeString),os.ModePerm) if err != nil{ fmt.Println(\"\u5199\u5165\u6587\u4ef6\u5931\u8d25\") } // \u6587\u4ef6\u590d\u5236 err = ioutil.WriteFile(filePath2,data,os.ModePerm) if err != nil{ fmt.Println(\"\u6587\u4ef6\u590d\u5236\u5f02\u5e38\uff01\",err.Error()) } // \u904d\u5386\u76ee\u5f55 v\u662f\u6307\u5b9a\u76ee\u5f55\u91cc\u7684\u6587\u4ef6\u6216\u6587\u4ef6\u5939 dirName := \"./\" fileInfos, err := ioutil.ReadDir(dirName) if err != nil{ fmt.Println(\"\u76ee\u5f55\u904d\u5386\u5f02\u5e38\uff01\",err.Error()) }else{ for i, v := range fileInfos{ fmt.Println(i, v.Name(), v.IsDir(),v.Size(), v.ModTime()) } } // \u521b\u5efa\u76ee\u5f55 fileName, err := ioutil.TempDir(\"./\",\"temp\") if err != nil{ fmt.Println(\"\u521b\u5efa\u76ee\u5f55\u5931\u8d25\uff01\",err.Error()) }else{ // \u6ce8\u610f\u540e\u9762\u8fd8\u6709\u6570\u5b57\uff01temp736138268 fmt.Println(\"fileName>>> \",fileName) } // \u521b\u5efa\u6587\u4ef6 file1, err1 := ioutil.TempFile(fileName,\"test.txt\") if err1 != nil{ fmt.Println(\"err1>>> \",err1) }else{ // \u6ce8\u610f\u6587\u4ef6\u540d\u540e\u9762\u4e5f\u6709\u968f\u673a\u6570\u5b57\uff01 file1.WriteString(\"\u5199\u5165\u5185\u5bb9\uff1a\" + file1.Name()) } file1.Close() } 7.6 bufio\u5305 bufio\u5b9e\u73b0\u4e86\u5e26\u7f13\u51b2\u7684I/O\u64cd\u4f5c\uff0c\u8fbe\u5230\u9ad8\u6548\u8bfb\u5199\u3002 \u7f13\u51b2\u533a\u7684\u539f\u7406 bufio\u5305\u5bf9io\u5305\u4e0b\u7684\u5bf9\u8c61Reader\u3001Writer\u8fdb\u884c\u5305\u88c5\uff0c\u5206\u522b\u5b9e\u73b0\u4e86io.Reader\u548cio.Writer\u63a5\u53e3\uff0c\u63d0\u4f9b\u4e86\u6570\u636e\u7f13\u51b2\u529f\u80fd\uff0c\u80fd\u591f\u4e00\u5b9a\u7a0b\u5ea6\u51cf\u5c11\u5927\u5757\u6570\u636e\u8bfb\u5199\u5e26\u6765\u7684\u5f00\u9500\uff0c\u6240\u4ee5bufio\u6bd4\u76f4\u63a5\u8bfb\u5199\u66f4\u5feb\u3002 \u628a\u6587\u4ef6\u8bfb\u53d6\u8fdb\u7f13\u51b2\u533a\u4e4b\u540e\uff0c\u518d\u8bfb\u53d6\u7684\u65f6\u5019\u5c31\u53ef\u4ee5\u907f\u514d\u6587\u4ef6\u7cfb\u7edf\u7684\u8f93\u51fa\uff0c\u4ece\u800c\u63d0\u9ad8\u901f\u5ea6\uff1b\u5728\u8fdb\u884c\u5199\u64cd\u4f5c\u65f6\uff0c\u5148\u628a\u6587\u4ef6\u5199\u5165\u7f13\u51b2\u533a\uff0c\u7136\u540e\u7531\u7f13\u51b2\u533a\u5199\u5165\u6587\u4ef6\u7cfb\u7edf\u3002 \u6709\u4eba\u53ef\u80fd\u4f1a\u56f0\u60d1\uff1a\u76f4\u63a5\u628a\u201c\u5185\u5bb9\u2014\u6587\u4ef6\u201d\u548c\u201c\u5185\u5bb9\u2014\u7f13\u51b2\u533a\u2014\u6587\u4ef6\u201d\u76f8\u6bd4\uff0c\u7f13\u51b2\u533a\u4f3c\u4e4e\u6ca1\u6709\u8d77\u5230\u4f5c\u7528\u3002\u5176\u5b9e\u5728\u751f\u6d3b\u4e2d\u4e5f\u6709\u8fd9\u6837\u7684\u4f8b\u5b50\uff0c\u6bd4\u5982\u6bcf\u5f53\u5bb6\u91cc\u4ea7\u751f\u5783\u573e\u7684\u65f6\u5019\uff0c\u4e0d\u4f1a\u6709\u4eba\u9a6c\u4e0a\u53bb\u697c\u4e0b\u5012\u5783\u573e\uff0c\u56e0\u4e3a\u8fd9\u6837\u53cd\u590d\u5730\u4e0a\u4e0b\u697c\u975e\u5e38\u9ebb\u70e6\uff0c\u901a\u5e38\u5bb6\u91cc\u90fd\u4f1a\u51c6\u5907\u4e2a\u5c0f\u5783\u573e\u6876\uff0c\u7b49\u5783\u573e\u6876\u88c5\u6ee1\u4e86\u4e4b\u540e\u628a\u4e00\u6279\u5783\u573e\u4e00\u8d77\u5012\u6389\u3002\u7528\u8ba1\u7b97\u673a\u7684\u601d\u60f3\u6765\u770b\uff0c\u5783\u573e\u6876\u5c31\u5145\u5f53\u4e86\u7f13\u51b2\u533a\u7684\u89d2\u8272\u3002 \u7f13\u51b2\u533a\u7684\u8bbe\u8ba1\u662f\u4e3a\u4e86\u5b58\u50a8\u591a\u6b21\u7684\u5199\u5165\uff0c\u6700\u540e\u4e00\u53e3\u6c14\u628a\u7f13\u51b2\u533a\u5185\u5bb9\u5199\u5165\u6587\u4ef6\u3002\u5f53\u53d1\u8d77\u4e00\u6b21\u8bfb\u5199\u64cd\u4f5c\u65f6\uff0c\u8ba1\u7b97\u673a\u4f1a\u9996\u5148\u5c1d\u8bd5\u4ece\u7f13\u51b2\u533a\u83b7\u53d6\u6570\u636e\uff1b\u53ea\u6709\u5f53\u7f13\u51b2\u533a\u6ca1\u6709\u6570\u636e\u65f6\uff0c\u624d\u4f1a\u4ece\u6570\u636e\u6e90\u83b7\u53d6\u6570\u636e\u66f4\u65b0\u7f13\u51b2\u3002 Scanner \u5b9e\u9645\u4f7f\u7528\u4e2d\uff0c\u66f4\u63a8\u8350\u4f7f\u7528Scanner\u5bf9\u6570\u636e\u8fdb\u884c\u8bfb\u53d6\uff0c\u800c\u975e\u76f4\u63a5\u4f7f\u7528Reader\u7c7b\u3002Scanner\u53ef\u4ee5\u901a\u8fc7splitFunc\u5c06\u8f93\u5165\u6570\u636e\u62c6\u5206\u4e3a\u591a\u4e2atoken\uff0c\u7136\u540e\u4f9d\u6b21\u8fdb\u884c\u8bfb\u53d6\u3002\u548cReader\u7c7b\u4f3c\uff0cScanner\u9700\u8981\u7ed1\u5b9a\u5230\u67d0\u4e2aio.Reader\u4e0a\uff0c\u901a\u8fc7NewScanner()\u8fdb\u884c\u521b\u5efa\u3002 \u9ed8\u8ba4\u65b9\u6cd5\u5982\u8868\uff1a bufio \u6a21\u5757\u63d0\u4f9b\u4e86\u51e0\u4e2a\u9ed8\u8ba4splitFunc\uff0c\u80fd\u591f\u6ee1\u8db3\u5927\u90e8\u5206\u573a\u666f\u7684\u9700\u6c42\uff0c\u5982\u4e0b\u8868\u6240\u793a\uff1a \u53ef\u4ee5\u4e3aScanner\u6307\u5b9asplitFunc\uff0c\u65b9\u6cd5\u5982\u4e0b\u6240\u793a\uff1a scanner.split(bufio.ScanWords) package main import ( \"bufio\" \"fmt\" \"strings\" ) func main() { // \u521b\u5efaReader\u5bf9\u8c61\u5e76\u4f20\u5165\u8981\u5206\u5272\u7684\u5b57\u7b26\u4e32 reader1 := bufio.NewReader(strings.NewReader(\"abcsdsaf 123 dfs\")) // \u521b\u5efaScanner\u5bf9\u8c61 scanner := bufio.NewScanner(reader1) // \u6307\u5b9a\u5206\u5272\u65b9\u6cd5\uff0c\u6309\u7167\u7a7a\u683c\u8fdb\u884c\u62c6\u5206 scanner.Split(bufio.ScanWords) // \u5faa\u73af\u8bfb\u53d6 for scanner.Scan(){ fmt.Println(scanner.Text()) if scanner.Text() == \"q!\"{ break } } } /* abcsdsaf 123 dfs */ bufio.Reader\u7ed3\u6784\u4f53 bufio.Reader bufio.Reader\u7684\u5e38\u7528\u65b9\u6cd5\u5982\u8868: NewReader()\u4e0eNewReaderSize() \u5c06rd\u5c01\u88c5\u6210\u4e00\u4e2a\u62e5\u6709size\u5927\u5c0f\u7f13\u5b58\u7684bufio.Reader\u5bf9\u8c61\uff0cNewReader()\u76f8\u5f53\u4e8eNewReaderSize(rd, 4096)\u3002 Read() bufio.Read(p []byte) \u76f8\u5f53\u4e8e\u8bfb\u53d6\u5927\u5c0f\u4e3alen(p)\u7684\u5185\u5bb9\uff0c\u4f7f\u7528\u601d\u8def\u5982\u4e0b\u3002\uff081\uff09\u5f53\u7f13\u51b2\u533a\u6709\u5185\u5bb9\u65f6\uff0c\u5c06\u7f13\u51b2\u533a\u5185\u5bb9\u5168\u90e8\u586b\u5165p\u5e76\u6e05\u7a7a\u7f13\u51b2\u533a\u3002\uff082\uff09\u5f53\u7f13\u51b2\u533a\u6ca1\u6709\u5185\u5bb9\u4e14len(p)\uff1elen(buf)\uff0c\u5373\u8981\u8bfb\u53d6\u7684\u5185\u5bb9\u6bd4\u7f13\u51b2\u533a\u8fd8\u8981\u5927\uff0c\u76f4\u63a5\u53bb\u6587\u4ef6\u8bfb\u53d6\u5373\u53ef\u3002\uff083\uff09\u5f53\u7f13\u51b2\u533a\u6ca1\u6709\u5185\u5bb9\u4e14len(p)\uff1clen(buf)\uff0c\u5373\u8981\u8bfb\u53d6\u7684\u5185\u5bb9\u6bd4\u7f13\u51b2\u533a\u5c0f\uff0c\u7f13\u51b2\u533a\u4ece\u6587\u4ef6\u8bfb\u53d6\u5185\u5bb9\u5145\u6ee1\u7f13\u51b2\u533a\uff0c\u5e76\u5c06p\u586b\u6ee1\uff08\u6b64\u65f6\u7f13\u51b2\u533a\u6709\u5269\u4f59\u5185\u5bb9\uff09\u3002\uff084\uff09\u4ee5\u540e\u518d\u6b21\u8bfb\u53d6\u65f6\u7f13\u51b2\u533a\u6709\u5185\u5bb9\uff0c\u5c06\u7f13\u51b2\u533a\u5185\u5bb9\u5168\u90e8\u586b\u5165p\u5e76\u6e05\u7a7a\u7f13\u51b2\u533a\uff0c\u540c\u60c5\u51b5\uff081\uff09\u3002 ReadLine() ReadLine()\u662f\u4e00\u4e2a\u4f4e\u7ea7\u7684\u3001\u539f\u59cb\u7684\u884c\u8bfb\u53d6\u64cd\u4f5c\uff0c\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u5e94\u8be5\u4f7f\u7528ReadBytes('\\n')\u6216ReadString('\\n')\uff0c\u6216\u8005\u4f7f\u7528\u4e00\u4e2aScanner\u3002ReadLine()\u901a\u8fc7\u8c03\u7528ReadSlice()\u65b9\u6cd5\u5b9e\u73b0\uff0c\u8fd4\u56de\u7684\u4e5f\u662f\u7f13\u5b58\u7684\u5207\u7247\u3002ReadLine()\u5c1d\u8bd5\u8fd4\u56de\u4e00\u4e2a\u5355\u884c\u6570\u636e\uff0c\u4e0d\u5305\u62ec\u884c\u5c3e\u6807\u8bb0\uff08\\n\u6216\\r\\n\uff09\uff0c\u5982\u679c\u5728\u7f13\u5b58\u4e2d\u627e\u4e0d\u5230\u884c\u5c3e\u6807\u8bb0\uff0c\u5219\u8bbe\u7f6eisPrefix\u4e3atrue\uff0c\u8868\u793a\u67e5\u627e\u672a\u5b8c\u6210\uff0c\u540c\u65f6\u8bfb\u51fa\u7f13\u5b58\u4e2d\u7684\u6570\u636e\u5e76\u4f5c\u4e3a\u5207\u7247\u8fd4\u56de\uff1b\u53ea\u6709\u5728\u5f53\u524d\u7f13\u5b58\u4e2d\u627e\u5230\u884c\u5c3e\u6807\u8bb0\uff0c\u624d\u5c06isPrefix\u8bbe\u7f6e\u4e3afalse\uff0c\u8868\u793a\u67e5\u627e\u5b8c\u6210\u3002\u53ef\u4ee5\u591a\u6b21\u8c03\u7528ReadLine()\u6765\u8bfb\u51fa\u4e00\u884c\uff0c\u8fd4\u56de\u7684\u6570\u636e\u5728\u4e0b\u4e00\u6b21\u8bfb\u53d6\u64cd\u4f5c\u4e4b\u524d\u662f\u6709\u6548\u7684\u3002\u5982\u679cReadLine()\u65e0\u6cd5\u83b7\u53d6\u4efb\u4f55\u6570\u636e\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a\u9519\u8bef\u4fe1\u606f\uff08\u901a\u5e38\u662fio.EOF\uff09\u3002 ReadBytes() *** ReadBytes()\u5728b\u4e2d\u67e5\u627edelim\u5e76\u8bfb\u51fadelim\u53ca\u5176\u4e4b\u524d\u7684\u6240\u6709\u6570\u636e\u3002\u5982\u679cReadBytes()\u5728\u627e\u5230delim\u4e4b\u524d\u9047\u5230\u9519\u8bef\uff0c\u5219\u8fd4\u56de\u9047\u5230\u9519\u8bef\u4e4b\u524d\u7684\u6240\u6709\u6570\u636e\uff0c\u540c\u65f6\u8fd4\u56de\u9047\u5230\u7684\u9519\u8bef\uff08\u901a\u5e38\u662fio.EOF\uff09\u3002\u53ea\u6709\u5f53ReadBytes()\u627e\u4e0d\u5230delim\u65f6\uff0cerr\u624d\u4e0d\u4e3anil\u3002 \u5bf9\u4e8e\u7b80\u5355\u7684\u4efb\u52a1\uff0c\u4f7f\u7528Scanner\u53ef\u80fd\u66f4\u65b9\u4fbf\u3002 ReadString() *** ReadString()\u529f\u80fd\u540cReadBytes()\uff0c\u53ea\u4e0d\u8fc7\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u3002 package main import ( \"bufio\" \"fmt\" \"io\" \"os\" ) func main() { testReader() } func testReader(){ fileName1 := \"./test1/abc.txt\" // \u6253\u5f00\u6587\u4ef6 file1, _ := os.Open(fileName1) // \u521b\u5efa\u7f13\u51b2\u533a reader1 := bufio.NewReader(file1) fmt.Printf(\"%T \\n\", reader1) // *bufio.Reader // \u4ece\u7f13\u51b2\u533a\u51b2\u8bfb\u53d6 for { // \u4ee5/n\u95ee\u5206\u9694\u7b26\u8bfb\u53d6 s1, err := reader1.ReadString('\\n') fmt.Println(s1) if err == io.EOF{ fmt.Println(\"\u8bfb\u53d6\u5b8c\u6bd5\") break } } file1.Close() } bufio.Writer\u7ed3\u6784\u4f53 buffo.Writer bufio.Writer\u7684\u5e38\u7528\u65b9\u6cd5\u5982\u8868: Write() bufio.Write(p []byte)\u7684\u4f7f\u7528\u601d\u8def\u5982\u4e0b: \uff081\uff09\u5224\u65ad\u7f13\u51b2\u533a\u4e2d\u53ef\u7528\u5bb9\u91cf\u662f\u5426\u53ef\u4ee5\u653e\u4e0b p\u3002 \uff082\uff09\u5982\u679c\u80fd\u653e\u4e0b\uff0c\u76f4\u63a5\u628ap\u653e\u5230\u7f13\u51b2\u533a\u3002 \uff083\uff09\u5982\u679c\u7f13\u51b2\u533a\u7684\u53ef\u7528\u5bb9\u91cf\u4e0d\u8db3\u4ee5\u653e\u4e0bp\uff0c\u4e14\u6b64\u65f6\u7f13\u51b2\u533a\u662f\u7a7a\u7684\uff0c\u76f4\u63a5\u628ap\u5199\u5165\u6587\u4ef6\u5373\u53ef\u3002 \uff084\uff09\u5982\u679c\u7f13\u51b2\u533a\u7684\u53ef\u7528\u5bb9\u91cf\u4e0d\u8db3\u4ee5\u653e\u4e0bp\uff0c\u4e14\u6b64\u65f6\u7f13\u51b2\u533a\u6709\u5185\u5bb9\uff0c\u5219\u7528p\u628a\u7f13\u51b2\u533a\u586b\u6ee1\uff0c\u628a\u7f13\u51b2\u533a\u6240\u6709\u5185\u5bb9\u5199\u5165\u6587\u4ef6\uff0c\u5e76\u6e05\u7a7a\u7f13\u51b2\u533a\u3002 \uff085\uff09\u5224\u65adp\u7684\u5269\u4f59\u5185\u5bb9\u5927\u5c0f\u80fd\u5426\u653e\u5230\u7f13\u51b2\u533a\uff0c\u5982\u679c\u80fd\u653e\u4e0b\u5219\u628a\u5185\u5bb9\u653e\u5230\u7f13\u51b2\u533a\uff0c\u540c\u60c5\u51b5\uff082\uff09\u3002 \uff086\uff09\u5982\u679cp\u7684\u5269\u4f59\u5185\u5bb9\u4f9d\u65e7\u5927\u4e8e\u7f13\u51b2\u533a\uff08\u6ce8\u610f\u6b64\u65f6\u7f13\u51b2\u533a\u662f\u7a7a\u7684\uff09\uff0c\u5219\u628ap\u7684\u5269\u4f59\u5185\u5bb9\u76f4\u63a5\u5199\u5165\u6587\u4ef6\uff0c\u540c\u60c5\u51b5\uff083\uff09\u3002 package main import ( \"bufio\" \"fmt\" \"io\" \"os\" ) func main() { testWriter() } func testWriter(){ fileName := \"./test1/abc.txt\" // \u6253\u5f00\u6587\u4ef6 file, _ := os.Open(fileName) // \u521b\u5efa\u8bfb\u7f13\u51b2\u533a reader := bufio.NewReader(file) fileName2 := \"./test1/writeText.txt\" // \u6253\u5f00\u6587\u4ef6 file2, _ := os.OpenFile(fileName2,os.O_WRONLY|os.O_CREATE,os.ModePerm) // \u521b\u5efa\u8bfb\u5199\u7f13\u51b2\u533a writer1 := bufio.NewWriter(file2) for{ // \u5c06\u8bfb\u53d6\u5230\u7684\u6570\u636e\u5199\u5165\u53e6\u4e00\u4e2a\u6587\u4ef6 bs, err := reader.ReadBytes(' ') writer1.Write(bs) writer1.Flush() if err == io.EOF{ fmt.Println(\"\u6587\u4ef6\u8bfb\u53d6\u5b8c\u6bd5\") break } } file.Close() file2.Close() }","title":"06 \u5404\u79cd\u5185\u7f6e\u6a21\u5757\u7684\u4f7f\u7528"},{"location":"%E5%9F%BA%E7%A1%80/6/#_1","text":"","title":""},{"location":"%E5%9F%BA%E7%A1%80/6/#0new","text":"new\uff1a\u7528\u6765\u5206\u914d\u5185\u5b58\uff0c\u4e3b\u8981\u7528\u6765\u5206\u914d\u503c\u7c7b\u578b\uff1aint\u3001float32\u3001struct...\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u6307\u5411\u8fd9\u4e2a\u6570\u636e\u7c7b\u578b\u7684\u6307\u9488\u3002","title":"0\u3001new\u51fd\u6570"},{"location":"%E5%9F%BA%E7%A1%80/6/#1","text":"","title":"1 \u5b57\u7b26\u4e32\u7684\u64cd\u4f5c"},{"location":"%E5%9F%BA%E7%A1%80/6/#11","text":"package main import ( \"fmt\" \"unicode/utf8\" ) func main() { s1 := \"\u706b\u5f71whw\" // 1\u3001for ... range \u904d\u5386\u5b57\u7b26\u4e32 for i, ch := range s1{ fmt.Printf(\"%d:%c \",i, ch) } // \u6ce8\u610f\uff1a\u4e00\u4e2a\u4e2d\u6587\u5b57\u7b26\u53603\u4e2a\u5b57\u8282\uff08unitcode\u7f16\u7801\u89c4\u8303\uff09 // 0:\u706b 3:\u5f71 6:w 7:h 8:w // 2\u3001\u904d\u5386\u6240\u6709\u5b57\u8282 for i, ch := range []byte(s1){ fmt.Printf(\"%d:%x \",i, ch) } // 0:e7 1:81 2:ab 3:e5 4:bd 5:b1 6:77 7:68 8:77 // 3\u3001\u904d\u5386\u6240\u6709\u5b57\u7b26\uff08\u5305\u542b\u4e2d\u6587\uff09*** for i, ch := range []rune(s1){ fmt.Printf(\"%d:%c \",i, ch) } // 0:\u706b 1:\u5f71 2:w 3:h 4:w // 4\u3001\u5e26\u4e2d\u6587\u7684\u5b57\u7b26\u4e32\u957f\u5ea6 *** fmt.Println(\"\u5b57\u7b26\u4e32\u957f\u5ea6>>> \",utf8.RuneCountInString(s1)) //\u5b57\u7b26\u4e32\u957f\u5ea6>>> 5 } \u53ef\u4ee5\u770b\u51fa\uff0c \u5982\u679c\u5b57\u7b26\u4e32\u6d89\u53ca\u4e2d\u6587\uff0c\u904d\u5386\u5b57\u7b26\u63a8\u8350\u4f7f\u7528rune\u3002\u56e0\u4e3a\u4e00\u4e2abyte\u5b58\u4e0d\u4e0b\u4e00\u4e2a\u6c49\u8bed\u6587\u5b57\u7684unicode\u503c\u3002","title":"1.1 \u5b57\u7b26\u4e32\u7684\u904d\u5386 ***"},{"location":"%E5%9F%BA%E7%A1%80/6/#12-strings","text":"","title":"1.2 strings\u5305\u7684\u5b57\u7b26\u4e32\u5904\u7406\u51fd\u6570"},{"location":"%E5%9F%BA%E7%A1%80/6/#_2","text":"","title":"\u68c0\u7d22\u5b57\u7b26\u4e32"},{"location":"%E5%9F%BA%E7%A1%80/6/#_3","text":"package main import ( \"fmt\" \"strings\" \"unicode\" ) func main() { // 1\u3001\u5c06\u5b57\u7b26\u4e32\u4ee5\u7a7a\u767d\u5b57\u7b26\u5206\u5272\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u5207\u7247 ret := strings.Fields(\" abc 123 ABC h s XXYY\") fmt.Println(ret) // [abc 123 ABC h s XXYY] // 2\u3001\u5c06\u5b57\u7b26\u4e32\u4ee5\u6ee1\u8db3 f(r)==true \u7684\u5b57\u7b26\u5206\u5272\uff0c\u8fd4\u56de\u4e00\u4e2a\u5207\u7247 f := func(c rune) bool{ // \u65e2\u4e0d\u662f\u5b57\u6bcd\u4e5f\u4e0d\u662f\u6570\u5b57 \u2014\u2014 \u7279\u6b8a\u5b57\u7b26\u6216\u8005\u7a7a\u683c\u7b49\u3002\u3002\u3002 return !unicode.IsLetter(c) && !unicode.IsNumber(c) } ret = strings.FieldsFunc(\"abd#123*ghs@whw sdf\",f) fmt.Println(ret) // [abd 123 ghs whw sdf] // 3\u3001\u5c06\u5b57\u7b26\u4e32\u4ee5sep\u4f5c\u4e3a\u5206\u9694\u7b26\u8fdb\u884c\u5206\u5272\uff0c\u5206\u5272\u540e\u5b57\u7b26\u53bb\u6389sep ret1 := strings.Split(\"a,b,c\",\",\") fmt.Println(ret1)//[a b c] // \u5168\u90e8\u5206\u5272 ret2 := strings.Split(\"xyz sd 123\",\"\") fmt.Println(ret2)//[x y z s d 1 2 3] // \u6ca1\u6709\u7684\u8bdd\u5217\u8868\u4e2d\u53ea\u6709\u4e00\u4e2a\u5143\u7d20 ret3 := strings.Split(\"aa,,,b,,c\",\"*\") fmt.Println(ret3)//[aa,,,b,,c] // 4\u3001\u5c06\u5b57\u7b26\u4e32\u4ee5sep\u4f5c\u4e3a\u5206\u5272\u7b26\u8fdb\u884c\u5206\u5272\uff0c\u5206\u5272\u540e\u5b57\u7b26\u6700\u540e\u9644\u4e0asep\uff0cn\u51b3\u5b9a\u8fd4\u56de\u7684\u5207\u7247\u4e2d\u5143\u7d20\u7684\u6570\u91cf ret1 = strings.SplitN(\"a,b,c,d\",\",\",2) // \u5982\u679cn\u5927\u4e8e\u6700\u591a\u7684\u719f\u7ec3\u5219\u8fd4\u56de\u5207\u7247\u540e\u6240\u6709\u7684\u6570 fmt.Println(ret1)//[a b,c,d] ret1 = strings.SplitN(\"a,b,c,d\",\",\",1) // \u5982\u679cn\u5927\u4e8e\u6700\u591a\u7684\u719f\u7ec3\u5219\u8fd4\u56de\u5207\u7247\u540e\u6240\u6709\u7684\u6570 fmt.Println(ret1)//[a,b,c,d] // 5\u3001\u5c06\u5b57\u7b26\u4e32\u4ee5sep\u4f5c\u4e3a\u5206\u9694\u7b26\u8fdb\u884c\u5206\u5272\uff0c\u5206\u5272\u540e\u5b57\u7b26\u6700\u540e\u9644\u4e0asep ret = strings.SplitAfter(\"a,b,c,d\",\",\") fmt.Println(ret) // [a, b, c, d] \u2014\u2014\u2014\u2014 \u6ce8\u610fd\u540e\u9762\u672c\u8eab\u6ca1\u6709\u9017\u53f7\uff0c\u6240\u4ee5\u8f6c\u6210\u5207\u7247\u540e\u4e5f\u6ca1\u6709\u9017\u53f7 // 6\u3001\u5c06\u5b57\u7b26\u4e32\u4ee5sep\u4f5c\u4e3a\u5206\u9694\u7b26\u8fdb\u884c\u5206\u5272\uff0c\u5206\u5272\u540e\u5b57\u7b26\u6700\u540e\u9644\u4e0asep\uff0cn\u51b3\u5b9a\u8fd4\u56de\u7684\u5207\u7247\u4e2d\u5143\u7d20\u7684\u6570\u91cf ret = strings.SplitAfterN(\"a,b,c,d\",\",\",2) fmt.Println(ret)//[a, b,c,d] }","title":"\u5206\u5272\u5b57\u7b26\u4e32"},{"location":"%E5%9F%BA%E7%A1%80/6/#_4","text":"package main import ( \"fmt\" \"strings\" ) func main() { // 1\u3001\u5c06\u5b57\u7b26\u4e32\u6bcf\u4e2a\u5355\u8bcd\u9996\u5b57\u6bcd\u5927\u5199\u8fd4\u56de ret := strings.Title(\"my name is narutoOO! \") fmt.Println(ret)//My Name Is NarutoOO! // 2\u3001\u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u6210\u5927\u5199\u8fd4\u56de ret = strings.ToTitle(\"lius fdaSD*&\") fmt.Println(ret)//LIUS FDASD*& // 3\u3001\u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u6210\u5c0f\u5199\u8fd4\u56de ret = strings.ToLower(\"ASD sdf#sASED faASDS\") fmt.Println(ret)//asd sdf#sased faasds // 4\u3001\u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u6210\u5927\u5199\u8fd4\u56de ret = strings.ToUpper(\"lius fdaSD*&\") fmt.Println(ret)//LIUS FDASD*& }","title":"\u5927\u5c0f\u5199\u8f6c\u6362"},{"location":"%E5%9F%BA%E7%A1%80/6/#_5","text":"package main import ( \"fmt\" \"strings\" \"unicode\" ) func main() { // 1\u3001\u5c06\u5b57\u7b26\u4e32\u9996\u5c3e\u5305\u542b\u5728cutset\u4e2d\u7684\u4efb\u610f\u4e00\u4e2a\u5b57\u7b26\u53bb\u6389\u8fd4\u56de ret := strings.Trim(\" see wang \",\" \") fmt.Println(ret)//see wang // 2\u3001\u5c06\u5b57\u7b26\u4e32\u9996\u5c3e\u6ee1\u8db3\u51fd\u6570 f(r)==true \u7684\u5b57\u7b26\u53bb\u6389\u8fd4\u56de f := func(c rune) bool{ // \u65e2\u4e0d\u662f\u5b57\u7b26\u4e5f\u4e0d\u662f\u6570\u5b57 return !unicode.IsLetter(c) && !unicode.IsNumber(c) } ret = strings.TrimFunc(\"**dd%$sadf 123!2&()\",f) fmt.Println(ret)//dd%$sadf 123!2 // 3\u3001\u5c06\u5b57\u7b26\u4e32\u5de6\u8fb9\u5305\u542b\u5728cutset\u4e2d\u7684\u4efb\u610f\u4e00\u4e2a\u5b57\u7b26\u53bb\u6389\u8fd4\u56de ret = strings.TrimLeft(\"**&!1231**\",\"*\") fmt.Println(ret)//&!1231** // 4\u3001\u5c06\u5b57\u7b26\u4e32\u5de6\u8fb9\u6ee1\u8db3\u51fd\u6570 f(r)==true \u7684\u5b57\u7b26\u53bb\u6389\u8fd4\u56de ret = strings.TrimLeftFunc(\"**dd%$sadf 123!2&()\",f) fmt.Println(ret)//dd%$sadf 123!2&() // 5\u3001\u5c06\u5b57\u7b26\u4e32\u53f3\u8fb9\u5305\u542b\u5728cutset\u4e2d\u7684\u4efb\u610f\u4e00\u4e2a\u5b57\u7b26\u53bb\u6389\u8fd4\u56de ret = strings.TrimRight(\"**&!1231**\",\"*\") fmt.Println(ret)//**&!1231 // 6\u3001\u5c06\u5b57\u7b26\u4e32\u53f3\u8fb9\u6ee1\u8db3\u51fd\u6570 f(r)==true \u7684\u5b57\u7b26\u53bb\u6389\u8fd4\u56de ret = strings.TrimRightFunc(\"**dd%$sadf 123!2&()\",f) fmt.Println(ret)//**dd%$sadf 123!2 }","title":"\u4fee\u526a\u5b57\u7b26\u4e32"},{"location":"%E5%9F%BA%E7%A1%80/6/#_6","text":"package main import ( \"fmt\" \"strings\" ) func main() { // 1\u3001\u6309\u7167\u5b57\u5178\u987a\u5e8f\u6bd4\u8f832\u4e2a\u5b57\u7b26\u4e32\u7684\u5927\u5c0f fmt.Println(strings.Compare(\"abc\",\"acd\")) // -1 fmt.Println(\"abc\" < \"acd\") // true // 2\u3001\u5224\u65ad\u4e24\u4e2a UTF-8\u5b57\u7b26\u4e32\u662f\u5426\u76f8\u7b49\uff0c\u5ffd\u7565\u5927\u5c0f\u5199 fmt.Println(strings.EqualFold(\"Go\",\"go\"))// true // 3\u3001\u5c06\u5b57\u7b26\u4e32\u91cd\u590dcount\u6b21\u8fd4\u56de ret := \"g\" + strings.Repeat(\"had\",3) + \"le\" fmt.Println(ret)//ghadhadhadle // 4\u3001\u66ff\u6362\u5b57\u7b26\u4e32s\u4e2dold\u5b57\u7b26\u4e3anew\u5b57\u7b26\u5e76\u8fd4\u56de\uff0c n<0 \u65f6\u66ff\u6362\u6240\u6709old\u5b57\u7b26 ret1 := strings.Replace(\"\u738b\u8001\u5927 \u738b\u8001\u4e8c \u738b\u8001\u4e09\",\"\u738b\",\"\u5f20\",2) fmt.Println(ret1)//\u5f20\u8001\u5927 \u5f20\u8001\u4e8c \u738b\u8001\u4e09 ret2 := strings.Replace(\"\u738b\u8001\u5927 \u738b\u8001\u4e8c \u738b\u8001\u4e09\",\"\u738b\",\"\u5f20\",-1) fmt.Println(ret2)//\u5f20\u8001\u5927 \u5f20\u8001\u4e8c \u5f20\u8001\u4e09 // 5\u3001\u5c06a\u4e2d\u6240\u6709\u5b57\u7b26\u8fde\u63a5\u6210\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u4f7f\u7528\u5b57\u7b26\u4e32sep\u4f5c\u4e3a\u5206\u5272\u7b26 \u2014\u2014\u2014\u2014\u2014 Join s := []string{\"abc\",\"ABC\",\"123\"} ret1 = strings.Join(s,\",\") fmt.Println(ret1)//abc,ABC,123 ret2 = strings.Join(s,\"\") fmt.Println(ret2)//abcABC123 }","title":"\u6bd4\u8f83\u5b57\u7b26\u4e32"},{"location":"%E5%9F%BA%E7%A1%80/6/#13","text":"","title":"1.3 \u5b57\u7b26\u4e32\u5176\u4ed6\u64cd\u4f5c"},{"location":"%E5%9F%BA%E7%A1%80/6/#0","text":"\u5982\u679c\u60f3\u4fee\u6539\u5b57\u7b26\u4e32\uff0c\u53ef\u4ee5\u5148\u5c06 string -> []byte / \u6216\u8005 []rune->\u4fee\u6539->\u91cd\u5199\u8f6c\u6210string\u3002","title":"0\uff09\u4fee\u6539\u5b57\u7b26\u4e32"},{"location":"%E5%9F%BA%E7%A1%80/6/#1_1","text":"len\u51fd\u6570 str := \"\u706b\u5f71whw\" fmt.Println(len(str)) // 9 \u6ce8\u610f\u4e00\u4e2a\u4e2d\u6587\u5b57\u7b26\u53603\u4e2aunitcode\u4f4d","title":"1) \u7edf\u8ba1\u5b57\u7b26\u4e32\u957f\u5ea6(\u6309\u5b57\u8282)"},{"location":"%E5%9F%BA%E7%A1%80/6/#2","text":"r := []rune(str) str := \"\u706b\u5f71whw\" newStr := []rune(str) for i,val := range newStr{ fmt.Printf(\"%d:%c \",i,val) } // 0:\u706b 1:\u5f71 2:w 3:h 4:w","title":"2) \u5b57\u7b26\u4e32\u904d\u5386\uff0c\u540c\u65f6\u5904\u7406\u6709\u4e2d\u6587\u7684\u95ee\u9898"},{"location":"%E5%9F%BA%E7%A1%80/6/#3","text":"n, err := strconv.Atoi(\"123\") if err != nil{ fmt.Println(\"\u8f6c\u6362\u9519\u8bef\",err) }else{ fmt.Printf(\"result>>> %v, %T \\n\",n, n) //123, int }","title":"3) \u5b57\u7b26\u4e32\u8f6c\u6574\u6570"},{"location":"%E5%9F%BA%E7%A1%80/6/#4","text":"str := strconv.Itoa(123) fmt.Printf(\"str>>> %v, %T \\n\",str, str) // 123, string","title":"4) \u6574\u6570\u8f6c\u5b57\u7b26\u4e32"},{"location":"%E5%9F%BA%E7%A1%80/6/#5","text":"","title":"5)"},{"location":"%E5%9F%BA%E7%A1%80/6/#6","text":"b := strings.Contains(\"wanghw\",\"ang\") fmt.Println(b)// true","title":"6) \u67e5\u627e\u5b50\u4e32\u662f\u5426\u5728\u6307\u5b9a\u7684\u5b57\u7b26\u4e32\u4e2d"},{"location":"%E5%9F%BA%E7%A1%80/6/#7","text":"strings.Count(\"Chinese\",\"c\")","title":"7) \u7edf\u8ba1\u4e00\u4e2a\u5b57\u7b26\u4e32\u6709\u51e0\u4e2a\u6307\u5b9a\u7684\u5b50\u4e32"},{"location":"%E5%9F%BA%E7%A1%80/6/#8","text":"result := strings.EqualFold(\"whw\",\"Whw\") fmt.Println(result)// true","title":"8) \u4e0d\u533a\u5206\u5927\u5c0f\u5199\u7684\u6bd4\u8f83"},{"location":"%E5%9F%BA%E7%A1%80/6/#9","text":"// \u8fd4\u56de\u5b50\u4e32\u7b2c\u4e00\u6b21\u51fa\u73b0\u7684index\u503c\uff0c\u6ca1\u6709\u5c31\u8fd4\u56de-1 index := strings.Index(\"wanghw\",\"w\") fmt.Println(index)// 0 // \u8fd4\u56de\u5b50\u4e32\u5728\u5b57\u7b26\u4e32\u6700\u540e\u4e00\u6b21\u51fa\u73b0\u7684index\uff0c\u6ca1\u6709\u8fd4\u56de-1 index = strings.LastIndex(\"wanghw\",\"w\") fmt.Println(index)// 5 // \u5c06\u6307\u5b9a\u7684\u5b50\u4e32\u66ff\u6362\u6210\u53e6\u5916\u4e00\u4e2a\u5b50\u4e32\uff0c-1\u8868\u793a\u5168\u90e8\u66ff\u6362\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u60f3\u66ff\u6362\u51e0\u4e2a str := \"go go hello\" str1 := strings.Replace(str,\"go\",\"hi\",1) fmt.Println(str1) // hi go hello // \u6309\u7167\u67d0\u4e2a\u5b57\u7b26\u4e32\u5206\u5272\uff0c\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u6570\u7ec4 strArr := strings.Split(\"hello;hi;whw\",\";\") for _, val := range strArr{ fmt.Printf(\"%s\\t\",val)//hello hi whw } // \u5927\u5c0f\u5199\u8f6c\u6362 \u5168\u8f6c\u6210\u5c0f\u5199 str = strings.ToLower(\"WansHW\") fmt.Println(str)//wanshw // \u5927\u5c0f\u5199\u8f6c\u6362 \u5168\u8f6c\u6210\u5927\u5199 str = strings.ToUpper(\"shaSAl\") fmt.Println(str)//SHASAL // \u5c06\u5b57\u7b26\u4e32\u5de6\u53f3\u4e24\u8fb9\u7684\u7a7a\u683c\u90fd\u53bb\u6389 str = \" asdf sdf jjj whw \" str1 = strings.TrimSpace(str) fmt.Println(str1) //asdf sdf jjj whw // \u53bb\u6389\u5de6\u53f3\u4e24\u8fb9\u6307\u5b9a\u7684\u5b57\u7b26 str = \"!hello#!\" str1 = strings.Trim(str,\"!\") fmt.Println(str1) //hello# // \u53bb\u6389\u5de6\u8fb9\u6307\u5b9a\u7684\u5b57\u7b26\uff1astrings.TrimLeft(...) // \u53bb\u6389\u53f3\u8fb9\u6307\u5b9a\u7684\u5b57\u7b26\uff1astrings.TrimRight(...) // \u5224\u65ad\u662f\u5426\u662f\u4ee5\u6307\u5b9a\u7684\u5b57\u7b26\u4e32\u5f00\u5934 b := strings.HasPrefix(\"wanghyw\",\"wa\") fmt.Println(b) // true // \u5224\u65ad\u662f\u5426\u4ee5\u6307\u5b9a\u5b57\u7b26\u4e32\u7ed3\u675f b = strings.HasSuffix(\"wanghhh,\",\",\") fmt.Println(b) // true","title":"9) \u5176\u4ed6\u6574\u5408"},{"location":"%E5%9F%BA%E7%A1%80/6/#2strconv","text":"strconv\u5305\u5b9e\u73b0\u4e86\u5b57\u7b26\u4e32\u4e0e\u5176\u4ed6\u57fa\u672c\u6570\u636e\u7c7b\u578b\u4e4b\u95f4\u7684\u7c7b\u578b\u8f6c\u6362\u3002","title":"2\u3001strconv\u5305\u5e38\u7528\u51fd\u6570"},{"location":"%E5%9F%BA%E7%A1%80/6/#parse","text":"Parse \u7c7b\u51fd\u6570\u4e3b\u8981\u7684\u529f\u80fd\u662f\u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u5176\u4ed6\u7c7b\u578b\uff0c\u5e38\u7528\u7684 Parse \u7c7b\u51fd\u6570\u5982\u8868\uff1a package main import ( \"fmt\" \"strconv\" ) func main() { // string -> int _int, _ := strconv.Atoi(\"97\") fmt.Println(_int, _int == int(97)) // string -> int64 _int64, _ := strconv.ParseInt(\"97\", 10, 64) fmt.Println(_int64, _int64 == int64(97)) // https://stackoverflow.com/questions/30299649/parse-string-to-specific-type-of-int-int8-int16-int32-int64 // string -> int32\uff0c\u6ce8\u610f parseInt \u59cb\u7ec8\u8fd4\u56de\u7684\u662f int64\uff0c\u6240\u4ee5\u8fd8\u662f\u9700\u8981 int32(n) \u5f3a\u8f6c\u4e00\u4e0b _int32, _ := strconv.ParseInt(\"97\", 10, 32) fmt.Println(_int32, int32(_int32) == int32(97)) // string -> float32/float64 https://yourbasic.org/golang/convert-string-to-float/ f := \"3.14159265\" if s, err := strconv.ParseFloat(f, 32); err == nil { fmt.Println(s) // 3.1415927410125732 } if s, err := strconv.ParseFloat(f, 64); err == nil { fmt.Println(s) // 3.14159265 } }","title":"Parse\u7c7b\u51fd\u6570"},{"location":"%E5%9F%BA%E7%A1%80/6/#format","text":"Format\u7c7b\u51fd\u6570\u4e3b\u8981\u7684\u529f\u80fd\u662f\u5c06\u5176\u4ed6\u7c7b\u578b\u683c\u5f0f\u5316\u6210\u5b57\u7b26\u4e32 // \u63a8\u8350\u4e00\u4e2a\u66f4\u52a0\u5f3a\u5927\u7684\u8f6c\u6362\u5e93\uff1ahttps://github.com/spf13/cast package main import ( \"fmt\" \"strconv\" ) func main() { // \u6d4b\u8bd5 int \u548c string(decimal) \u4e92\u76f8\u8f6c\u6362\u7684\u51fd\u6570 // https://yourbasic.org/golang/convert-int-to-string/ // int -> string sint := strconv.Itoa(97) fmt.Println(sint, sint == \"97\") // byte -> string bytea := byte(1) bint := strconv.Itoa(int(bytea)) fmt.Println(bint) // int64 -> string sint64 := strconv.FormatInt(int64(97), 10) fmt.Println(sint64, sint64 == \"97\") // int64 -> string (hex) \uff0c\u5341\u516d\u8fdb\u5236 sint64hex := strconv.FormatInt(int64(97), 16) fmt.Println(sint64hex, sint64hex == \"61\") // int32 -> string, https://stackoverflow.com/questions/39442167/convert-int32-to-string-in-golang fmt.Println(\"------- int32 -> string ------\") res1 := strconv.FormatInt(int64(23), 10) // fast fmt.Println(\"res1>>> \",res1) res2 := strconv.Itoa(int(23)) // fast fmt.Println(\"res2>>> \",res2) res3 := fmt.Sprint(23) // slow fmt.Println(\"re3s>>> \",res3) fmt.Println(\"-------------\") // int -> int64 \uff0c\u4e0d\u4f1a\u4e22\u5931\u7cbe\u5ea6 var n int = 97 fmt.Println(int64(n) == int64(97)) // float -> string https://yourbasic.org/golang/convert-string-to-float/ s := fmt.Sprintf(\"%f\", 123.456) fmt.Println(\"s>>> \",s) }","title":"Format\u7c7b\u51fd\u6570"},{"location":"%E5%9F%BA%E7%A1%80/6/#3_1","text":"","title":"3\u3001\u65f6\u95f4\u5904\u7406\u51fd\u6570"},{"location":"%E5%9F%BA%E7%A1%80/6/#30-time","text":"","title":"3.0 time\u5305\u5e38\u7528\u51fd\u6570"},{"location":"%E5%9F%BA%E7%A1%80/6/#4-math","text":"","title":"4\u3001 math\u5305\u5e38\u7528\u51fd\u6570"},{"location":"%E5%9F%BA%E7%A1%80/6/#5_1","text":"\u201cmath/rand\u201d\u5305\u5b9e\u73b0\u4e86\u4f2a\u968f\u673a\u6570\u751f\u6210\u5668\uff0c\u80fd\u591f\u751f\u6210 \u6574\u578b \u548c \u6d6e\u70b9\u578b \u7684\u968f\u673a\u6570\u3002 \u4f7f\u7528\u968f\u673a\u6570\u751f\u6210\u5668\u9700\u8981\u653e\u5165\u79cd\u5b50\u3002\u53ef\u4ee5\u4f7f\u7528Seed()\u51fd\u6570\u751f\u6210\u4e00\u4e2a\u4e0d\u786e\u5b9a\u7684\u79cd\u5b50\u653e\u5165\u968f\u673a\u6570\u751f\u6210\u5668\uff0c\u8fd9\u6837\u6bcf\u6b21\u8fd0\u884c\u968f\u673a\u6570\u751f\u6210\u5668\u90fd\u4f1a\u751f\u6210\u4e0d\u540c\u7684\u5e8f\u5217\u3002\u5982\u679c\u6ca1\u6709\u5728\u968f\u673a\u6570\u751f\u6210\u5668\u4e2d\u653e\u5165\u79cd\u5b50\uff0c\u5219\u9ed8\u8ba4\u4f7f\u7528\u5177\u6709\u786e\u5b9a\u6027\u72b6\u6001\u7684\u79cd\u5b50\uff0c\u6b64\u65f6\u53ef\u4ee5\u7406\u89e3\u4e3a\u79cd\u5b50\u7684\u503c\u662f\u4e00\u4e2a\u5e38\u65701\uff0c\u5373Seed(1)\u3002","title":"5\u3001\u968f\u673a\u6570"},{"location":"%E5%9F%BA%E7%A1%80/6/#_7","text":"println(rand.Int()) println(rand.Float64()) println(rand.Intn(12))// \u83b7\u53d6 0-12\u968f\u673a\u6570 \u8fd9\u6837\u603b\u662f\u751f\u6210\u56fa\u5b9a\u7684\u968f\u673a\u6570\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u968f\u673a\u6570\u79cd\u5b50\u90fd\u662f1\u3002seed\u662f\u4e00\u4e2a64\u4f4d\u6574\u6570\u3002 \u52a8\u6001\u968f\u673a\u6570\u79cd\u5b50\u751f\u6210\u968f\u673a\u8d44\u6e90\uff0c\u4ea7\u751f\u968f\u673a\u5bf9\u8c61\u6765\u83b7\u53d6\u968f\u673a\u6570\uff0c\u5177\u4f53\u65b9\u6cd5\u5982\u4e0b\u6240\u793a: s1 := rand.NewSource(time.Now().UnixNano()) r1 := rand.New(s1) randNum := r1.Intn(12) // 0-12\u968f\u673a\u6570 fmt.Println(randNum) \u7b80\u5199\u5f62\u5f0f\uff1a\u52a8\u6001\u53d8\u5316\u968f\u673a\u6570\u79cd\u5b50\u6765\u83b7\u53d6\u968f\u673a\u6570\uff0c\u5177\u4f53\u65b9\u6cd5\u5982\u4e0b\u6240\u793a: \uff081\uff09\u83b7\u53d6\u6574\u578b 0\uff5e10\u968f\u673a\u6570 rand.Seed(time.Now().UnixNano()) rand.Intn(10) \uff082\uff09\u83b7\u53d6\u6d6e\u70b9\u578b 0.0\uff5e1.0\u968f\u673a\u6570 rand.Seed(time.Now().UnixNano()) rand.Float64() \uff083\uff09\u83b7\u53d6 m\uff5en\u968f\u673a\u6570 rand.Seed(time.Now().UnixNano()) \u968f\u673a\u6570 = rand.Intn(n - m + 1) + m \u6bd4\u5982 \u83b7\u53d6 [5,11]\u968f\u673a\u6570\uff0c\u8bed\u6cd5\u5982\u4e0b\uff1a rand.Intn(7) + 5","title":"\u83b7\u53d6\u968f\u673a\u6570\u7684\u51e0\u79cd\u65b9\u5f0f"},{"location":"%E5%9F%BA%E7%A1%80/6/#6regexp","text":"","title":"6\u3001regexp\u6b63\u5219\u8868\u8fbe\u5f0f\u5305"},{"location":"%E5%9F%BA%E7%A1%80/6/#regexp","text":"package main import ( \"fmt\" \"regexp\" ) func main() { // 1\u3001\u68c0\u67e5\u6b63\u5219\u8868\u8fbe\u5f0f\u4e0e\u5b57\u8282\u6570\u7ec4\u662f\u5426\u5339\u914d flag, _ := regexp.Match(\"^\\\\d{6,15}$\",[]byte(\"1234556788\")) fmt.Println(flag)//true // 2\u3001\u68c0\u67e5\u6b63\u5219\u8868\u8fbe\u5f0f\u4e0e\u5b57\u7b26\u4e32\u662f\u5426\u5339\u914d\u3002 flag, _ = regexp.MatchString(\"^\\\\d{1,12}$\",\"123222333\") fmt.Println(flag)//true // 3\u3001\u5c06\u6b63\u5219\u8868\u8fbe\u5f0f\u5b57\u7b26\u4e32\u7f16\u8bd1\u6210\u6b63\u5219\u8868\u8fbe\u5f0f\u5bf9\u8c61\uff08Regexp\uff09 MyRegexp, _ := regexp.Compile(\"^\\\\d{2,22}$\") flag = MyRegexp.MatchString(\"123123a\") fmt.Println(flag)//false // 4\u3001ReplaceAll()\u5c06src\u4e2d\u7b26\u5408\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u90e8\u5206\u5168\u90e8\u66ff\u6362\u6210\u6307\u5b9a\u5185\u5bb9\u3002 text := \"\u554a\u54c8\u54c8 123 \u563f\u563f\u563f 333 \u706b\u5f71 123222\" MyRegexp2, _ := regexp.Compile(\"[\\\\d\\\\s]+\") ret := MyRegexp2.ReplaceAll([]byte(text),[]byte(\"x\")) fmt.Println(string(ret))//\u554a\u54c8\u54c8x\u563f\u563f\u563fx\u706b\u5f71x // 5\u3001\u5c06\u5b57\u7b26\u4e32\u6309\u7167\u6b63\u5219\u8868\u8fbe\u5f0f\u5206\u5272\u6210\u5b50\u5b57\u7b26\u4e32\u7ec4\u6210\u7684\u5207\u7247\u3002\u5982\u679c\u5207\u7247\u957f\u5ea6\u8d85\u8fc7\u6307\u5b9a\u53c2\u6570n\uff0c\u5219\u4e0d\u518d\u5206\u5272\u3002 text = \"\u7b2c\u4e00#\u7b2c\u4e8c##\u7b2c\u4e09###\u7b2c\u56db####\u7b2c\u4e94#####\u7b2c\u516d######\u7b2c\u4e03####\u7b2c\u516b##\u7b2c\u4e5d\" MyREgexp3, _ := regexp.Compile(\"#+\") arr := MyREgexp3.Split(text,5) fmt.Println(arr)//[\u7b2c\u4e00 \u7b2c\u4e8c \u7b2c\u4e09 \u7b2c\u56db \u7b2c\u4e94#####\u7b2c\u516d######\u7b2c\u4e03####\u7b2c\u516b##\u7b2c\u4e5d] }","title":"regexp\u5305\u4e2d\u6838\u5fc3\u51fd\u6570\u53ca\u65b9\u6cd5\u4ecb\u7ecd"},{"location":"%E5%9F%BA%E7%A1%80/6/#7-goio","text":"","title":"7 Go\u8bed\u8a00\u6587\u4ef6I/O\u64cd\u4f5c"},{"location":"%E5%9F%BA%E7%A1%80/6/#71","text":"\u6240\u8c13\u201c\u6587\u4ef6\u201d\uff0c\u662f\u6307\u4e00\u7ec4\u76f8\u5173\u6570\u636e\u7684\u6709\u5e8f\u96c6\u5408\u3002\u6587\u4ef6\u901a\u5e38\u662f\u9a7b\u7559\u5728\u5916\u90e8\u4ecb\u8d28\uff08\u5982\u78c1\u76d8\u7b49\uff09\u4e0a\u7684\uff0c\u5728\u4f7f\u7528\u65f6\u624d\u8c03\u5165\u5185\u5b58\u3002\u8ba1\u7b97\u673a\u7cfb\u7edf\u662f\u4ee5\u6587\u4ef6\u4e3a\u5355\u4f4d\u6765\u5bf9\u6570\u636e\u8fdb\u884c\u7ba1\u7406\u7684\u3002 \u4e00\u4e2a\u6587\u4ef6\u8981\u6709\u7531\u6587\u4ef6\u8def\u5f84\u3001\u6587\u4ef6\u540d\u4e3b\u5e72\u548c\u6587\u4ef6\u540d\u540e\u7f00\uff08Windows\u6709\u65f6\u4f1a\u9690\u85cf\uff09\u7ec4\u6210\u7684\u552f\u4e00\u6807\u8bc6\uff0c\u4ee5\u4fbf\u7528\u6237\u8bc6\u522b\u548c\u5f15\u7528\uff0c\u5b83\u5e38\u88ab\u79f0\u4e3a\u6587\u4ef6\u540d\uff0c\u4f46\u6ce8\u610f\uff0c\u6b64\u65f6\u6240\u79f0\u7684\u6587\u4ef6\u540d\u5305\u62ec3\u90e8\u5206\u5185\u5bb9\uff0c\u800c\u4e0d\u662f\u6587\u4ef6\u540d\u4e3b\u5e72\u3002\u6587\u4ef6\u540d\u4e3b\u5e72\u9075\u5b88\u6807\u8bc6\u7b26\u7684\u547d\u540d\u89c4\u5219\u3002\u6587\u4ef6\u540d\u540e\u7f00\u7528\u6765\u8868\u793a\u6587\u4ef6\u7684\u5f62\u5f0f\uff0c\u4e00\u822c\u4e0d\u8d85\u8fc73\u4e2a\u5b57\u6bcd\u3002\u5982exe\uff08\u53ef\u6267\u884c\u6587\u4ef6\uff09\u3001go\uff08Go\u8bed\u8a00\u7a0b\u5e8f\u6587\u4ef6\uff09\u3001txt\uff08\u6587\u672c\u6587\u4ef6\uff09\u7b49\u3002","title":"7.1 \u6587\u4ef6\u6982\u8ff0"},{"location":"%E5%9F%BA%E7%A1%80/6/#72-fileinfo","text":"\u6587\u4ef6\u7684\u4fe1\u606f\u5305\u62ec\u6587\u4ef6\u540d\u3001\u6587\u4ef6\u5927\u5c0f\u3001\u4fee\u6539\u6743\u9650\u3001\u4fee\u6539\u65f6\u95f4\u7b49\u3002 Go\u8bed\u8a00\u7cfb\u7edf\u6587\u4ef6\u4fe1\u606f\u63a5\u53e3\u5c5e\u6027\u5b9a\u4e49\u5982\u4e0b\u6240\u793a\u3002 fileStat\u7ed3\u6784\u4f53\uff08\u6587\u4ef6\u4fe1\u606f\uff09\u5b9a\u4e49\u5982\u4e0b\u6240\u793a\u3002 fileStat\u7ed3\u6784\u4f53\u7684\u5e38\u7528\u65b9\u6cd5\u5982\u4e0b\u6240\u793a\u3002 \u60f3\u8981\u67e5\u770b\u6587\u4ef6\u7684\u4fe1\u606f\uff0c\u5fc5\u987b\u8981\u77e5\u9053\u6587\u4ef6\u7684\u8def\u5f84\u3002 \u4e0b\u9762\u901a\u8fc7\u4e00\u4e2a\u6848\u4f8b\u6f14\u793a\u83b7\u53d6\u6587\u4ef6\u4fe1\u606f\uff1a package main import ( \"fmt\" \"os\" ) func main() { // \u7edd\u5bf9\u8def\u5f84 path := \"/Users/Wanghongwei/Desktop/ppyt.py\" printMessage(path) /* \u6570\u636e\u7c7b\u578b\u662f:*os.fileStat \u6587\u4ef6\u540d: ppyt.py \u662f\u5426\u4e3a\u76ee\u5f55: false \u6587\u4ef6\u5927\u5c0f: 21 \u6587\u4ef6\u6743\u9650: -rw-r--r-- \u6587\u4ef6\u6700\u540e\u4fee\u6539\u65f6\u95f4: 2020-11-10 14:32:31.806397859 +0800 CST */ } func printMessage(filePath string) { fileInfo, err := os.Stat(filePath) if err != nil { fmt.Println(\"err:\", err.Error()) } else { fmt.Printf(\"\u6570\u636e\u7c7b\u578b\u662f:%T \\n\", fileInfo) fmt.Println(\"\u6587\u4ef6\u540d:\", fileInfo.Name()) fmt.Println(\"\u662f\u5426\u4e3a\u76ee\u5f55:\", fileInfo.IsDir()) fmt.Println(\"\u6587\u4ef6\u5927\u5c0f:\", fileInfo.Size()) fmt.Println(\"\u6587\u4ef6\u6743\u9650:\", fileInfo.Mode()) fmt.Println(\"\u6587\u4ef6\u6700\u540e\u4fee\u6539\u65f6\u95f4:\", fileInfo.ModTime()) } }","title":"7.2 FIleInfo\u63a5\u53e3"},{"location":"%E5%9F%BA%E7%A1%80/6/#_8","text":"\u6587\u4ef6\u7684\u6743\u9650\u6253\u5370\u51fa\u6765\u4e00\u517110\u4e2a\u5b57\u7b26\u3002\u6587\u4ef6\u67093\u79cd\u57fa\u672c\u6743\u9650\uff1ar\uff08read\uff0c\u8bfb\u6743\u9650\uff09\u3001w\uff08write\uff0c\u5199\u6743\u9650\uff09\u3001x\uff08execute\uff0c\u6267\u884c\u6743\u9650\uff09\u3002\u6587\u4ef6\u6743\u9650\u8bf4\u660e\u5982\u56fe\u6240\u793a\u3002 \u6587\u4ef6\u6743\u9650\u7b80\u5355\u8bf4\u660e\uff1a \u6587\u4ef6\u6743\u9650\u516b\u8fdb\u5236\u8868\u793a\u6cd5 \u4f8b\u5982\uff1a-rwxrwxrwx\u6743\u9650\u7528\u516b\u8fdb\u5236\u8868\u793a\u4e3a\uff1a0777","title":"\u6587\u4ef6\u6743\u9650\u7b80\u5355\u8bf4\u660e"},{"location":"%E5%9F%BA%E7%A1%80/6/#73","text":"\u4e0e\u6587\u4ef6\u8def\u5f84\u76f8\u5173\u7684\u65b9\u6cd5\u5982\u8868\uff1a package main import ( \"fmt\" \"path\" \"path/filepath\" ) func main() { // \u7edd\u5bf9\u8def\u5f84 filePath1 := \"/Users/Wanghongwei/DeskTop/ppyt.py\" // \u76f8\u5bf9\u8def\u5f84 filePath2 := \"../t2/variable.go\" // \u662f\u5426\u4e3a\u7edd\u5bf9\u8def\u5f84 fmt.Println(filepath.IsAbs(filePath1)) // true fmt.Println(filepath.IsAbs(filePath2)) // false // \u83b7\u53d6\u76f8\u5bf9\u8def\u5f84 fmt.Println(filepath.Rel(\"/Users/Wanghongwei\",filePath1)) //DeskTop/ppyt.py <nil> // \u83b7\u53d6\u7edd\u5bf9\u8def\u5f84 fmt.Println(filepath.Abs(filePath1)) ///Users/Wanghongwei/DeskTop/ppyt.py <nil> fmt.Println(filepath.Abs(filePath2)) ///Users/wanghongwei/GoProject/t2/variable.go <nil> // \u62fc\u63a5\u8def\u5f84 fmt.Println(path.Join(filePath1,\"..\")) ///Users/Wanghongwei/DeskTop fmt.Println(path.Join(filePath1,\"../..\")) ///Users/Wanghongwei fmt.Println(\"/Users/Wanghongwei/Desktop\",filePath2) ///Users/Wanghongwei/Desktop ../t2/variable.go }","title":"7.3 \u6587\u4ef6\u8def\u5f84"},{"location":"%E5%9F%BA%E7%A1%80/6/#74","text":"","title":"7.4 \u6587\u4ef6\u5e38\u89c4\u64cd\u4f5c"},{"location":"%E5%9F%BA%E7%A1%80/6/#_9","text":"\u521b\u5efa\u76ee\u5f55\u65f6\uff0c\u5982\u679c\u76ee\u5f55\u5b58\u5728\uff0c\u5219\u521b\u5efa\u5931\u8d25\u3002Go\u8bed\u8a00\u63d0\u4f9b\u4e86\u4e24\u79cd\u65b9\u6cd5\u3002 1. os.Mkdir() os.MKdir()\u4ec5\u521b\u5efa\u4e00\u5c42\u76ee\u5f55\u3002\u5b98\u65b9\u6587\u6863\u89e3\u91ca\u5982\u4e0b\u6240\u793a\u3002 // Mkdir creates a new directory with the specified name and permission // bits (before umask). // If there is an error, it will be of type *PathError. 2. os.MKdirAll() os.MKdirAll()\u521b\u5efa\u591a\u5c42\u76ee\u5f55\u3002 package main import ( \"fmt\" \"os\" ) func main() { // \u521b\u5efa\u5355\u4e2a\u76ee\u5f55 filePath1 := \"./test1\" err := os.Mkdir(filePath1,os.ModePerm) if err != nil{ fmt.Println(\"err>> \",err) } // \u521b\u5efa\u591a\u7ea7\u76ee\u5f55 filePath2 := \"./test2/adb/xyz\" err = os.MkdirAll(filePath2,os.ModePerm) if err != nil{ fmt.Println(\"err>> \",err) } }","title":"\u521b\u5efa\u76ee\u5f55"},{"location":"%E5%9F%BA%E7%A1%80/6/#_10","text":"os.Create()\u521b\u5efa\u6587\u4ef6\uff0c\u5982\u679c\u6587\u4ef6\u5b58\u5728\uff0c\u4f1a\u5c06\u5176\u8986\u76d6\u3002\u5b98\u65b9\u6587\u6863\u89e3\u91ca\u5982\u4e0b\u6240\u793a\u3002 // Create creates or truncates the named file. If the file already exists, // it is truncated. If the file does not exist, it is created with mode 0666 // (before umask). If successful, methods on the returned File can // be used for I/O; the associated file descriptor has mode O_RDWR. // If there is an error, it will be of type *PathError. func Create(name string) (*File, error) { return OpenFile(name, O_RDWR|O_CREATE|O_TRUNC, 0666) } \u8be5\u51fd\u6570\u672c\u8d28\u4e0a\u662f\u5728\u8c03\u7528os.OpenFile()\u51fd\u6570\u3002 package main import ( \"fmt\" \"os\" ) func main() { filePath := \"./test1/abc.json\" file, err := os.Create(filePath) if err != nil{ fmt.Println(\"err>>> \",err) }else{ fmt.Println(\"file>>> \", file) } }","title":"\u521b\u5efa\u6587\u4ef6"},{"location":"%E5%9F%BA%E7%A1%80/6/#_11","text":"\u6253\u5f00\u6587\u4ef6\uff1a\u8ba9\u5f53\u524d\u7684\u7a0b\u5e8f\u548c\u6307\u5b9a\u7684\u6587\u4ef6\u5efa\u7acb\u4e00\u4e2a\u94fe\u63a5\u3002 os.Open()\u51fd\u6570\u672c\u8d28\u4e0a\u662f\u5728\u8c03\u7528os.OpenFile()\u51fd\u6570\u3002 // Open opens the named file for reading. If successful, methods on // the returned file can be used for reading; the associated file // descriptor has mode O_RDONLY. // If there is an error, it will be of type *PathError. func Open(name string) (*File, error) { return OpenFile(name, O_RDONLY, 0) } // OpenFile is the generalized open call; most users will use Open // or Create instead. It opens the named file with specified flag // (O_RDONLY etc.). If the file does not exist, and the O_CREATE flag // is passed, it is created with mode perm (before umask). If successful, // methods on the returned File can be used for I/O. // If there is an error, it will be of type *PathError. func OpenFile(name string, flag int, perm FileMode) (*File, error) { testlog.Open(name) f, err := openFileNolog(name, flag, perm) if err != nil { return nil, err } f.appendMode = flag&O_APPEND != 0 return f, nil } \u793a\u4f8b\uff1a package main import ( \"fmt\" \"os\" ) func main() { filePath := \"./test1/abc.json\" // \u6253\u5f00\u6587\u4ef6 file, err := os.Open(filePath) if err != nil{ fmt.Println(\"err>>> \",err) }else{ fmt.Println(\"file>>> \",file) } // \u4ee5\u8bfb\u5199\u7684\u65b9\u5f0f\u6253\u5f00\uff0c\u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\u5c31\u521b\u5efa // \u2014\u2014\u2014\u2014 \u6ce8\u610f \u76ee\u5f55\u5fc5\u987b\u5b58\u5728\uff01\uff01\uff01 filePath2 := \"./test2/aaa.json\" file2, err2 := os.OpenFile(filePath2,os.O_CREATE,os.ModePerm) if err2 != nil{ fmt.Println(\"err>>> \",err2) }else{ fmt.Println(\"file2>>> \",file2) } } // \u5173\u95ed\u6587\u4ef6 file.close() file2.close()","title":"\u6253\u5f00\u548c\u5173\u95ed\u6587\u4ef6"},{"location":"%E5%9F%BA%E7%A1%80/6/#_12","text":"\u5220\u9664\u6587\u4ef6\u6709\u4e24\u79cd\u65b9\u6cd5\uff0c\u5982\u4e0b\u6240\u793a\uff1a package main import ( \"fmt\" \"os\" ) func main() { // 1 \u5220\u9664\u5355\u4e2a\u6587\u4ef6\u6216\u76ee\u5f55 filePath := \"./test1/abc.json\" err := os.Remove(filePath) if err != nil{ fmt.Println(err) } // 2 \u5c06\u76ee\u5f55\u4e2d\u6240\u6709\u6587\u4ef6\u53ca\u76ee\u5f55\u5220\u9664 \u5305\u62ec\u8fd9\u4e2a\u6839\u76ee\u5f55\uff01 filePath2 := \"./test2\" err2 := os.RemoveAll(filePath2) if err2 != nil{ fmt.Println(err2) } // 3 \u4f7f\u7528 os.Remove \u65b9\u6cd5\u5220\u9664\u975e\u7a7a\u7684\u76ee\u5f55\u4f1a\u62a5\u9519\uff01\uff01\uff01 filePath3 := \"./test3\" // test3\u4e2d\u6709\u4e1c\u897f err3 := os.Remove(filePath3) if err3 != nil{ fmt.Println(\"err3>>> \",err3) // remove ./test3: directory not empty }else{ fmt.Println(filePath3) } }","title":"\u5220\u9664\u6587\u4ef6"},{"location":"%E5%9F%BA%E7%A1%80/6/#_13","text":"\u8bfb\u53d6\u6587\u4ef6\u6570\u636e package main import ( \"fmt\" \"io\" \"os\" ) func main() { // \u8bfb\u53d6\u6587\u4ef6\u6570\u636e filePath := \"./test1/abc.txt\" file, err := os.Open(filePath) if err != nil{ fmt.Println(\"err>>> \",err) }else{ // \u8bfb\u53d6\u6587\u4ef6 bs := make([]byte,1024*8,1024*8) n := -1 for { n, err = file.Read(bs) if n == 0 || err == io.EOF{ fmt.Println(\"\u8bfb\u53d6\u6587\u4ef6\u7ed3\u675f\uff01\") break } fmt.Println(string(bs[:n])) } } // \u5173\u95ed\u6587\u4ef6 file.Close() } /* whw 123 666 \u738b\u5b8f\u4f1f666 \u8bfb\u53d6\u6587\u4ef6\u7ed3\u675f\uff01 */","title":"\u8bfb\u53d6\u6587\u4ef6"},{"location":"%E5%9F%BA%E7%A1%80/6/#_14","text":"package main import ( \"fmt\" \"os\" ) func main() { // \u8bfb\u53d6\u6587\u4ef6\u6570\u636e filePath := \"./test1/writeTest.txt\" file, err := os.OpenFile(filePath,os.O_RDWR|os.O_CREATE,os.ModePerm) if err != nil{ fmt.Println(\"err>>> \",err) }else{ // \u5199\u5165\u6587\u4ef6 n, err := file.Write([]byte(\"abdcsa13\\n\")) if err != nil{ fmt.Println(\"\u5199\u5165\u6587\u4ef6\u5f02\u5e38:\",err) }else{ fmt.Println(\"n:\",n) // 9 } // \u5199\u5165\u6c49\u5b57\uff01 n, err = file.WriteString(\"\u738b\u5b8f\u4f1f666\") if err != nil{ fmt.Println(\"\u5199\u5165\u6c49\u5b57\u5f02\u5e38>>\",err) }else{ fmt.Println(\"n:\",n) // 12 } } // \u5173\u95ed\u6587\u4ef6 file.Close() }","title":"\u5199\u5165\u6587\u4ef6"},{"location":"%E5%9F%BA%E7%A1%80/6/#_15","text":"Go\u8bed\u8a00\u63d0\u4f9b\u4e86copyFile()\u65b9\u6cd5\uff0c\u7528\u6765\u590d\u5236\u6587\u4ef6\u3002 package main import ( \"fmt\" \"io\" \"os\" ) func main() { // \u6e90\u6587\u4ef6\u76f8\u5bf9\u8def\u5f84 srcFilePath := \"./test1/writeTest.txt\" // \u51c6\u5907\u751f\u6210\u7684\u76ee\u6807\u6587\u4ef6\u8def\u5f84 \uff01 \u6ce8\u610ftest2\u8fd9\u4e2a\u76ee\u5f55\u5fc5\u987b\u5b58\u5728\uff01\uff01\uff01 newFilePath := \"./test2/copyTest.txt\" total, err := copyFile(newFilePath,srcFilePath) if err != nil{ fmt.Println(\"err:\",err) } else{ fmt.Println(\"\u590d\u5236OK\uff01\",total) } } func copyFile(destFile, srcFile string)(int64, error){ file1, err := os.Open(srcFile) if err != nil{ return 0, err } file2, err := os.OpenFile(destFile,os.O_RDWR|os.O_CREATE,os.ModePerm) if err != nil{ return 0, err } // defer close defer file1.Close() defer file2.Close() // \u590d\u5236\uff01 return io.Copy(file2, file1) }","title":"\u590d\u5236\u6587\u4ef6"},{"location":"%E5%9F%BA%E7%A1%80/6/#75-ioutil","text":"ioutil\u5305\u7684\u6838\u5fc3\u51fd\u6570\u5982\u8868\u6240\u793a\uff1a package main import ( \"fmt\" \"io/ioutil\" \"os\" ) func main() { // \u6253\u5f00\u6587\u4ef6 filePath1 := \"./test1/writeTest.txt\" data, err := ioutil.ReadFile(filePath1) if err != nil{ fmt.Println(\"err>> \",err) }else{ fmt.Println(\"data>> \\n\",string(data)) } // \u5199\u5165\u6587\u4ef6 \u4f1a\u8986\u76d6\u4e4b\u524d\u7684\u5185\u5bb9\uff01 filePath2 := \"./test2/copyTest.txt\" writeString := \"\u91d1\u521a\u846b\u82a6\u5a03\" err = ioutil.WriteFile(filePath2,[]byte(writeString),os.ModePerm) if err != nil{ fmt.Println(\"\u5199\u5165\u6587\u4ef6\u5931\u8d25\") } // \u6587\u4ef6\u590d\u5236 err = ioutil.WriteFile(filePath2,data,os.ModePerm) if err != nil{ fmt.Println(\"\u6587\u4ef6\u590d\u5236\u5f02\u5e38\uff01\",err.Error()) } // \u904d\u5386\u76ee\u5f55 v\u662f\u6307\u5b9a\u76ee\u5f55\u91cc\u7684\u6587\u4ef6\u6216\u6587\u4ef6\u5939 dirName := \"./\" fileInfos, err := ioutil.ReadDir(dirName) if err != nil{ fmt.Println(\"\u76ee\u5f55\u904d\u5386\u5f02\u5e38\uff01\",err.Error()) }else{ for i, v := range fileInfos{ fmt.Println(i, v.Name(), v.IsDir(),v.Size(), v.ModTime()) } } // \u521b\u5efa\u76ee\u5f55 fileName, err := ioutil.TempDir(\"./\",\"temp\") if err != nil{ fmt.Println(\"\u521b\u5efa\u76ee\u5f55\u5931\u8d25\uff01\",err.Error()) }else{ // \u6ce8\u610f\u540e\u9762\u8fd8\u6709\u6570\u5b57\uff01temp736138268 fmt.Println(\"fileName>>> \",fileName) } // \u521b\u5efa\u6587\u4ef6 file1, err1 := ioutil.TempFile(fileName,\"test.txt\") if err1 != nil{ fmt.Println(\"err1>>> \",err1) }else{ // \u6ce8\u610f\u6587\u4ef6\u540d\u540e\u9762\u4e5f\u6709\u968f\u673a\u6570\u5b57\uff01 file1.WriteString(\"\u5199\u5165\u5185\u5bb9\uff1a\" + file1.Name()) } file1.Close() }","title":"7.5 ioutil\u5305"},{"location":"%E5%9F%BA%E7%A1%80/6/#76-bufio","text":"bufio\u5b9e\u73b0\u4e86\u5e26\u7f13\u51b2\u7684I/O\u64cd\u4f5c\uff0c\u8fbe\u5230\u9ad8\u6548\u8bfb\u5199\u3002 \u7f13\u51b2\u533a\u7684\u539f\u7406 bufio\u5305\u5bf9io\u5305\u4e0b\u7684\u5bf9\u8c61Reader\u3001Writer\u8fdb\u884c\u5305\u88c5\uff0c\u5206\u522b\u5b9e\u73b0\u4e86io.Reader\u548cio.Writer\u63a5\u53e3\uff0c\u63d0\u4f9b\u4e86\u6570\u636e\u7f13\u51b2\u529f\u80fd\uff0c\u80fd\u591f\u4e00\u5b9a\u7a0b\u5ea6\u51cf\u5c11\u5927\u5757\u6570\u636e\u8bfb\u5199\u5e26\u6765\u7684\u5f00\u9500\uff0c\u6240\u4ee5bufio\u6bd4\u76f4\u63a5\u8bfb\u5199\u66f4\u5feb\u3002 \u628a\u6587\u4ef6\u8bfb\u53d6\u8fdb\u7f13\u51b2\u533a\u4e4b\u540e\uff0c\u518d\u8bfb\u53d6\u7684\u65f6\u5019\u5c31\u53ef\u4ee5\u907f\u514d\u6587\u4ef6\u7cfb\u7edf\u7684\u8f93\u51fa\uff0c\u4ece\u800c\u63d0\u9ad8\u901f\u5ea6\uff1b\u5728\u8fdb\u884c\u5199\u64cd\u4f5c\u65f6\uff0c\u5148\u628a\u6587\u4ef6\u5199\u5165\u7f13\u51b2\u533a\uff0c\u7136\u540e\u7531\u7f13\u51b2\u533a\u5199\u5165\u6587\u4ef6\u7cfb\u7edf\u3002 \u6709\u4eba\u53ef\u80fd\u4f1a\u56f0\u60d1\uff1a\u76f4\u63a5\u628a\u201c\u5185\u5bb9\u2014\u6587\u4ef6\u201d\u548c\u201c\u5185\u5bb9\u2014\u7f13\u51b2\u533a\u2014\u6587\u4ef6\u201d\u76f8\u6bd4\uff0c\u7f13\u51b2\u533a\u4f3c\u4e4e\u6ca1\u6709\u8d77\u5230\u4f5c\u7528\u3002\u5176\u5b9e\u5728\u751f\u6d3b\u4e2d\u4e5f\u6709\u8fd9\u6837\u7684\u4f8b\u5b50\uff0c\u6bd4\u5982\u6bcf\u5f53\u5bb6\u91cc\u4ea7\u751f\u5783\u573e\u7684\u65f6\u5019\uff0c\u4e0d\u4f1a\u6709\u4eba\u9a6c\u4e0a\u53bb\u697c\u4e0b\u5012\u5783\u573e\uff0c\u56e0\u4e3a\u8fd9\u6837\u53cd\u590d\u5730\u4e0a\u4e0b\u697c\u975e\u5e38\u9ebb\u70e6\uff0c\u901a\u5e38\u5bb6\u91cc\u90fd\u4f1a\u51c6\u5907\u4e2a\u5c0f\u5783\u573e\u6876\uff0c\u7b49\u5783\u573e\u6876\u88c5\u6ee1\u4e86\u4e4b\u540e\u628a\u4e00\u6279\u5783\u573e\u4e00\u8d77\u5012\u6389\u3002\u7528\u8ba1\u7b97\u673a\u7684\u601d\u60f3\u6765\u770b\uff0c\u5783\u573e\u6876\u5c31\u5145\u5f53\u4e86\u7f13\u51b2\u533a\u7684\u89d2\u8272\u3002 \u7f13\u51b2\u533a\u7684\u8bbe\u8ba1\u662f\u4e3a\u4e86\u5b58\u50a8\u591a\u6b21\u7684\u5199\u5165\uff0c\u6700\u540e\u4e00\u53e3\u6c14\u628a\u7f13\u51b2\u533a\u5185\u5bb9\u5199\u5165\u6587\u4ef6\u3002\u5f53\u53d1\u8d77\u4e00\u6b21\u8bfb\u5199\u64cd\u4f5c\u65f6\uff0c\u8ba1\u7b97\u673a\u4f1a\u9996\u5148\u5c1d\u8bd5\u4ece\u7f13\u51b2\u533a\u83b7\u53d6\u6570\u636e\uff1b\u53ea\u6709\u5f53\u7f13\u51b2\u533a\u6ca1\u6709\u6570\u636e\u65f6\uff0c\u624d\u4f1a\u4ece\u6570\u636e\u6e90\u83b7\u53d6\u6570\u636e\u66f4\u65b0\u7f13\u51b2\u3002 Scanner \u5b9e\u9645\u4f7f\u7528\u4e2d\uff0c\u66f4\u63a8\u8350\u4f7f\u7528Scanner\u5bf9\u6570\u636e\u8fdb\u884c\u8bfb\u53d6\uff0c\u800c\u975e\u76f4\u63a5\u4f7f\u7528Reader\u7c7b\u3002Scanner\u53ef\u4ee5\u901a\u8fc7splitFunc\u5c06\u8f93\u5165\u6570\u636e\u62c6\u5206\u4e3a\u591a\u4e2atoken\uff0c\u7136\u540e\u4f9d\u6b21\u8fdb\u884c\u8bfb\u53d6\u3002\u548cReader\u7c7b\u4f3c\uff0cScanner\u9700\u8981\u7ed1\u5b9a\u5230\u67d0\u4e2aio.Reader\u4e0a\uff0c\u901a\u8fc7NewScanner()\u8fdb\u884c\u521b\u5efa\u3002 \u9ed8\u8ba4\u65b9\u6cd5\u5982\u8868\uff1a bufio \u6a21\u5757\u63d0\u4f9b\u4e86\u51e0\u4e2a\u9ed8\u8ba4splitFunc\uff0c\u80fd\u591f\u6ee1\u8db3\u5927\u90e8\u5206\u573a\u666f\u7684\u9700\u6c42\uff0c\u5982\u4e0b\u8868\u6240\u793a\uff1a \u53ef\u4ee5\u4e3aScanner\u6307\u5b9asplitFunc\uff0c\u65b9\u6cd5\u5982\u4e0b\u6240\u793a\uff1a scanner.split(bufio.ScanWords) package main import ( \"bufio\" \"fmt\" \"strings\" ) func main() { // \u521b\u5efaReader\u5bf9\u8c61\u5e76\u4f20\u5165\u8981\u5206\u5272\u7684\u5b57\u7b26\u4e32 reader1 := bufio.NewReader(strings.NewReader(\"abcsdsaf 123 dfs\")) // \u521b\u5efaScanner\u5bf9\u8c61 scanner := bufio.NewScanner(reader1) // \u6307\u5b9a\u5206\u5272\u65b9\u6cd5\uff0c\u6309\u7167\u7a7a\u683c\u8fdb\u884c\u62c6\u5206 scanner.Split(bufio.ScanWords) // \u5faa\u73af\u8bfb\u53d6 for scanner.Scan(){ fmt.Println(scanner.Text()) if scanner.Text() == \"q!\"{ break } } } /* abcsdsaf 123 dfs */ bufio.Reader\u7ed3\u6784\u4f53 bufio.Reader bufio.Reader\u7684\u5e38\u7528\u65b9\u6cd5\u5982\u8868: NewReader()\u4e0eNewReaderSize() \u5c06rd\u5c01\u88c5\u6210\u4e00\u4e2a\u62e5\u6709size\u5927\u5c0f\u7f13\u5b58\u7684bufio.Reader\u5bf9\u8c61\uff0cNewReader()\u76f8\u5f53\u4e8eNewReaderSize(rd, 4096)\u3002 Read() bufio.Read(p []byte) \u76f8\u5f53\u4e8e\u8bfb\u53d6\u5927\u5c0f\u4e3alen(p)\u7684\u5185\u5bb9\uff0c\u4f7f\u7528\u601d\u8def\u5982\u4e0b\u3002\uff081\uff09\u5f53\u7f13\u51b2\u533a\u6709\u5185\u5bb9\u65f6\uff0c\u5c06\u7f13\u51b2\u533a\u5185\u5bb9\u5168\u90e8\u586b\u5165p\u5e76\u6e05\u7a7a\u7f13\u51b2\u533a\u3002\uff082\uff09\u5f53\u7f13\u51b2\u533a\u6ca1\u6709\u5185\u5bb9\u4e14len(p)\uff1elen(buf)\uff0c\u5373\u8981\u8bfb\u53d6\u7684\u5185\u5bb9\u6bd4\u7f13\u51b2\u533a\u8fd8\u8981\u5927\uff0c\u76f4\u63a5\u53bb\u6587\u4ef6\u8bfb\u53d6\u5373\u53ef\u3002\uff083\uff09\u5f53\u7f13\u51b2\u533a\u6ca1\u6709\u5185\u5bb9\u4e14len(p)\uff1clen(buf)\uff0c\u5373\u8981\u8bfb\u53d6\u7684\u5185\u5bb9\u6bd4\u7f13\u51b2\u533a\u5c0f\uff0c\u7f13\u51b2\u533a\u4ece\u6587\u4ef6\u8bfb\u53d6\u5185\u5bb9\u5145\u6ee1\u7f13\u51b2\u533a\uff0c\u5e76\u5c06p\u586b\u6ee1\uff08\u6b64\u65f6\u7f13\u51b2\u533a\u6709\u5269\u4f59\u5185\u5bb9\uff09\u3002\uff084\uff09\u4ee5\u540e\u518d\u6b21\u8bfb\u53d6\u65f6\u7f13\u51b2\u533a\u6709\u5185\u5bb9\uff0c\u5c06\u7f13\u51b2\u533a\u5185\u5bb9\u5168\u90e8\u586b\u5165p\u5e76\u6e05\u7a7a\u7f13\u51b2\u533a\uff0c\u540c\u60c5\u51b5\uff081\uff09\u3002 ReadLine() ReadLine()\u662f\u4e00\u4e2a\u4f4e\u7ea7\u7684\u3001\u539f\u59cb\u7684\u884c\u8bfb\u53d6\u64cd\u4f5c\uff0c\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u5e94\u8be5\u4f7f\u7528ReadBytes('\\n')\u6216ReadString('\\n')\uff0c\u6216\u8005\u4f7f\u7528\u4e00\u4e2aScanner\u3002ReadLine()\u901a\u8fc7\u8c03\u7528ReadSlice()\u65b9\u6cd5\u5b9e\u73b0\uff0c\u8fd4\u56de\u7684\u4e5f\u662f\u7f13\u5b58\u7684\u5207\u7247\u3002ReadLine()\u5c1d\u8bd5\u8fd4\u56de\u4e00\u4e2a\u5355\u884c\u6570\u636e\uff0c\u4e0d\u5305\u62ec\u884c\u5c3e\u6807\u8bb0\uff08\\n\u6216\\r\\n\uff09\uff0c\u5982\u679c\u5728\u7f13\u5b58\u4e2d\u627e\u4e0d\u5230\u884c\u5c3e\u6807\u8bb0\uff0c\u5219\u8bbe\u7f6eisPrefix\u4e3atrue\uff0c\u8868\u793a\u67e5\u627e\u672a\u5b8c\u6210\uff0c\u540c\u65f6\u8bfb\u51fa\u7f13\u5b58\u4e2d\u7684\u6570\u636e\u5e76\u4f5c\u4e3a\u5207\u7247\u8fd4\u56de\uff1b\u53ea\u6709\u5728\u5f53\u524d\u7f13\u5b58\u4e2d\u627e\u5230\u884c\u5c3e\u6807\u8bb0\uff0c\u624d\u5c06isPrefix\u8bbe\u7f6e\u4e3afalse\uff0c\u8868\u793a\u67e5\u627e\u5b8c\u6210\u3002\u53ef\u4ee5\u591a\u6b21\u8c03\u7528ReadLine()\u6765\u8bfb\u51fa\u4e00\u884c\uff0c\u8fd4\u56de\u7684\u6570\u636e\u5728\u4e0b\u4e00\u6b21\u8bfb\u53d6\u64cd\u4f5c\u4e4b\u524d\u662f\u6709\u6548\u7684\u3002\u5982\u679cReadLine()\u65e0\u6cd5\u83b7\u53d6\u4efb\u4f55\u6570\u636e\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a\u9519\u8bef\u4fe1\u606f\uff08\u901a\u5e38\u662fio.EOF\uff09\u3002 ReadBytes() *** ReadBytes()\u5728b\u4e2d\u67e5\u627edelim\u5e76\u8bfb\u51fadelim\u53ca\u5176\u4e4b\u524d\u7684\u6240\u6709\u6570\u636e\u3002\u5982\u679cReadBytes()\u5728\u627e\u5230delim\u4e4b\u524d\u9047\u5230\u9519\u8bef\uff0c\u5219\u8fd4\u56de\u9047\u5230\u9519\u8bef\u4e4b\u524d\u7684\u6240\u6709\u6570\u636e\uff0c\u540c\u65f6\u8fd4\u56de\u9047\u5230\u7684\u9519\u8bef\uff08\u901a\u5e38\u662fio.EOF\uff09\u3002\u53ea\u6709\u5f53ReadBytes()\u627e\u4e0d\u5230delim\u65f6\uff0cerr\u624d\u4e0d\u4e3anil\u3002 \u5bf9\u4e8e\u7b80\u5355\u7684\u4efb\u52a1\uff0c\u4f7f\u7528Scanner\u53ef\u80fd\u66f4\u65b9\u4fbf\u3002 ReadString() *** ReadString()\u529f\u80fd\u540cReadBytes()\uff0c\u53ea\u4e0d\u8fc7\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u3002 package main import ( \"bufio\" \"fmt\" \"io\" \"os\" ) func main() { testReader() } func testReader(){ fileName1 := \"./test1/abc.txt\" // \u6253\u5f00\u6587\u4ef6 file1, _ := os.Open(fileName1) // \u521b\u5efa\u7f13\u51b2\u533a reader1 := bufio.NewReader(file1) fmt.Printf(\"%T \\n\", reader1) // *bufio.Reader // \u4ece\u7f13\u51b2\u533a\u51b2\u8bfb\u53d6 for { // \u4ee5/n\u95ee\u5206\u9694\u7b26\u8bfb\u53d6 s1, err := reader1.ReadString('\\n') fmt.Println(s1) if err == io.EOF{ fmt.Println(\"\u8bfb\u53d6\u5b8c\u6bd5\") break } } file1.Close() } bufio.Writer\u7ed3\u6784\u4f53 buffo.Writer bufio.Writer\u7684\u5e38\u7528\u65b9\u6cd5\u5982\u8868: Write() bufio.Write(p []byte)\u7684\u4f7f\u7528\u601d\u8def\u5982\u4e0b: \uff081\uff09\u5224\u65ad\u7f13\u51b2\u533a\u4e2d\u53ef\u7528\u5bb9\u91cf\u662f\u5426\u53ef\u4ee5\u653e\u4e0b p\u3002 \uff082\uff09\u5982\u679c\u80fd\u653e\u4e0b\uff0c\u76f4\u63a5\u628ap\u653e\u5230\u7f13\u51b2\u533a\u3002 \uff083\uff09\u5982\u679c\u7f13\u51b2\u533a\u7684\u53ef\u7528\u5bb9\u91cf\u4e0d\u8db3\u4ee5\u653e\u4e0bp\uff0c\u4e14\u6b64\u65f6\u7f13\u51b2\u533a\u662f\u7a7a\u7684\uff0c\u76f4\u63a5\u628ap\u5199\u5165\u6587\u4ef6\u5373\u53ef\u3002 \uff084\uff09\u5982\u679c\u7f13\u51b2\u533a\u7684\u53ef\u7528\u5bb9\u91cf\u4e0d\u8db3\u4ee5\u653e\u4e0bp\uff0c\u4e14\u6b64\u65f6\u7f13\u51b2\u533a\u6709\u5185\u5bb9\uff0c\u5219\u7528p\u628a\u7f13\u51b2\u533a\u586b\u6ee1\uff0c\u628a\u7f13\u51b2\u533a\u6240\u6709\u5185\u5bb9\u5199\u5165\u6587\u4ef6\uff0c\u5e76\u6e05\u7a7a\u7f13\u51b2\u533a\u3002 \uff085\uff09\u5224\u65adp\u7684\u5269\u4f59\u5185\u5bb9\u5927\u5c0f\u80fd\u5426\u653e\u5230\u7f13\u51b2\u533a\uff0c\u5982\u679c\u80fd\u653e\u4e0b\u5219\u628a\u5185\u5bb9\u653e\u5230\u7f13\u51b2\u533a\uff0c\u540c\u60c5\u51b5\uff082\uff09\u3002 \uff086\uff09\u5982\u679cp\u7684\u5269\u4f59\u5185\u5bb9\u4f9d\u65e7\u5927\u4e8e\u7f13\u51b2\u533a\uff08\u6ce8\u610f\u6b64\u65f6\u7f13\u51b2\u533a\u662f\u7a7a\u7684\uff09\uff0c\u5219\u628ap\u7684\u5269\u4f59\u5185\u5bb9\u76f4\u63a5\u5199\u5165\u6587\u4ef6\uff0c\u540c\u60c5\u51b5\uff083\uff09\u3002 package main import ( \"bufio\" \"fmt\" \"io\" \"os\" ) func main() { testWriter() } func testWriter(){ fileName := \"./test1/abc.txt\" // \u6253\u5f00\u6587\u4ef6 file, _ := os.Open(fileName) // \u521b\u5efa\u8bfb\u7f13\u51b2\u533a reader := bufio.NewReader(file) fileName2 := \"./test1/writeText.txt\" // \u6253\u5f00\u6587\u4ef6 file2, _ := os.OpenFile(fileName2,os.O_WRONLY|os.O_CREATE,os.ModePerm) // \u521b\u5efa\u8bfb\u5199\u7f13\u51b2\u533a writer1 := bufio.NewWriter(file2) for{ // \u5c06\u8bfb\u53d6\u5230\u7684\u6570\u636e\u5199\u5165\u53e6\u4e00\u4e2a\u6587\u4ef6 bs, err := reader.ReadBytes(' ') writer1.Write(bs) writer1.Flush() if err == io.EOF{ fmt.Println(\"\u6587\u4ef6\u8bfb\u53d6\u5b8c\u6bd5\") break } } file.Close() file2.Close() }","title":"7.6 bufio\u5305"},{"location":"%E5%9F%BA%E7%A1%80/6/#_16","text":"","title":""},{"location":"%E5%9F%BA%E7%A1%80/7/","text":"* Go\u8bed\u8a00\u7f51\u7edc\u7f16\u7a0b\u76f8\u5173 HTTP\u534f\u8bae\u5ba2\u6237\u7aef\u5b9e\u73b0 Go\u8bed\u8a00\u6807\u51c6\u5e93\u5185\u7f6e\u4e86net/http\u5305\uff0c\u6db5\u76d6\u4e86HTTP\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u5177\u4f53\u7684\u5b9e\u73b0\u65b9\u5f0f\u3002 \u5185\u7f6e\u7684net/http\u5305\u63d0\u4f9b\u4e86\u6700\u7b80\u6d01\u7684HTTP\u5ba2\u6237\u7aef\u5b9e\u73b0\u65b9\u5f0f\uff0c\u65e0\u987b\u501f\u52a9\u7b2c\u4e09\u65b9\u7f51\u7edc\u901a\u4fe1\u5e93\uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528HTTP\u4e2d\u7528\u5f97\u6700\u591a\u7684GET\u548cPOST\u65b9\u5f0f\u8bf7\u6c42\u6570\u636e\u3002 \u5b9e\u73b0HTTP\u5ba2\u6237\u7aef\u5c31\u662f\u5ba2\u6237\u7aef\u901a\u8fc7\u7f51\u7edc\u8bbf\u95ee\u5411\u670d\u52a1\u7aef\u53d1\u9001\u8bf7\u6c42\uff0c\u670d\u52a1\u7aef\u53d1\u9001\u54cd\u5e94\u4fe1\u606f\uff0c\u5e76\u5c06\u76f8\u5e94\u4fe1\u606f\u8f93\u51fa\u5230\u5ba2\u6237\u7aef\u7684\u8fc7\u7a0b\u3002\u5b9e\u73b0\u5ba2\u6237\u7aef\u6709\u591a\u79cd\u65b9\u5f0f \u2014\u2014 \u8fd9\u91cc\u53ea\u8bb0http.NewRequest\u65b9\u6cd5\uff1a package main import ( \"fmt\" \"io/ioutil\" \"net/http\" ) func main() { testHttpNewRequest() } func testHttpNewRequest(){ // 1. \u521b\u5efa\u4e00\u4e2a\u5ba2\u6237\u7aef client := http.Client{} // 2. \u521b\u5efa\u4e00\u4e2a\u8bf7\u6c42\uff0c\uff0c\u8bf7\u6c42\u7684\u65b9\u5f0f\u53ef\u4ee5\u662fget\u3001post\u7b49 request, err := http.NewRequest(\"GET\",\"https://www.baidu.com\",nil) // \u68c0\u67e5\u9519\u8bef CheckErr(err) // 3. \u5ba2\u6237\u7aef\u53d1\u9001\u8bf7\u6c42 cookName := &http.Cookie{Name: \"username\",Value: \"wanghw\"} // \u6dfb\u52a0cookie request.AddCookie(cookName) // response rep, err := client.Do(request) // \u68c0\u67e5\u9519\u8bef CheckErr(err) // \u8bbe\u7f6e\u8bf7\u6c42\u5934 request.Header.Set(\"Accept-Language\",\"zh-cn\") // defer \u5173\u95edbody defer rep.Body.Close() // \u67e5\u770b\u8bf7\u6c42\u5934\u7684\u6570\u636e fmt.Printf(\"Header:%+v \\n\",request.Header) fmt.Printf(\"\u54cd\u5e94\u72b6\u6001\u7801:%v \\n\",rep.StatusCode) // 4. \u64cd\u4f5c\u6570\u636e if rep.StatusCode == 200{ data, err := ioutil.ReadAll(rep.Body) CheckErr(err) fmt.Println(\"\u7f51\u7edc\u8bf7\u6c42\u6210\u529f\uff01\") fmt.Println(string(data)) }else{ fmt.Println(\"\u7f51\u7edc\u8bf7\u6c42\u5931\u8d25!\u72b6\u6001\u7801\uff1a\",rep.Status) } } // \u68c0\u67e5\u9519\u8bef func CheckErr(err error){ defer func(){ if ins, ok := recover().(error); ok{ fmt.Println(\"\u7a0b\u5e8f\u51fa\u73b0\u5f02\u5e38...\",ins.Error()) } }() if err != nil{ panic(err) } } HTTP\u534f\u8bae\u670d\u52a1\u7aef\u5b9e\u73b0 \uff08\u7565\uff09 * Go\u8bed\u8a00\u5e76\u53d1\u7f16\u7a0b 1 \u5e76\u53d1\u4e0e\u5e76\u884c \u5e76\u53d1\uff08Concurrency\uff09\u662f\u540c\u65f6\u5904\u7406\u8bb8\u591a\u4e2a\u4efb\u52a1\uff0c\u5b9e\u9645\u4e0a\u662f\u628a\u4efb\u52a1\u5728\u4e0d\u540c\u7684\u65f6\u95f4\u70b9\u4ea4\u7ed9\u5904\u7406\u5668\u8fdb\u884c\u5904\u7406\uff0c\u5728\u5fae\u89c2\u5c42\u9762\uff0c\u4efb\u52a1\u4e0d\u4f1a\u540c\u65f6\u8fd0\u884c\u3002 \u5e76\u884c\uff08Parallelism\uff09\u662f\u628a\u6bcf\u4e00\u4e2a\u4efb\u52a1\u5206\u914d\u7ed9\u6bcf\u4e00\u4e2a\u5904\u7406\u5668\u72ec\u7acb\u5b8c\u6210\uff0c\u591a\u4e2a\u4efb\u52a1\u4e00\u5b9a\u662f\u540c\u65f6\u8fd0\u884c\u3002\u5e76\u884c\u5c31\u662f\u540c\u65f6\u505a\u5f88\u591a\u4e8b\u60c5\uff0c\u4e4d\u542c\u8d77\u6765\u53ef\u80fd\u4e0e\u5e76\u53d1\u7c7b\u4f3c\uff0c\u4f46\u5b9e\u9645\u4e0a\u662f\u4e0d\u540c\u7684\u3002 2 \u8fdb\u7a0b\u4e0e\u7ebf\u7a0b \u5e76\u53d1\u76f8\u5173\u7684\u6982\u5ff5 \u7a0b\u5e8f\u662f\u7f16\u8bd1\u597d\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u5728\u78c1\u76d8\u4e0a\uff0c\u4e0d\u5360\u7528\u7cfb\u7edf\u8d44\u6e90\uff08CPU\u3001\u5185\u5b58\u3001\u8bbe\u5907\uff09\u3002 \u8fdb\u7a0b\u662f\u6d3b\u8dc3\u7684\u7a0b\u5e8f\uff0c\u5360\u7528\u7cfb\u7edf\u8d44\u6e90\uff0c\u5728\u5185\u5b58\u4e2d\u6267\u884c\u3002\u7a0b\u5e8f\u8fd0\u884c\u8d77\u6765\uff0c\u4ea7\u751f\u4e00\u4e2a\u8fdb\u7a0b\u3002 \u7a0b\u5e8f\u5c31\u50cf\u662f\u5267\u672c\uff0c\u8fdb\u7a0b\u5c31\u50cf\u662f\u6f14\u620f\uff0c\u540c\u4e00\u4e2a\u5267\u672c\u53ef\u4ee5\u5728\u591a\u4e2a\u821e\u53f0\u540c\u65f6\u4e0a\u6f14\u3002\u540c\u6837\uff0c\u540c\u4e00\u4e2a\u7a0b\u5e8f\u4e5f\u53ef\u4ee5\u52a0\u8f7d\u4e3a\u4e0d\u540c\u7684\u8fdb\u7a0b\uff08\u5f7c\u6b64\u4e4b\u95f4\u4e92\u4e0d\u5f71\u54cd\uff09\uff0c\u6bd4\u5982\u540c\u65f6\u8fd0\u884c\u4e24\u4e2aQQ\u3002 \u7ebf\u7a0b\u4e5f\u53eb\u8f7b\u91cf\u7ea7\u8fdb\u7a0b\uff0c\u901a\u5e38\u4e00\u4e2a\u8fdb\u7a0b\u5305\u542b\u82e5\u5e72\u4e2a\u7ebf\u7a0b\u3002\u7ebf\u7a0b\u53ef\u4ee5\u5229\u7528\u8fdb\u7a0b\u6240\u62e5\u6709\u7684\u8d44\u6e90\u3002\u5728\u5f15\u5165\u7ebf\u7a0b\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e2d\uff0c\u901a\u5e38\u90fd\u662f\u628a\u8fdb\u7a0b\u4f5c\u4e3a\u5206\u914d\u8d44\u6e90\u7684\u57fa\u672c\u5355\u4f4d\uff0c\u800c\u628a\u7ebf\u7a0b\u4f5c\u4e3a\u72ec\u7acb\u8fd0\u884c\u548c\u72ec\u7acb\u8c03\u5ea6\u7684\u57fa\u672c\u5355\u4f4d\uff0c\u6bd4\u5982\u97f3\u4e50\u8fdb\u7a0b\uff0c\u53ef\u4ee5\u4e00\u8fb9\u67e5\u770b\u6392\u884c\u699c\u4e00\u8fb9\u542c\u97f3\u4e50\uff0c\u4e92\u4e0d\u5f71\u54cd\u3002 \u8fdb\u7a0b\u4e0e\u7ebf\u7a0b\u7684\u8054\u7cfb \u8fdb\u7a0b\u548c\u7ebf\u7a0b\u662f\u64cd\u4f5c\u7cfb\u7edf\u7ea7\u522b\u7684\u4e24\u4e2a\u57fa\u672c\u6982\u5ff5\u3002\u8ba1\u7b97\u673a\u7684\u6838\u5fc3\u662fCPU\uff0c\u5b83\u627f\u62c5\u4e86\u6240\u6709\u7684\u8ba1\u7b97\u4efb\u52a1\uff0c\u5c31\u50cf\u4e00\u5ea7\u5de5\u5382\uff0c\u65f6\u523b\u5728\u8fd0\u884c\u3002\u8fdb\u7a0b\u5c31\u597d\u6bd4\u5de5\u5382\u7684\u8f66\u95f4\uff0c\u5b83\u4ee3\u8868CPU\u6240\u80fd\u5904\u7406\u7684\u5355\u4e2a\u4efb\u52a1\uff1b\u8fdb\u7a0b\u662f\u4e00\u4e2a\u5bb9\u5668\u3002\u7ebf\u7a0b\u5c31\u597d\u6bd4\u8f66\u95f4\u91cc\u7684\u5de5\u4eba\u3002\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u5305\u62ec\u591a\u4e2a\u7ebf\u7a0b\uff0c\u7ebf\u7a0b\u662f\u5bb9\u5668\u4e2d\u7684\u5de5\u4f5c\u5355\u4f4d\u3002 3 Goroutine\u4ecb\u7ecd \u534f\u88ce\u7684\u6982\u5ff5 \u534f\u7a0b\uff08Coroutine\uff09\uff0c\u6700\u521d\u57281963\u5e74\u88ab\u63d0\u51fa\uff0c\u53c8\u79f0\u4e3a\u5fae\u7ebf\u7a0b\uff0c\u662f\u4e00\u79cd\u6bd4\u7ebf\u7a0b\u66f4\u52a0\u8f7b\u91cf\u7ea7\u7684\u5b58\u5728\u3002\u6b63\u5982\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u62e5\u6709\u591a\u4e2a\u7ebf\u7a0b\uff0c\u4e00\u4e2a\u7ebf\u7a0b\u4e5f\u53ef\u4ee5\u62e5\u6709\u591a\u4e2a\u534f\u7a0b\u3002 \u534f\u7a0b\u662f\u7f16\u8bd1\u5668\u7ea7\u7684\uff0c\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u662f\u64cd\u4f5c\u7cfb\u7edf\u7ea7\u7684\u3002\u534f\u7a0b\u4e0d\u88ab\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u7ba1\u7406\uff0c\u800c\u5b8c\u5168\u7531\u7a0b\u5e8f\u63a7\u5236\uff0c\u56e0\u6b64\u6ca1\u6709\u7ebf\u7a0b\u5207\u6362\u7684\u5f00\u9500\u3002\u548c\u591a\u7ebf\u7a0b\u6bd4\uff0c\u7ebf\u7a0b\u6570\u91cf\u8d8a\u591a\uff0c\u534f\u7a0b\u7684\u6027\u80fd\u4f18\u52bf\u5c31\u8d8a\u660e\u663e\u3002\u534f\u7a0b\u7684\u6700\u5927\u4f18\u52bf\u5728\u4e8e\u5176\u8f7b\u91cf\u7ea7\uff0c\u53ef\u4ee5\u8f7b\u677e\u521b\u5efa\u4e0a\u4e07\u4e2a\u800c\u4e0d\u4f1a\u5bfc\u81f4\u7cfb\u7edf\u8d44\u6e90\u8870\u7aed\u3002 Go\u8bed\u8a00\u4e2d\u7684\u534f\u88ce Go\u8bed\u8a00\u4e2d\u7684\u534f\u7a0b\u53eb\u4f5cGoroutine\u3002Goroutine\u7531Go\u7a0b\u5e8f\u8fd0\u884c\u65f6\uff08runtime\uff09\u8c03\u5ea6\u548c\u7ba1\u7406\uff0cGo\u7a0b\u5e8f\u4f1a\u667a\u80fd\u5730\u5c06Goroutine\u4e2d\u7684\u4efb\u52a1\u5408\u7406\u5730\u5206\u914d\u7ed9\u6bcf\u4e2aCPU\u3002\u521b\u5efaGoroutine\u7684\u6210\u672c\u5f88\u5c0f\uff0c\u6bcf\u4e2aGoroutine\u7684\u5806\u6808\u53ea\u6709\u51e0kb\uff0c\u4e14\u5806\u6808\u53ef\u4ee5\u6839\u636e\u5e94\u7528\u7a0b\u5e8f\u7684\u9700\u8981\u589e\u957f\u548c\u6536\u7f29\u3002 Coroutine\u4e0eGoroutine Goroutine\u80fd\u5e76\u884c\u6267\u884c\uff0cCoroutine\u53ea\u80fd\u987a\u5e8f\u6267\u884c\uff1bGoroutine\u53ef\u5728\u591a\u7ebf\u7a0b\u73af\u5883\u4ea7\u751f\uff0cCoroutine\u53ea\u80fd\u53d1\u751f\u5728\u5355\u7ebf\u7a0b\u3002Coroutine\u7a0b\u5e8f\u9700\u8981\u4e3b\u52a8\u4ea4\u51fa\u63a7\u5236\u6743\uff0c\u7cfb\u7edf\u624d\u80fd\u83b7\u5f97\u63a7\u5236\u6743\u5e76\u5c06\u63a7\u5236\u6743\u4ea4\u7ed9\u5176\u4ed6Coroutine\u3002 Coroutine\u7684\u8fd0\u884c\u673a\u5236\u5c5e\u4e8e\u534f\u4f5c\u5f0f\u4efb\u52a1\u5904\u7406\uff0c\u5e94\u7528\u7a0b\u5e8f\u5728\u4e0d\u4f7f\u7528CPU\u65f6\uff0c\u9700\u8981\u4e3b\u52a8\u4ea4\u51faCPU\u4f7f\u7528\u6743\u3002\u5982\u679c\u5f00\u53d1\u8005\u65e0\u610f\u95f4\u8ba9\u5e94\u7528\u7a0b\u5e8f\u957f\u65f6\u95f4\u5360\u7528CPU\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4e5f\u65e0\u80fd\u4e3a\u529b\uff0c\u8ba1\u7b97\u673a\u5f88\u5bb9\u6613\u5931\u53bb\u54cd\u5e94\u6216\u8005\u6b7b\u673a\u3002 Goroutine\u5c5e\u4e8e\u62a2\u5360\u5f0f\u4efb\u52a1\u5904\u7406\uff0c\u548c\u73b0\u6709\u7684\u591a\u7ebf\u7a0b\u548c\u591a\u8fdb\u7a0b\u4efb\u52a1\u5904\u7406\u975e\u5e38\u7c7b\u4f3c\u3002\u5e94\u7528\u7a0b\u5e8f\u5bf9CPU\u7684\u63a7\u5236\u6700\u7ec8\u7531\u64cd\u4f5c\u7cfb\u7edf\u6765\u7ba1\u7406\uff0c\u5982\u679c\u64cd\u4f5c\u7cfb\u7edf\u53d1\u73b0\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\u957f\u65f6\u95f4\u5360\u7528CPU\uff0c\u90a3\u4e48\u7528\u6237\u6709\u6743\u7ec8\u6b62\u8fd9\u4e2a\u4efb\u52a1\u3002 4 \u521b\u5efaGoroutine \u666e\u901a\u51fd\u6570\u521b\u5efaGoroutine \u5728\u51fd\u6570\u6216\u65b9\u6cd5\u524d\u9762\u52a0\u4e0a\u5173\u952e\u5b57go\uff0c\u5c06\u4f1a\u540c\u65f6\u8fd0\u884c\u4e00\u4e2a\u65b0\u7684Goroutine\u3002 \u4f7f\u7528go\u5173\u952e\u5b57\u521b\u5efaGoroutine\u65f6\uff0c\u88ab\u8c03\u7528\u7684\u51fd\u6570\u5f80\u5f80\u6ca1\u6709\u8fd4\u56de\u503c\uff0c\u5982\u679c\u6709\u8fd4\u56de\u503c\u4e5f\u4f1a\u88ab\u5ffd\u7565\u3002\u5982\u679c\u9700\u8981\u5728Goroutine\u4e2d\u8fd4\u56de\u6570\u636e\uff0c\u5fc5\u987b\u4f7f\u7528channel\uff0c\u901a\u8fc7channel\u628a\u6570\u636e\u4eceGoroutine\u4e2d\u4f5c\u4e3a\u8fd4\u56de\u503c\u4f20\u51fa\u3002 Go\u7a0b\u5e8f\u7684\u6267\u884c\u8fc7\u7a0b\u662f\uff1a Go\u7a0b\u5e8f\u542f\u52a8\u65f6\uff0cruntime\u9ed8\u8ba4\u4e3amain()\u51fd\u6570\u521b\u5efa\u4e00\u4e2aGoroutine\u3002\u521b\u5efa\u548c\u542f\u52a8\u4e3bGoroutine\uff0c\u521d\u59cb\u5316\u64cd\u4f5c\uff0c\u6267\u884cmain()\u51fd\u6570\uff0c\u5f53main()\u51fd\u6570\u7ed3\u675f\uff0c\u4e3bGoroutine\u968f\u4e4b\u7ed3\u675f\uff0c\u7a0b\u5e8f\u7ed3\u675f\u3002 package main import ( \"fmt\" \"time\" ) func hello(){ fmt.Println(\"Say Hello!\") } func main() { go hello() // time.Sleep(time.Second) fmt.Println(\"Main function...\") } \u8fd0\u884c\u7684\u7ed3\u679c\u4f1a\u67092\u79cd\uff1a \u4e00\u79cd\u662f\u53ea\u6709main function\u6253\u5370\u51fa\u6765\u4e86\u3002 \u53e6\u5916\u4e00\u79cd\u662f\u4e24\u4e2a\u90fd\u6253\u5370\u51fa\u6765\u4e86\u3002 \u88ab\u542f\u52a8\u7684Goroutine\u53eb\u4f5c\u5b50Goroutine\u3002\u5982\u679cmain()\u7684Goroutine\u7ec8\u6b62\u4e86\uff0c\u7a0b\u5e8f\u5c06\u88ab\u7ec8\u6b62\uff0c\u800c\u5176\u4ed6Goroutine\u5c06\u4e0d\u518d\u8fd0\u884c\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u6240\u6709Goroutine\u5728main()\u51fd\u6570\u7ed3\u675f\u65f6\u4f1a\u4e00\u540c\u7ed3\u675f\u3002\u5982\u679cmain()\u7684 Goroutine\u6bd4\u5b50Goroutine\u5148\u7ec8\u6b62\uff0c\u8fd0\u884c\u7684\u7ed3\u679c\u5c31\u4e0d\u4f1a\u6253\u5370\u201cSay Hello!\u201d \u5728go hello()\u540e\u9762\u52a0\u4e00\u4e2atime.sleep\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0cmain()\u7684Goroutine\u88ab\u7528\u6765\u7761\u89c91\u79d2\u3002\u73b0\u5728go hello()\u6709\u8db3\u591f\u7684\u65f6\u95f4\u5728main Goroutine\u7ec8\u6b62\u4e4b\u524d\u6267\u884c\u3002 \u533f\u540d\u51fd\u6570\u521b\u5efaGoroutine go\u5173\u952e\u5b57\u540e\u4e5f\u53ef\u4ee5\u662f\u533f\u540d\u51fd\u6570\u6216\u95ed\u5305\u3002 package main import ( \"fmt\" \"time\" ) func main() { go func(){ var times int for { times ++ fmt.Println(\"tick>>> \",times) time.Sleep(time.Second) } }() // \u5f53\u7528\u6237\u6709\u8f93\u5165\u540e \u7a0b\u5e8f\u505c\u6b62\uff01 var input string fmt.Scanln(&input) } 5 \u542f\u52a8\u591a\u4e2aGoroutine package main import ( \"fmt\" \"time\" ) func main() { go printNum() go printLetter() time.Sleep(6 *time.Second) fmt.Println() fmt.Println(\"main...function...\") } func printNum() { for i := 1; i < 3; i++ { time.Sleep(time.Second) fmt.Printf(\"%d\", i) } } func printLetter() { for i := 'a'; i < 'c'; i++ { time.Sleep(time.Second) fmt.Printf(\"%c\", i) } } // \u7ed3\u679c // a12b // \u56db\u4e2a\u5b57\u6bcd\u7684\u987a\u5e8f\u6bcf\u6b21\u4e0d\u4e00\u6837 // main...function... 6 channel *** channel\u5373Go\u7684\u901a\u9053\uff0c\u662f\u534f\u7a0b\u4e4b\u95f4\u7684\u901a\u4fe1\u673a\u5236\u3002\u4e00\u4e2achannel\u662f\u4e00\u6761\u901a\u4fe1\u7ba1\u9053\uff0c \u5b83\u53ef\u4ee5\u8ba9\u4e00\u4e2a\u534f\u7a0b\u901a\u8fc7\u5b83\u7ed9\u53e6\u4e00\u4e2a\u534f\u7a0b\u53d1\u9001\u6570\u636e \u3002 \u6bcf\u4e2achannel\u90fd\u9700\u8981\u6307\u5b9a\u6570\u636e\u7c7b\u578b\uff0c\u5373channel\u53ef\u53d1\u9001\u6570\u636e\u7684\u7c7b\u578b\u3002\u5982\u679c\u4f7f\u7528channel\u53d1\u9001int\u7c7b\u578b\u6570\u636e\uff0c\u53ef\u4ee5\u5199\u6210chanint\u3002\u6570\u636e\u53d1\u9001\u7684\u65b9\u5f0f\u5982\u540c\u6c34\u5728\u7ba1\u9053\u4e2d\u7684\u6d41\u52a8\u3002 \u4f20\u7edf\u7684\u7ebf\u7a0b\u4e4b\u95f4\u53ef\u4ee5\u901a\u8fc7\u5171\u4eab\u5185\u5b58\u8fdb\u884c\u6570\u636e\u4ea4\u4e92\uff0c\u4e0d\u540c\u7684\u7ebf\u7a0b\u5171\u4eab\u5185\u5b58\u7684\u540c\u6b65\u95ee\u9898\u9700\u8981\u4f7f\u7528\u9501\u6765\u89e3\u51b3\uff0c\u8fd9\u6837\u4f1a\u5bfc\u81f4\u6027\u80fd\u4f4e\u4e0b\u3002 Go\u8bed\u8a00\u4e2d\u63d0\u5021\u4f7f\u7528channel\u7684\u65b9\u5f0f\u4ee3\u66ff\u5171\u4eab\u5185\u5b58\u3002\u6362\u8a00\u4e4b\uff0cGo\u8bed\u8a00\u4e3b\u5f20 \u901a\u8fc7\u6570\u636e\u4f20\u9012\u6765\u5b9e\u73b0\u5171\u4eab\u5185\u5b58\uff0c\u800c\u4e0d\u662f\u901a\u8fc7\u5171\u4eab\u5185\u5b58\u6765\u5b9e\u73b0\u6570\u636e\u4f20\u9012\u3002 \u521b\u5efachannel\u7c7b\u578b var ca(channel\u53d8\u91cf) chan int(channel\u7c7b\u578b) chan\u7c7b\u578b\u7684\u7a7a\u503c\u662fnil\uff0c\u58f0\u660e\u540e\u9700\u8981\u914d\u5408make()\u624d\u80fd\u4f7f\u7528\uff01 channel\u662f\u5f15\u7528\u7c7b\u578b\uff0c\u9700\u8981\u4f7f\u7528make()\u8fdb\u884c\u521b\u5efa\uff0c\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u6240\u793a\u3002 ca := make(chan int) \u5b9e\u4f8b\u5982\u4e0b\uff1a c++ // \u521b\u5efa\u4e00\u4e2a\u6574\u578b\u7c7b\u578b\u7684channel ch1 := make(chan int) // \u521b\u5efa\u4e00\u4e2a\u7a7a\u63a5\u53e3\u7c7b\u578b\u7684channel\uff0c\u53ef\u4ee5\u5b58\u653e\u4efb\u610f\u7c7b\u578b ch2 := make(chan interface{}) // \u521b\u5efa\u4e00\u4e2a\u7ed3\u6784\u4f53\u6307\u9488\u7c7b\u578b\u7684channel\uff0c\u53ef\u4ee5\u5b58\u653e\u5bf9\u5e94\u7684\u7ed3\u6784\u4f53\u6307\u9488 type Student struct{ name string } ch3 := make(chan *Student) #### \u4f7f\u7528channel\u53d1\u9001\u6570\u636e \u901a\u8fc7channel\u53d1\u9001\u6570\u636e\u9700\u8981\u4f7f\u7528\u7279\u6b8a\u7684\u64cd\u4f5c\u7b26\u201c\uff1c-\u201d\u3002\u5c06\u6570\u636e\u901a\u8fc7channel\u53d1\u9001\u7684\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u6240\u793a\u3002 ```c++ channel\u53d8\u91cf <- \u503c channel\u53d1\u9001\u7684\u503c\u7684\u7c7b\u578b\u5fc5\u987b\u4e0echannel\u7684\u5143\u7d20\u7c7b\u578b\u4e00\u81f4\u3002\u5982\u679c\u63a5\u6536\u65b9\u4e00\u76f4\u6ca1\u6709\u63a5\u6536\uff0c\u90a3\u4e48\u53d1\u9001\u64cd\u4f5c\u5c06\u6301\u7eed\u963b\u585e\u3002\u6b64\u65f6\u6240\u6709\u7684Goroutine\uff0c\u5305\u62ecmain()\u7684Goroutine\u90fd\u5904\u4e8e\u7b49\u5f85\u72b6\u6001\u3002 \u8fd0\u884c\u4f1a\u63d0\u793a\u62a5\u9519\uff1afatal error: all goroutines are asleep - deadlock! \u4f7f\u7528channel\u65f6\u8981\u8003\u8651\u53d1\u751f\u6b7b\u9501\uff08deadlock\uff09\u7684\u53ef\u80fd\u3002\u5982\u679cGoroutine\u5728\u4e00\u4e2achannel\u4e0a\u53d1\u9001\u6570\u636e\uff0c\u5176\u4ed6\u7684Goroutine\u5e94\u8be5\u63a5\u6536\u5f97\u5230\u6570\u636e\uff1b\u5982\u679c\u6ca1\u6709\u63a5\u6536\uff0c\u90a3\u4e48\u7a0b\u5e8f\u5c06\u5728\u8fd0\u884c\u65f6\u51fa\u73b0\u6b7b\u9501\u3002\u5982\u679cGoroutine\u6b63\u5728\u7b49\u5f85\u4ecechannel\u63a5\u6536\u6570\u636e\uff0c\u5176\u4ed6\u4e00\u4e9bGoroutine\u5c06\u4f1a\u5728\u8be5channel\u4e0a\u5199\u5165\u6570\u636e\uff1b\u5982\u679c\u6ca1\u6709\u5199\u5165\uff0c\u7a0b\u5e8f\u5c06\u4f1a\u6b7b\u9501\u3002 \u901a\u8fc7channel\u63a5\u53d7\u6570\u636e channel\u6536\u53d1\u64cd\u4f5c\u5728\u4e0d\u540c\u7684\u4e24\u4e2aGoroutine\u95f4\u8fdb\u884c\u3002 1. \u963b\u585e\u63a5\u53d7\u6570\u636e channel\u63a5\u6536\u540c\u6837\u4f7f\u7528\u7279\u6b8a\u7684\u64cd\u4f5c\u7b26\u201c\uff1c-\u201d\u3002\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u6240\u793a\u3002 data, ok := <-ch1 \u6267\u884c\u8be5\u8bed\u53e5\u65f6channel\u5c06\u4f1a\u963b\u585e\uff0c\u76f4\u5230\u63a5\u6536\u5230\u6570\u636e\u5e76\u8d4b\u503c\u7ed9data\u53d8\u91cf\u3002 data \u8868\u793a\u63a5\u6536\u5230\u7684\u6570\u636e\u3002\u672a\u63a5\u6536\u5230\u6570\u636e\u65f6\uff0cdata\u4e3achannel\u7c7b\u578b\u7684\u96f6\u503c\u3002ok\uff08\u5e03\u5c14\u7c7b\u578b\uff09\u8868\u793a\u662f\u5426\u63a5\u6536\u5230\u6570\u636e\u3002\u901a\u8fc7ok\u503c\u53ef\u4ee5\u5224\u65ad\u5f53\u524dchannel\u662f\u5426\u88ab\u5173\u95ed\u3002 2. \u5ffd\u7565\u63a5\u53d7\u6570\u636e \u63a5\u6536\u4efb\u610f\u6570\u636e\uff0c\u5ffd\u7565\u63a5\u6536\u7684\u6570\u636e\uff0c\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u6240\u793a\u3002 <-ch1 \u6267\u884c\u8be5\u8bed\u53e5\u65f6channel\u5c06\u4f1a\u963b\u585e\u3002 \u5176\u76ee\u7684\u4e0d\u5728\u4e8e\u63a5\u6536channel\u4e2d\u6570\u636e\uff0c\u800c\u662f\u4e3a\u4e86\u963b\u585eGoroutine\u3002 3. \u5faa\u73af\u63a5\u53d7\u6570\u636e \u5faa\u73af\u63a5\u6536\u6570\u636e\uff0c\u9700\u8981\u914d\u5408\u4f7f\u7528\u5173\u95edchannel\uff0c\u501f\u52a9\u666e\u901afor\u5faa\u73af\u548cfor ... range\u8bed\u53e5\u5faa\u73af\u63a5\u6536\u591a\u4e2a\u5143\u7d20\u3002 \u904d\u5386channel\uff0c\u904d\u5386\u7684\u7ed3\u679c\u5c31\u662f\u63a5\u6536\u5230\u7684\u6570\u636e\uff0c\u6570\u636e\u7c7b\u578b\u5c31\u662fchannel\u7684\u6570\u636e\u7c7b\u578b\u3002\u666e\u901afor\u5faa\u73af\u63a5\u6536channel\u6570\u636e\uff0c\u9700\u8981\u6709break\u5faa\u73af\u7684\u6761\u4ef6\uff1bfor \u2026 range\u4f1a\u81ea\u52a8\u5224\u65ad\u51fachannel\u5df2\u5173\u95ed\uff0c\u800c\u65e0\u987b\u901a\u8fc7\u5224\u65ad\u6765\u7ec8\u6b62\u5faa\u73af\u3002\u5faa\u73af\u63a5\u6536\u6570\u636e\u7684\u4e09\u79cd\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\uff1a package main import ( \"fmt\" ) func main() { ch1 := make(chan string) go sendData(ch1) // \u5faa\u73af\u63a5\u53d7\u6570\u636e\u7684\u65b9\u5f0f1 /* for{ data := <-ch1 // \u5982\u679c\u901a\u9053\u5173\u95ed\uff0c\u901a\u9053\u4e2d\u4f20\u8f93\u7684\u6570\u636e\u5219\u4e3a\u5404\u6570\u636e\u7c7b\u578b\u7684\u96f6\u503c if data == \"\"{ break } fmt.Println(\"\u4ecechannel\u4e2d\u83b7\u53d6\u6570\u636e\u7684\u65b9\u5f0f1>>>:\",data) } */ // \u5faa\u73af\u63a5\u53d7\u6570\u636e\u65b9\u5f0f2 /* for{ data, ok := <-ch1 fmt.Println(\"ok>>> \",ok) // \u5982\u679c\u901a\u9053\u5173\u95ed\u4e86 ok\u4e3a false if !ok{ break } fmt.Println(\"\u4ecechannel\u4e2d\u83b7\u53d6\u6570\u636e\u7684\u65b9\u5f0f2>>>:\",data) } */ // \u5faa\u73af\u63a5\u53d7\u6570\u636e\u65b9\u5f0f3 // for ... range \u5faa\u73af\u4f1a\u81ea\u52a8\u5224\u65ad\u901a\u9053\u662f\u5426\u5173\u95ed\uff0c\u81ea\u52a8break for value := range ch1{ fmt.Println(\"\u4ecechannel\u4e2d\u83b7\u53d6\u6570\u636e\u7684\u65b9\u5f0f3>>>:\",value) } } // \u5f80channel\u4e2d\u53d1\u9001\u6570\u636e func sendData(ch1 chan string) { // \u53d1\u9001\u5b8c\u8bb0\u5f97\u5173\u95ed defer close(ch1) for i := 0; i < 3; i++ { ch1 <- fmt.Sprintf(\"\u53d1\u9001\u6570\u636e%d\\n\", i) } fmt.Println(\"\u53d1\u9001\u6570\u636e\u5b8c\u6bd5...\") } channel\u662f\u963b\u585e\u7684 channel\u9ed8\u8ba4\u662f\u963b\u585e\u7684\u3002\u5f53\u6570\u636e\u88ab\u53d1\u9001\u5230channel\u65f6\u4f1a\u53d1\u751f\u963b\u585e\uff0c\u76f4\u5230\u6709\u5176\u4ed6Goroutine\u4ece\u8be5channel\u4e2d\u8bfb\u53d6\u6570\u636e\u3002\u5f53\u4ecechannel\u8bfb\u53d6\u6570\u636e\u65f6\uff0c\u8bfb\u53d6\u4e5f\u4f1a\u88ab\u963b\u585e\uff0c\u76f4\u5230\u5176\u4ed6Goroutine\u5c06\u6570\u636e\u5199\u5165\u8be5channel\u3002\u8fd9\u4e9bchannel\u7684\u7279\u6027\u5e2e\u52a9Goroutine\u6709\u6548\u5730\u901a\u4fe1\uff0c\u800c\u4e0d\u9700\u8981\u4f7f\u7528\u5176\u4ed6\u8bed\u8a00\u4e2d\u7684\u663e\u5f0f\u9501\u6216\u6761\u4ef6\u53d8\u91cf\u3002 package main import \"fmt\" func main() { var ch1 chan int ch1 = make(chan int) fmt.Printf(\"%T\\n\",ch1)// chan int ch2 := make(chan bool) go func(){ data, ok := <-ch1 if ok{ fmt.Println(\"\u5b50Goroutine\u53d6\u5230\u6570\u503c: \",data) } ch2 <- true }() ch1 <- 10 <- ch2 // \u963b\u585e\uff1a\u4f5c\u7528\u662f\u963b\u585echannel\u7b49\u5f85\u533f\u540d\u51fd\u6570\u7684Goroutine\u8fd0\u884c\u7ed3\u675f\uff0c\u9632\u6b62\u4e3b\u51fd\u6570\u7684Goroutine\u9000\u51fa\u800c\u5bfc\u81f4\u533f\u540d\u51fd\u6570\u7684Goroutine\u63d0\u524d\u9000\u51fa\u3002 fmt.Println(\"main over...\") } /* chan int \u5b50Goroutine\u53d6\u5230\u6570\u503c: 10 main over... */ \u6ce8\u610f <- ch2 \u4f5c\u7528\u662f\u963b\u585echannel\u7b49\u5f85\u533f\u540d\u51fd\u6570\u7684Goroutine\u8fd0\u884c\u7ed3\u675f\uff0c\u9632\u6b62\u4e3b\u51fd\u6570\u7684Goroutine\u9000\u51fa\u800c\u5bfc\u81f4\u533f\u540d\u51fd\u6570\u7684Goroutine\u63d0\u524d\u9000\u51fa\u3002 \u5173\u95edchannel \u53d1\u9001\u65b9\u5982\u679c\u6570\u636e\u5199\u5165\u5b8c\u6bd5\uff0c\u9700\u8981\u5173\u95edchannel\uff0c\u7528\u4e8e\u901a\u77e5\u63a5\u6536\u65b9\u6570\u636e\u4f20\u9012\u5b8c\u6bd5\u3002 \u901a\u5e38\u60c5\u51b5\u662f\u53d1\u9001\u65b9\u4e3b\u52a8\u5173\u95edchannel\u3002\u63a5\u6536\u65b9\u901a\u8fc7\u591a\u91cd\u8fd4\u56de\u503c\u5224\u65adchannel\u662f\u5426\u5173\u95ed\uff0c\u5982\u679c\u8fd4\u56de\u503c\u662ffalse\uff0c\u5219\u8868\u793achannel\u5df2\u7ecf\u88ab\u5173\u95ed\u3002 \u5f80\u5173\u95ed\u7684channel\u4e2d\u5199\u5165\u6570\u636e\u4f1a\u62a5\u9519\uff1apanic: send on closed channel\u3002 \u4f46\u662f\u53ef\u4ee5\u4ece\u5173\u95ed\u540e\u7684channel\u4e2d\u8bfb\u53d6\u6570\u636e\uff0c\u8fd4\u56de\u6570\u636e\u7684\u9ed8\u8ba4\u503c\u548cfalse\u3002 \u4e0b\u9762\u901a\u8fc7\u4e00\u4e2a\u6848\u4f8b\u6765\u89c2\u5bdf\u5173\u95edchannel\u4ee5\u540e\u662f\u5426\u53ef\u4ee5\u5199\u5165\u6570\u636e\uff1a package main import \"fmt\" func main() { // channel1 \u5173\u95ed\u540e\u4e0d\u53ef\u4ee5\u518d\u5199\u5165\u6570\u636e ch1 := make(chan int) go func(){ ch1 <- 100 ch1 <- 200 close(ch1) ch1 <- 222 }() data, ok := <- ch1 fmt.Println(\"main\u8bfb\u53d6\u6570\u636e:\",data, ok) data, ok = <- ch1 fmt.Println(\"main\u8bfb\u53d6\u6570\u636e:\",data, ok) // \u8fd0\u884c\u5230\u8fd9\u91cc\u7684\u65f6\u5019\u7a0b\u5e8f\u4f1a\u62a5\u9519\uff01\uff01\uff01 data, ok = <- ch1 fmt.Println(\"main\u8bfb\u53d6\u6570\u636e:\",data, ok) } \u7f13\u51b2channel \u9ed8\u8ba4\u521b\u5efa\u7684\u90fd\u662f\u975e\u7f13\u51b2channel\uff0c\u8bfb\u5199\u90fd\u662f\u5373\u65f6\u963b\u585e\u3002 \u7f13\u51b2channel\u81ea\u5e26\u4e00\u5757\u7f13\u51b2\u533a\uff0c\u53ef\u4ee5\u6682\u65f6\u5b58\u50a8\u6570\u636e\uff0c\u5982\u679c\u7f13\u51b2\u533a\u6ee1\u4e86\uff0c\u5c31\u4f1a\u53d1\u751f\u963b\u585e\u3002 \u4e0b\u9762\u901a\u8fc7\u6848\u4f8b\u5bf9\u6bd4\u7f13\u51b2channel\u4e0e\u975e\u7f13\u51b2channel\uff1a package main import ( \"fmt\" \"time\" ) func main() { // 1. \u975e\u7f13\u51b2channel ch1 := make(chan int) fmt.Println(\"\u975e\u7f13\u51b2channel>> \",len(ch1), cap(ch1)) go func(){ data := <- ch1 fmt.Println(\"\u83b7\u5f97\u6570\u636e:\",data) }() // ch1 <- 100 time.Sleep(time.Second) fmt.Println(\"\u8d4b\u503cOK\",\"main over...\") // 2. \u975e\u7f13\u51b2channel ch2 := make(chan string) go sendData(ch2) for data := range ch2{ fmt.Println(\"\\t \u4ecech2\u4e2d\u8bfb\u53d6\u6570\u636e\",data) } fmt.Println(\"main over ......\") // 3. \u7f13\u51b2\u901a\u9053\uff0c\u7f13\u51b2\u533a\u6ee1\u4e86\u624d\u4f1a\u963b\u585e ch3 := make(chan string, 6) go sendData(ch3) for data := range ch3{ fmt.Println(\"\\t \u4ecech3\u4e2d\u8bfb\u53d6\u6570\u636e\",data) } fmt.Println(\"main over...>>>\") } func sendData(ch chan string){ for i := 1; i <= 3; i++{ // \u5f80\u901a\u9053\u4e2d\u653e\u5165\u6570\u636e ch <- fmt.Sprintf(\"data:%d\",i) fmt.Printf(\"\u5f80\u901a\u9053\u4e2d\u653e\u5165\u6570\u636e data:%d\\n\",i) } defer close(ch) } /* \u975e\u7f13\u51b2channel>> 0 0 \u83b7\u5f97\u6570\u636e: 100 \u8d4b\u503cOK main over... \u5f80\u901a\u9053\u4e2d\u653e\u5165\u6570\u636e data:1 \u4ecech2\u4e2d\u8bfb\u53d6\u6570\u636e data:1 \u4ecech2\u4e2d\u8bfb\u53d6\u6570\u636e data:2 \u5f80\u901a\u9053\u4e2d\u653e\u5165\u6570\u636e data:2 \u5f80\u901a\u9053\u4e2d\u653e\u5165\u6570\u636e data:3 \u4ecech2\u4e2d\u8bfb\u53d6\u6570\u636e data:3 main over ...... \u5f80\u901a\u9053\u4e2d\u653e\u5165\u6570\u636e data:1 \u5f80\u901a\u9053\u4e2d\u653e\u5165\u6570\u636e data:2 \u5f80\u901a\u9053\u4e2d\u653e\u5165\u6570\u636e data:3 \u4ecech3\u4e2d\u8bfb\u53d6\u6570\u636e data:1 \u4ecech3\u4e2d\u8bfb\u53d6\u6570\u636e data:2 \u4ecech3\u4e2d\u8bfb\u53d6\u6570\u636e data:3 main over...>>> */ \u8fd0\u884c\u7ed3\u679c\u6765\u770b\uff0c\u975e\u7f13\u51b2channel\u90e8\u5206\u7684\u6253\u5370\u7ed3\u679c\u662f\u8f93\u5165\u6570\u636e\u548c\u63a5\u6536\u6570\u636e\u4ea4\u66ff\u7684\uff0c\u8fd9\u8bf4\u660e\u8bfb\u5199\u90fd\u662f\u5373\u65f6\u963b\u585e\u3002\u7f13\u51b2channel\u90e8\u5206\u7684\u8f93\u5165\u6570\u636e\u6253\u5370\u5b8c\u6bd5\u4ee5\u540e\u624d\u6253\u5370\u63a5\u6536\u6570\u636e\uff0c\u8fd9\u610f\u5473\u7740\u7f13\u51b2\u533a\u6ca1\u6709\u6ee1\u7684\u60c5\u51b5\u4e0b\u662f\u975e\u963b\u585e\u7684\u3002 \u4f7f\u7528channel\u6a21\u62df\u751f\u4ea7\u8005\u6d88\u8d39\u8005\u6a21\u578b package main import ( \"fmt\" \"math/rand\" \"strings\" \"time\" ) func main() { // \u7528channel\u6765\u4f20\u9012\u6570\u636e\uff0c\u4e0d\u518d\u9700\u8981\u81ea\u5df1\u53bb\u52a0\u9501\u7ef4\u62a4\u4e00\u4e2a\u5168\u5c40\u7684\u963b\u585e\u961f\u5217 ch1 := make(chan int) ch_bool1 := make(chan bool)// \u5224\u65ad\u7ed3\u675f\u7684 ch_bool2 := make(chan bool)// \u5224\u65ad\u7ed3\u675f\u7684 ch_bool3 := make(chan bool)// \u5224\u65ad\u7ed3\u675f\u7684 rand.Seed(time.Now().UnixNano()) // \u751f\u4ea7\u8005 go producer(ch1) // \u6d88\u8d39\u8005 3\u4e2a go consumer(1, ch1, ch_bool1) go consumer(2, ch1, ch_bool2) go consumer(3, ch1, ch_bool3) // \u963b\u585e\u4e3b\u7ebf\u7a0b <-ch_bool1 <-ch_bool2 <-ch_bool3 defer fmt.Println(\"\u4e3b\u7ebf\u7a0b\u7ed3\u675f......\") } // \u751f\u4ea7\u8005 func producer(ch1 chan int){ for i := 1; i <=10; i++{ ch1 <- i fmt.Println(\"\u751f\u4ea7\u8005\u751f\u4ea7,\u7f16\u53f7\u4e3a:\",i) time.Sleep(time.Duration(rand.Intn(500)) * time.Millisecond) } // \u5173\u95ed defer close(ch1) } // \u6d88\u8d39\u8005 func consumer(num int, ch1 chan int,ch chan bool){ for data := range ch1{ per := strings.Repeat(\"*\",num) fmt.Printf(\"%s %d\u6d88\u8d39\u4e86\u6570\u636e%d \\n\",per,num,data) time.Sleep(time.Duration(rand.Intn(500)) * time.Millisecond) } ch <- true // \u5173\u95ed defer close(ch) } /* \u751f\u4ea7\u8005\u751f\u4ea7,\u7f16\u53f7\u4e3a: 1 *** 3\u6d88\u8d39\u4e86\u6570\u636e1 \u751f\u4ea7\u8005\u751f\u4ea7,\u7f16\u53f7\u4e3a: 2 * 1\u6d88\u8d39\u4e86\u6570\u636e2 ** 2\u6d88\u8d39\u4e86\u6570\u636e3 \u751f\u4ea7\u8005\u751f\u4ea7,\u7f16\u53f7\u4e3a: 3 \u751f\u4ea7\u8005\u751f\u4ea7,\u7f16\u53f7\u4e3a: 4 *** 3\u6d88\u8d39\u4e86\u6570\u636e4 \u751f\u4ea7\u8005\u751f\u4ea7,\u7f16\u53f7\u4e3a: 5 * 1\u6d88\u8d39\u4e86\u6570\u636e5 \u751f\u4ea7\u8005\u751f\u4ea7,\u7f16\u53f7\u4e3a: 6 ** 2\u6d88\u8d39\u4e86\u6570\u636e6 \u751f\u4ea7\u8005\u751f\u4ea7,\u7f16\u53f7\u4e3a: 7 *** 3\u6d88\u8d39\u4e86\u6570\u636e7 \u751f\u4ea7\u8005\u751f\u4ea7,\u7f16\u53f7\u4e3a: 8 * 1\u6d88\u8d39\u4e86\u6570\u636e8 ** 2\u6d88\u8d39\u4e86\u6570\u636e9 \u751f\u4ea7\u8005\u751f\u4ea7,\u7f16\u53f7\u4e3a: 9 \u751f\u4ea7\u8005\u751f\u4ea7,\u7f16\u53f7\u4e3a: 10 *** 3\u6d88\u8d39\u4e86\u6570\u636e10 \u4e3b\u7ebf\u7a0b\u7ed3\u675f...... */ \u5355\u5411channel channel\u9ed8\u8ba4\u90fd\u662f\u53cc\u5411\u7684\uff0c\u5373\u53ef\u8bfb\u53ef\u5199\u3002\u5b9a\u5411channel\u4e5f\u53eb\u5355\u5411channel\uff0c\u53ea\u8bfb\uff0c\u6216\u53ea\u5199\u3002 \u53ea\u8bfb\u65b9\u5f0fchannel\u4f7f\u7528\u65b9\u5f0f\u5982\u4e0b\uff1a make(<- chan Type) <- chan \u53ea\u5199channel\u4f7f\u7528\u65b9\u5f0f\u5982\u4e0b\uff1a make(chan <- Type) chan <- data \u76f4\u63a5\u521b\u5efa\u5355\u5411channel\u6ca1\u6709\u4efb\u4f55\u610f\u4e49\u3002\u901a\u5e38\u7684\u505a\u6cd5\u662f\u521b\u5efa\u53cc\u5411channel\uff0c\u7136\u540e\u4ee5\u5355\u5411channel\u7684\u65b9\u5f0f\u8fdb\u884c\u51fd\u6570\u4f20\u9012\u3002 package main import ( \"fmt\" \"time\" ) func main() { // \u53cc\u5411\u901a\u9053 ch1 := make(chan string) go func1(ch1) data := <- ch1 fmt.Println(\"main\u63a5\u53d7\u6570\u636e:\",data)// i'm whw ch1 <- \"i am Naruto!\" ch1 <- \"i am Sasuke!\" // \u53ea\u5199 go writeOnly(ch1) // \u53ea\u8bfb go readOnly(ch1) time.Sleep(time.Second) fmt.Println(\"main over...\") } // func1 func func1(ch1 chan string){ ch1 <- \"i'm whw\" data := <-ch1 data2 := <-ch1 fmt.Println(\"\u56de\u5e94:\",data,data2) } // \u53ea\u5199\u5165\u6570\u636e func writeOnly(ch1 chan<- string){ ch1 <- \"How are you?\" } // \u53ea\u8bfb\u53d6\u6570\u636e func readOnly(ch1 <- chan string){ data := <- ch1 fmt.Println(\"\u53ea\u8bfb:\",data) } /* main\u63a5\u53d7\u6570\u636e: i'm whw \u56de\u5e94: i am Naruto! i am Sasuke! \u53ea\u8bfb: How are you? main over... */ 7 time\u5305\u4e0echannel\u5305\u76f8\u5173\u7684\u51fd\u6570 Timer\u7ed3\u6784\u4f53 \u8ba1\u65f6\u5668\u7c7b\u578b\u8868\u793a\u5355\u4e2a\u4e8b\u4ef6\u3002 \u5f53\u8ba1\u65f6\u5668\u8fc7\u671f\u65f6\uff0c\u5f53\u524d\u65f6\u95f4\u5c06\u88ab\u53d1\u9001\u5230c\u4e0a\uff08c\u662f\u4e00\u4e2a\u53ea\u8bfbchannel \uff1c-chan time.Time\uff0c\u8be5channel\u4e2d\u653e\u5165\u7684\u662fTimer\u7ed3\u6784\u4f53\uff09\uff0c\u9664\u975e\u8ba1\u65f6\u5668\u662fAfter()\u521b\u5efa\u7684\u3002 \u8ba1\u65f6\u5668\u5fc5\u987b\u4f7f\u7528NewTimer()\u6216After()\u521b\u5efa\u3002 time.Timer\u7ed3\u6784\u4f53\uff1a // The Timer type represents a single event. // When the Timer expires, the current time will be sent on C, // unless the Timer was created by AfterFunc. // A Timer must be created with NewTimer or AfterFunc. type Timer struct { C <-chan Time r runtimeTimer } NewTimer()\u51fd\u6570 NewTimer()\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u8ba1\u65f6\u5668\uff0c\u5b83\u4f1a\u5728\u81f3\u5c11\u6301\u7eed\u65f6\u95f4d\u4e4b\u540e\u5c06\u5f53\u524d\u65f6\u95f4\u53d1\u9001\u5230\u5176channel\u4e0a\u3002 package main import ( \"fmt\" \"time\" ) func main() { // \u521b\u5efa\u8ba1\u65f6\u5668 timer1 := time.NewTimer(5 * time.Second) fmt.Printf(\"%T \\n\",timer1)// *time.Timer fmt.Println(time.Now())//2020-11-27 18:55:52.927053 +0800 CST m=+0.000120294 data := <-timer1.C fmt.Printf(\"%T \\n\",timer1.C)//<-chan time.Time fmt.Printf(\"%T \\n\",data)//time.Time fmt.Println(data)//2020-11-27 18:55:57.931412 +0800 CST m=+5.004453139 } After()\u51fd\u6570 After()\u51fd\u6570\u76f8\u5f53\u4e8eNewTimer(d). C\u3002 package main import ( \"fmt\" \"time\" ) func main() { // \u4f7f\u7528After \u8fd4\u56de\u503c <- chan Time \u540c Timer.C ch1 := time.After(5 * time.Second) fmt.Println(time.Now())//2020-11-27 18:59:01.895778 +0800 CST m=+0.000086840 data := <- ch1 fmt.Printf(\"%T \\n\",data)//time.Time fmt.Println(data)//2020-11-27 18:59:06.895843 +0800 CST m=+5.000126362 } 8 Select\u5206\u652f\u8bed\u53e5 select\u8bed\u53e5\u7684\u673a\u5236\u6709\u70b9\u50cfswitch\u8bed\u53e5\uff0c\u4e0d\u540c\u7684\u662f\uff0cselect\u4f1a\u968f\u673a\u6311\u9009\u4e00\u4e2a\u53ef\u901a\u4fe1\u7684case\u6765\u6267\u884c\uff0c\u5982\u679c\u6240\u6709case\u90fd\u6ca1\u6709\u6570\u636e\u5230\u8fbe\uff0c\u5219\u6267\u884cdefault\uff0c\u5982\u679c\u6ca1\u6709default\u8bed\u53e5\uff0cselect\u5c31\u4f1a\u963b\u585e\uff0c\u76f4\u5230\u6709case\u63a5\u6536\u5230\u6570\u636e\u3002 \uff08\u5b9e\u4f8b\u7565\uff09 9 sync\u5305 *** sync\u5305\u63d0\u4f9b\u4e86\u4e92\u65a5\u9501\u3002\u9664\u4e86Once\u548cWaitGroup\u7c7b\u578b\uff0c\u5176\u4f59\u591a\u6570\u9002\u7528\u4e8e\u4f4e\u6c34\u5e73\u7684\u7a0b\u5e8f\uff0c\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u9ad8\u6c34\u5e73\u7684\u540c\u6b65\u4f7f\u7528channel\u901a\u4fe1\u6027\u80fd\u4f1a\u66f4\u4f18\u4e00\u4e9b\u3002sync\u5305\u7c7b\u578b\u7684\u503c\u4e0d\u5e94\u88ab\u590d\u5236\u3002 \u524d\u9762\u7684\u6848\u4f8b\u4e2d\uff0c\u4e00\u822c\u4f7f\u7528time.Sleep()\u51fd\u6570\uff0c\u901a\u8fc7\u7761\u7720\u5c06\u4e3bGoroutine\u963b\u585e\u81f3\u6240\u6709Goroutine\u7ed3\u675f\u3002\u800c\u66f4\u597d\u7684\u505a\u6cd5\u662f\u4f7f\u7528WaitGroup\u6765\u5b9e\u73b0\u3002 \u540c\u6b65\u7b49\u5f85\u7ec4 \u81ea\u5df1\u7684\u535a\u5ba2\u6709\u76f8\u5173\u7684\u603b\u7ed3\uff1a[ \u4f7f\u7528waitgroup\u5728\u5faa\u73af\u4e2d\u5f00Goroutine\u5904\u7406\u5e76\u53d1\u4efb\u52a1 ] package main import ( \"fmt\" \"sync\" \"time\" ) func main() { // \u5f02\u6b65\u4ee3\u7801 lst := []int8{1,2,3} start := time.Now() // \u5b9a\u4e49\u4e00\u4e2awaitgroup wait := sync.WaitGroup{} for _,i := range lst{ // tag +1 wait.Add(1) // go\u4e00\u4e2a\u533f\u540d\u51fd\u6570 go func(delta int8){ // tag -1 defer wait.Done() DeltaTask(delta) }(i) } // \u4e3b\u7ebf\u7a0b\u7b49\u5f85 \"\u8ba1\u65f6\u5668\" \u4e3a0\u624d\u5f80\u4e0b\u8d70\u76f4\u5230\u505c\u6b62 wait.Wait() end := time.Now() ret := end.Sub(start) fmt.Printf(\"\u8017\u65f6\uff1a%v\",ret) } // \u6a21\u4eff\u8017\u65f6\u7684\u4efb\u52a1 func DeltaTask(i int8){ time.Sleep(time.Duration(i)*time.Second) } // \u8017\u65f6\uff1a3.005254124s \u4e92\u65a5\u9501 Mutex\u662f\u4e00\u4e2a\u4e92\u65a5\u9501\uff0c\u53ef\u4ee5\u521b\u5efa\u4e3a\u5176\u4ed6\u7ed3\u6784\u4f53\u7684\u5b57\u6bb5\uff1b\u96f6\u503c\u4e3a\u89e3\u9501\u72b6\u6001\u3002Mutex\u7c7b\u578b\u7684\u9501\u548c Goroutine\u65e0\u5173\uff0c\u53ef\u4ee5\u7531\u4e0d\u540c\u7684Goroutine\u52a0\u9501\u548c\u89e3\u9501\u3002 \u4e00\u4e2a\u552e\u7968\u5b9e\u4f8b\uff1a package main import ( \"fmt\" \"strconv\" \"strings\" \"sync\" \"time\" ) var tickets = 20 var wg sync.WaitGroup var mutex sync.Mutex func main() { wg.Add(4) go saleTickets(\"1\u53f7\u7a97\u53e3\",&wg) go saleTickets(\"2\u53f7\u7a97\u53e3\",&wg) go saleTickets(\"3\u53f7\u7a97\u53e3\",&wg) go saleTickets(\"4\u53f7\u7a97\u53e3\",&wg) // \u4e3b\u7ebf\u7a0b\u7b49\u5f85\u534f\u88ce\u7ed3\u675f wg.Wait() defer fmt.Println(\"\u6240\u6709\u8f66\u7968\u552e\u7f44\uff01\") } func saleTickets(name string, wg *sync.WaitGroup){ defer wg.Done() for{ // \u4e70\u7968\u65f6\u52a0\u9501 mutex.Lock() if tickets > 0{ // \u6a21\u62df\u5ef6\u8fdf time.Sleep(time.Second) // \u83b7\u53d6\u7a97\u53e3\u7f16\u53f7 num, _ := strconv.Atoi(name[:1]) pre := strings.Repeat(\"*\",num) fmt.Println(pre, name, tickets) tickets -- }else{ fmt.Printf(\"%s \u7ed3\u675f\u552e\u7968 \\n\",name) // \u89e3\u9501 mutex.Unlock() break } // \u5224\u65ad\u5b8c\u4e00\u6b21\u540e\u89e3\u9501\uff0c\u8fdb\u5165\u4e0b\u4e00\u6b21\u5224\u65ad mutex.Unlock() } } \u8bfb\u5199\u4e92\u65a5\u9501 RWMutex\u662f\u8bfb\u5199\u4e92\u65a5\u9501\uff0c\u7b80\u79f0\u8bfb\u5199\u9501\u3002\u8be5\u9501\u53ef\u4ee5\u540c\u65f6\u88ab\u591a\u4e2a\u8bfb\u53d6\u8005\u6301\u6709\u6216\u88ab\u552f\u4e00\u4e2a\u5199\u5165\u8005\u6301\u6709\u3002RWMutex\u53ef\u4ee5\u521b\u5efa\u4e3a\u5176\u4ed6\u7ed3\u6784\u4f53\u7684\u5b57\u6bb5\uff1b\u96f6\u503c\u4e3a\u89e3\u9501\u72b6\u6001\u3002RWMutex\u7c7b\u578b\u7684\u9501\u4e5f\u548cGoroutine\u65e0\u5173\uff0c\u53ef\u4ee5\u7531\u4e0d\u540c\u7684Goroutine\u52a0\u8bfb\u53d6\u9501/\u5199\u5165\u9501\u548c\u89e3\u8bfb\u53d6\u9501/\u5199\u5165\u9501\u3002 \u8bfb\u5199\u9501\u7684\u4f7f\u7528\u4e2d\uff0c\u5199\u64cd\u4f5c\u90fd\u662f\u4e92\u65a5\u7684\uff0c\u8bfb\u548c\u5199\u662f\u4e92\u65a5\u7684\uff0c \u8bfb\u548c\u8bfb\u4e0d\u4e92\u65a5 \u3002 \u8be5\u89c4\u5219\u53ef\u4ee5\u7406\u89e3\u4e3a\uff0c\u53ef\u4ee5\u591a\u4e2aGoroutine\u540c\u65f6\u8bfb\u53d6\u6570\u636e\uff0c\u4f46\u662f\u53ea\u5141\u8bb8\u4e00\u4e2aGoroutine\u5199\u5165\u6570\u636e\u3002 c++ 1. Lock()\u65b9\u6cd5\u5c06rw\u9501\u5b9a\u4e3a\u5199\u5165\u72b6\u6001\uff0c\u7981\u6b62\u5176\u4ed6Goroutine\u8bfb\u53d6\u6216\u8005\u5199\u5165\u3002 2. Unlock()\u65b9\u6cd5\u89e3\u9664rw\u7684\u5199\u5165\u9501\uff0c\u5982\u679crw\u672a\u52a0\u5199\u5165\u9501\u4f1a\u5bfc\u81f4\u8fd0\u884c\u65f6\u9519\u8bef\u3002 3. RLock()\u65b9\u6cd5\u5c06rw\u9501\u5b9a\u4e3a\u8bfb\u53d6\u72b6\u6001\uff0c\u7981\u6b62\u5176\u4ed6Goroutine\u5199\u5165\uff0c\u4f46\u4e0d\u7981\u6b62\u8bfb\u53d6\u3002 4. RUnlock()\u65b9\u6cd5\u89e3\u9664rw\u7684\u8bfb\u53d6\u9501\uff0c\u5982\u679crw\u672a\u52a0\u8bfb\u53d6\u9501\u4f1a\u5bfc\u81f4\u8fd0\u884c\u65f6\u9519\u8bef\u3002 Rlocker()\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u8bfb\u5199\u9501\uff0c\u901a\u8fc7\u8c03\u7528rw.Rlock()\u548crw.RUnlock()\u5b9e\u73b0\u4e86Locker\u63a5\u53e3\u3002 \u6761\u4ef6\u53d8\u91cf Cond \u5b9e\u73b0\u4e86\u4e00\u4e2a\u6761\u4ef6\u53d8\u91cf\uff0c\u4e00\u4e2aGoroutine\u96c6\u5408\u5730\uff0c\u4f9bGoroutine\u7b49\u5f85\u6216\u8005\u5ba3\u5e03\u67d0\u4e8b\u4ef6\u7684\u53d1\u751f\u3002 \u6bcf\u4e2aCond\u5b9e\u4f8b\u90fd\u6709\u4e00\u4e2a\u76f8\u5173\u7684\u9501\uff08\u4e00\u822c\u662f Mutex\u6216 RWMutex\u7c7b\u578b\u7684\u503c\uff09\uff0c\u5b83\u987b\u5728\u6539\u53d8\u6761\u4ef6\u65f6\u6216\u8005\u8c03\u7528Wait()\u65b9\u6cd5\u65f6\u4fdd\u6301\u9501\u5b9a\u3002Cond\u53ef\u4ee5\u521b\u5efa\u4e3a\u5176\u4ed6\u7ed3\u6784\u4f53\u7684\u5b57\u6bb5\uff0cCond\u5728\u5f00\u59cb\u4f7f\u7528\u540e\u4e0d\u80fd\u88ab\u590d\u5236\u3002\u6761\u4ef6\u53d8\u91cfsync.Cond\u662f\u591a\u4e2aGoroutine\u7b49\u5f85\u6216\u63a5\u53d7\u901a\u77e5\u7684\u96c6\u5408\u5730\u3002 \u56e0\u4e3aGoroutine\u4e2dWait()\u65b9\u6cd5\u662f\u7b2c\u4e00\u4e2a\u6062\u590d\u6267\u884c\u7684\uff0c\u800c\u6b64\u65f6c.L\u672a\u52a0\u9501\uff0c\u8c03\u7528\u8005\u4e0d\u5e94\u5047\u8bbeWait()\u6062\u590d\u65f6\u6761\u4ef6\u5df2\u6ee1\u8db3\uff0c\u76f8\u53cd\uff0c\u8c03\u7528\u8005\u5e94\u5728\u5faa\u73af\u4e2d\u7b49\u5f85\u3002\u5177\u4f53\u4f7f\u7528\u65b9\u5f0f\u5982\u4f8b12-19\u6240\u793a 13 Go\u8bed\u8a00\u5bc6\u7801\u5b66\u7b97\u6cd5 \uff08\u7565\uff09 14 Beego\u6846\u67b6\u9879\u76ee\u5b9e\u6218 \uff08\u7565\uff09","title":"07 \u7f51\u7f16\u5e76\u53d1"},{"location":"%E5%9F%BA%E7%A1%80/7/#_1","text":"","title":""},{"location":"%E5%9F%BA%E7%A1%80/7/#go","text":"","title":"* Go\u8bed\u8a00\u7f51\u7edc\u7f16\u7a0b\u76f8\u5173"},{"location":"%E5%9F%BA%E7%A1%80/7/#http","text":"Go\u8bed\u8a00\u6807\u51c6\u5e93\u5185\u7f6e\u4e86net/http\u5305\uff0c\u6db5\u76d6\u4e86HTTP\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u5177\u4f53\u7684\u5b9e\u73b0\u65b9\u5f0f\u3002 \u5185\u7f6e\u7684net/http\u5305\u63d0\u4f9b\u4e86\u6700\u7b80\u6d01\u7684HTTP\u5ba2\u6237\u7aef\u5b9e\u73b0\u65b9\u5f0f\uff0c\u65e0\u987b\u501f\u52a9\u7b2c\u4e09\u65b9\u7f51\u7edc\u901a\u4fe1\u5e93\uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528HTTP\u4e2d\u7528\u5f97\u6700\u591a\u7684GET\u548cPOST\u65b9\u5f0f\u8bf7\u6c42\u6570\u636e\u3002 \u5b9e\u73b0HTTP\u5ba2\u6237\u7aef\u5c31\u662f\u5ba2\u6237\u7aef\u901a\u8fc7\u7f51\u7edc\u8bbf\u95ee\u5411\u670d\u52a1\u7aef\u53d1\u9001\u8bf7\u6c42\uff0c\u670d\u52a1\u7aef\u53d1\u9001\u54cd\u5e94\u4fe1\u606f\uff0c\u5e76\u5c06\u76f8\u5e94\u4fe1\u606f\u8f93\u51fa\u5230\u5ba2\u6237\u7aef\u7684\u8fc7\u7a0b\u3002\u5b9e\u73b0\u5ba2\u6237\u7aef\u6709\u591a\u79cd\u65b9\u5f0f \u2014\u2014 \u8fd9\u91cc\u53ea\u8bb0http.NewRequest\u65b9\u6cd5\uff1a package main import ( \"fmt\" \"io/ioutil\" \"net/http\" ) func main() { testHttpNewRequest() } func testHttpNewRequest(){ // 1. \u521b\u5efa\u4e00\u4e2a\u5ba2\u6237\u7aef client := http.Client{} // 2. \u521b\u5efa\u4e00\u4e2a\u8bf7\u6c42\uff0c\uff0c\u8bf7\u6c42\u7684\u65b9\u5f0f\u53ef\u4ee5\u662fget\u3001post\u7b49 request, err := http.NewRequest(\"GET\",\"https://www.baidu.com\",nil) // \u68c0\u67e5\u9519\u8bef CheckErr(err) // 3. \u5ba2\u6237\u7aef\u53d1\u9001\u8bf7\u6c42 cookName := &http.Cookie{Name: \"username\",Value: \"wanghw\"} // \u6dfb\u52a0cookie request.AddCookie(cookName) // response rep, err := client.Do(request) // \u68c0\u67e5\u9519\u8bef CheckErr(err) // \u8bbe\u7f6e\u8bf7\u6c42\u5934 request.Header.Set(\"Accept-Language\",\"zh-cn\") // defer \u5173\u95edbody defer rep.Body.Close() // \u67e5\u770b\u8bf7\u6c42\u5934\u7684\u6570\u636e fmt.Printf(\"Header:%+v \\n\",request.Header) fmt.Printf(\"\u54cd\u5e94\u72b6\u6001\u7801:%v \\n\",rep.StatusCode) // 4. \u64cd\u4f5c\u6570\u636e if rep.StatusCode == 200{ data, err := ioutil.ReadAll(rep.Body) CheckErr(err) fmt.Println(\"\u7f51\u7edc\u8bf7\u6c42\u6210\u529f\uff01\") fmt.Println(string(data)) }else{ fmt.Println(\"\u7f51\u7edc\u8bf7\u6c42\u5931\u8d25!\u72b6\u6001\u7801\uff1a\",rep.Status) } } // \u68c0\u67e5\u9519\u8bef func CheckErr(err error){ defer func(){ if ins, ok := recover().(error); ok{ fmt.Println(\"\u7a0b\u5e8f\u51fa\u73b0\u5f02\u5e38...\",ins.Error()) } }() if err != nil{ panic(err) } }","title":"HTTP\u534f\u8bae\u5ba2\u6237\u7aef\u5b9e\u73b0"},{"location":"%E5%9F%BA%E7%A1%80/7/#http_1","text":"\uff08\u7565\uff09","title":"HTTP\u534f\u8bae\u670d\u52a1\u7aef\u5b9e\u73b0"},{"location":"%E5%9F%BA%E7%A1%80/7/#go_1","text":"","title":"* Go\u8bed\u8a00\u5e76\u53d1\u7f16\u7a0b"},{"location":"%E5%9F%BA%E7%A1%80/7/#1","text":"\u5e76\u53d1\uff08Concurrency\uff09\u662f\u540c\u65f6\u5904\u7406\u8bb8\u591a\u4e2a\u4efb\u52a1\uff0c\u5b9e\u9645\u4e0a\u662f\u628a\u4efb\u52a1\u5728\u4e0d\u540c\u7684\u65f6\u95f4\u70b9\u4ea4\u7ed9\u5904\u7406\u5668\u8fdb\u884c\u5904\u7406\uff0c\u5728\u5fae\u89c2\u5c42\u9762\uff0c\u4efb\u52a1\u4e0d\u4f1a\u540c\u65f6\u8fd0\u884c\u3002 \u5e76\u884c\uff08Parallelism\uff09\u662f\u628a\u6bcf\u4e00\u4e2a\u4efb\u52a1\u5206\u914d\u7ed9\u6bcf\u4e00\u4e2a\u5904\u7406\u5668\u72ec\u7acb\u5b8c\u6210\uff0c\u591a\u4e2a\u4efb\u52a1\u4e00\u5b9a\u662f\u540c\u65f6\u8fd0\u884c\u3002\u5e76\u884c\u5c31\u662f\u540c\u65f6\u505a\u5f88\u591a\u4e8b\u60c5\uff0c\u4e4d\u542c\u8d77\u6765\u53ef\u80fd\u4e0e\u5e76\u53d1\u7c7b\u4f3c\uff0c\u4f46\u5b9e\u9645\u4e0a\u662f\u4e0d\u540c\u7684\u3002","title":"1 \u5e76\u53d1\u4e0e\u5e76\u884c"},{"location":"%E5%9F%BA%E7%A1%80/7/#2","text":"","title":"2 \u8fdb\u7a0b\u4e0e\u7ebf\u7a0b"},{"location":"%E5%9F%BA%E7%A1%80/7/#_2","text":"\u7a0b\u5e8f\u662f\u7f16\u8bd1\u597d\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u5728\u78c1\u76d8\u4e0a\uff0c\u4e0d\u5360\u7528\u7cfb\u7edf\u8d44\u6e90\uff08CPU\u3001\u5185\u5b58\u3001\u8bbe\u5907\uff09\u3002 \u8fdb\u7a0b\u662f\u6d3b\u8dc3\u7684\u7a0b\u5e8f\uff0c\u5360\u7528\u7cfb\u7edf\u8d44\u6e90\uff0c\u5728\u5185\u5b58\u4e2d\u6267\u884c\u3002\u7a0b\u5e8f\u8fd0\u884c\u8d77\u6765\uff0c\u4ea7\u751f\u4e00\u4e2a\u8fdb\u7a0b\u3002 \u7a0b\u5e8f\u5c31\u50cf\u662f\u5267\u672c\uff0c\u8fdb\u7a0b\u5c31\u50cf\u662f\u6f14\u620f\uff0c\u540c\u4e00\u4e2a\u5267\u672c\u53ef\u4ee5\u5728\u591a\u4e2a\u821e\u53f0\u540c\u65f6\u4e0a\u6f14\u3002\u540c\u6837\uff0c\u540c\u4e00\u4e2a\u7a0b\u5e8f\u4e5f\u53ef\u4ee5\u52a0\u8f7d\u4e3a\u4e0d\u540c\u7684\u8fdb\u7a0b\uff08\u5f7c\u6b64\u4e4b\u95f4\u4e92\u4e0d\u5f71\u54cd\uff09\uff0c\u6bd4\u5982\u540c\u65f6\u8fd0\u884c\u4e24\u4e2aQQ\u3002 \u7ebf\u7a0b\u4e5f\u53eb\u8f7b\u91cf\u7ea7\u8fdb\u7a0b\uff0c\u901a\u5e38\u4e00\u4e2a\u8fdb\u7a0b\u5305\u542b\u82e5\u5e72\u4e2a\u7ebf\u7a0b\u3002\u7ebf\u7a0b\u53ef\u4ee5\u5229\u7528\u8fdb\u7a0b\u6240\u62e5\u6709\u7684\u8d44\u6e90\u3002\u5728\u5f15\u5165\u7ebf\u7a0b\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e2d\uff0c\u901a\u5e38\u90fd\u662f\u628a\u8fdb\u7a0b\u4f5c\u4e3a\u5206\u914d\u8d44\u6e90\u7684\u57fa\u672c\u5355\u4f4d\uff0c\u800c\u628a\u7ebf\u7a0b\u4f5c\u4e3a\u72ec\u7acb\u8fd0\u884c\u548c\u72ec\u7acb\u8c03\u5ea6\u7684\u57fa\u672c\u5355\u4f4d\uff0c\u6bd4\u5982\u97f3\u4e50\u8fdb\u7a0b\uff0c\u53ef\u4ee5\u4e00\u8fb9\u67e5\u770b\u6392\u884c\u699c\u4e00\u8fb9\u542c\u97f3\u4e50\uff0c\u4e92\u4e0d\u5f71\u54cd\u3002","title":"\u5e76\u53d1\u76f8\u5173\u7684\u6982\u5ff5"},{"location":"%E5%9F%BA%E7%A1%80/7/#_3","text":"\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u662f\u64cd\u4f5c\u7cfb\u7edf\u7ea7\u522b\u7684\u4e24\u4e2a\u57fa\u672c\u6982\u5ff5\u3002\u8ba1\u7b97\u673a\u7684\u6838\u5fc3\u662fCPU\uff0c\u5b83\u627f\u62c5\u4e86\u6240\u6709\u7684\u8ba1\u7b97\u4efb\u52a1\uff0c\u5c31\u50cf\u4e00\u5ea7\u5de5\u5382\uff0c\u65f6\u523b\u5728\u8fd0\u884c\u3002\u8fdb\u7a0b\u5c31\u597d\u6bd4\u5de5\u5382\u7684\u8f66\u95f4\uff0c\u5b83\u4ee3\u8868CPU\u6240\u80fd\u5904\u7406\u7684\u5355\u4e2a\u4efb\u52a1\uff1b\u8fdb\u7a0b\u662f\u4e00\u4e2a\u5bb9\u5668\u3002\u7ebf\u7a0b\u5c31\u597d\u6bd4\u8f66\u95f4\u91cc\u7684\u5de5\u4eba\u3002\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u5305\u62ec\u591a\u4e2a\u7ebf\u7a0b\uff0c\u7ebf\u7a0b\u662f\u5bb9\u5668\u4e2d\u7684\u5de5\u4f5c\u5355\u4f4d\u3002","title":"\u8fdb\u7a0b\u4e0e\u7ebf\u7a0b\u7684\u8054\u7cfb"},{"location":"%E5%9F%BA%E7%A1%80/7/#3-goroutine","text":"\u534f\u88ce\u7684\u6982\u5ff5 \u534f\u7a0b\uff08Coroutine\uff09\uff0c\u6700\u521d\u57281963\u5e74\u88ab\u63d0\u51fa\uff0c\u53c8\u79f0\u4e3a\u5fae\u7ebf\u7a0b\uff0c\u662f\u4e00\u79cd\u6bd4\u7ebf\u7a0b\u66f4\u52a0\u8f7b\u91cf\u7ea7\u7684\u5b58\u5728\u3002\u6b63\u5982\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u62e5\u6709\u591a\u4e2a\u7ebf\u7a0b\uff0c\u4e00\u4e2a\u7ebf\u7a0b\u4e5f\u53ef\u4ee5\u62e5\u6709\u591a\u4e2a\u534f\u7a0b\u3002 \u534f\u7a0b\u662f\u7f16\u8bd1\u5668\u7ea7\u7684\uff0c\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u662f\u64cd\u4f5c\u7cfb\u7edf\u7ea7\u7684\u3002\u534f\u7a0b\u4e0d\u88ab\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u7ba1\u7406\uff0c\u800c\u5b8c\u5168\u7531\u7a0b\u5e8f\u63a7\u5236\uff0c\u56e0\u6b64\u6ca1\u6709\u7ebf\u7a0b\u5207\u6362\u7684\u5f00\u9500\u3002\u548c\u591a\u7ebf\u7a0b\u6bd4\uff0c\u7ebf\u7a0b\u6570\u91cf\u8d8a\u591a\uff0c\u534f\u7a0b\u7684\u6027\u80fd\u4f18\u52bf\u5c31\u8d8a\u660e\u663e\u3002\u534f\u7a0b\u7684\u6700\u5927\u4f18\u52bf\u5728\u4e8e\u5176\u8f7b\u91cf\u7ea7\uff0c\u53ef\u4ee5\u8f7b\u677e\u521b\u5efa\u4e0a\u4e07\u4e2a\u800c\u4e0d\u4f1a\u5bfc\u81f4\u7cfb\u7edf\u8d44\u6e90\u8870\u7aed\u3002 Go\u8bed\u8a00\u4e2d\u7684\u534f\u88ce Go\u8bed\u8a00\u4e2d\u7684\u534f\u7a0b\u53eb\u4f5cGoroutine\u3002Goroutine\u7531Go\u7a0b\u5e8f\u8fd0\u884c\u65f6\uff08runtime\uff09\u8c03\u5ea6\u548c\u7ba1\u7406\uff0cGo\u7a0b\u5e8f\u4f1a\u667a\u80fd\u5730\u5c06Goroutine\u4e2d\u7684\u4efb\u52a1\u5408\u7406\u5730\u5206\u914d\u7ed9\u6bcf\u4e2aCPU\u3002\u521b\u5efaGoroutine\u7684\u6210\u672c\u5f88\u5c0f\uff0c\u6bcf\u4e2aGoroutine\u7684\u5806\u6808\u53ea\u6709\u51e0kb\uff0c\u4e14\u5806\u6808\u53ef\u4ee5\u6839\u636e\u5e94\u7528\u7a0b\u5e8f\u7684\u9700\u8981\u589e\u957f\u548c\u6536\u7f29\u3002 Coroutine\u4e0eGoroutine Goroutine\u80fd\u5e76\u884c\u6267\u884c\uff0cCoroutine\u53ea\u80fd\u987a\u5e8f\u6267\u884c\uff1bGoroutine\u53ef\u5728\u591a\u7ebf\u7a0b\u73af\u5883\u4ea7\u751f\uff0cCoroutine\u53ea\u80fd\u53d1\u751f\u5728\u5355\u7ebf\u7a0b\u3002Coroutine\u7a0b\u5e8f\u9700\u8981\u4e3b\u52a8\u4ea4\u51fa\u63a7\u5236\u6743\uff0c\u7cfb\u7edf\u624d\u80fd\u83b7\u5f97\u63a7\u5236\u6743\u5e76\u5c06\u63a7\u5236\u6743\u4ea4\u7ed9\u5176\u4ed6Coroutine\u3002 Coroutine\u7684\u8fd0\u884c\u673a\u5236\u5c5e\u4e8e\u534f\u4f5c\u5f0f\u4efb\u52a1\u5904\u7406\uff0c\u5e94\u7528\u7a0b\u5e8f\u5728\u4e0d\u4f7f\u7528CPU\u65f6\uff0c\u9700\u8981\u4e3b\u52a8\u4ea4\u51faCPU\u4f7f\u7528\u6743\u3002\u5982\u679c\u5f00\u53d1\u8005\u65e0\u610f\u95f4\u8ba9\u5e94\u7528\u7a0b\u5e8f\u957f\u65f6\u95f4\u5360\u7528CPU\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4e5f\u65e0\u80fd\u4e3a\u529b\uff0c\u8ba1\u7b97\u673a\u5f88\u5bb9\u6613\u5931\u53bb\u54cd\u5e94\u6216\u8005\u6b7b\u673a\u3002 Goroutine\u5c5e\u4e8e\u62a2\u5360\u5f0f\u4efb\u52a1\u5904\u7406\uff0c\u548c\u73b0\u6709\u7684\u591a\u7ebf\u7a0b\u548c\u591a\u8fdb\u7a0b\u4efb\u52a1\u5904\u7406\u975e\u5e38\u7c7b\u4f3c\u3002\u5e94\u7528\u7a0b\u5e8f\u5bf9CPU\u7684\u63a7\u5236\u6700\u7ec8\u7531\u64cd\u4f5c\u7cfb\u7edf\u6765\u7ba1\u7406\uff0c\u5982\u679c\u64cd\u4f5c\u7cfb\u7edf\u53d1\u73b0\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\u957f\u65f6\u95f4\u5360\u7528CPU\uff0c\u90a3\u4e48\u7528\u6237\u6709\u6743\u7ec8\u6b62\u8fd9\u4e2a\u4efb\u52a1\u3002","title":"3 Goroutine\u4ecb\u7ecd"},{"location":"%E5%9F%BA%E7%A1%80/7/#4-goroutine","text":"","title":"4 \u521b\u5efaGoroutine"},{"location":"%E5%9F%BA%E7%A1%80/7/#goroutine","text":"\u5728\u51fd\u6570\u6216\u65b9\u6cd5\u524d\u9762\u52a0\u4e0a\u5173\u952e\u5b57go\uff0c\u5c06\u4f1a\u540c\u65f6\u8fd0\u884c\u4e00\u4e2a\u65b0\u7684Goroutine\u3002 \u4f7f\u7528go\u5173\u952e\u5b57\u521b\u5efaGoroutine\u65f6\uff0c\u88ab\u8c03\u7528\u7684\u51fd\u6570\u5f80\u5f80\u6ca1\u6709\u8fd4\u56de\u503c\uff0c\u5982\u679c\u6709\u8fd4\u56de\u503c\u4e5f\u4f1a\u88ab\u5ffd\u7565\u3002\u5982\u679c\u9700\u8981\u5728Goroutine\u4e2d\u8fd4\u56de\u6570\u636e\uff0c\u5fc5\u987b\u4f7f\u7528channel\uff0c\u901a\u8fc7channel\u628a\u6570\u636e\u4eceGoroutine\u4e2d\u4f5c\u4e3a\u8fd4\u56de\u503c\u4f20\u51fa\u3002 Go\u7a0b\u5e8f\u7684\u6267\u884c\u8fc7\u7a0b\u662f\uff1a Go\u7a0b\u5e8f\u542f\u52a8\u65f6\uff0cruntime\u9ed8\u8ba4\u4e3amain()\u51fd\u6570\u521b\u5efa\u4e00\u4e2aGoroutine\u3002\u521b\u5efa\u548c\u542f\u52a8\u4e3bGoroutine\uff0c\u521d\u59cb\u5316\u64cd\u4f5c\uff0c\u6267\u884cmain()\u51fd\u6570\uff0c\u5f53main()\u51fd\u6570\u7ed3\u675f\uff0c\u4e3bGoroutine\u968f\u4e4b\u7ed3\u675f\uff0c\u7a0b\u5e8f\u7ed3\u675f\u3002 package main import ( \"fmt\" \"time\" ) func hello(){ fmt.Println(\"Say Hello!\") } func main() { go hello() // time.Sleep(time.Second) fmt.Println(\"Main function...\") } \u8fd0\u884c\u7684\u7ed3\u679c\u4f1a\u67092\u79cd\uff1a \u4e00\u79cd\u662f\u53ea\u6709main function\u6253\u5370\u51fa\u6765\u4e86\u3002 \u53e6\u5916\u4e00\u79cd\u662f\u4e24\u4e2a\u90fd\u6253\u5370\u51fa\u6765\u4e86\u3002 \u88ab\u542f\u52a8\u7684Goroutine\u53eb\u4f5c\u5b50Goroutine\u3002\u5982\u679cmain()\u7684Goroutine\u7ec8\u6b62\u4e86\uff0c\u7a0b\u5e8f\u5c06\u88ab\u7ec8\u6b62\uff0c\u800c\u5176\u4ed6Goroutine\u5c06\u4e0d\u518d\u8fd0\u884c\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u6240\u6709Goroutine\u5728main()\u51fd\u6570\u7ed3\u675f\u65f6\u4f1a\u4e00\u540c\u7ed3\u675f\u3002\u5982\u679cmain()\u7684 Goroutine\u6bd4\u5b50Goroutine\u5148\u7ec8\u6b62\uff0c\u8fd0\u884c\u7684\u7ed3\u679c\u5c31\u4e0d\u4f1a\u6253\u5370\u201cSay Hello!\u201d \u5728go hello()\u540e\u9762\u52a0\u4e00\u4e2atime.sleep\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0cmain()\u7684Goroutine\u88ab\u7528\u6765\u7761\u89c91\u79d2\u3002\u73b0\u5728go hello()\u6709\u8db3\u591f\u7684\u65f6\u95f4\u5728main Goroutine\u7ec8\u6b62\u4e4b\u524d\u6267\u884c\u3002","title":"\u666e\u901a\u51fd\u6570\u521b\u5efaGoroutine"},{"location":"%E5%9F%BA%E7%A1%80/7/#goroutine_1","text":"go\u5173\u952e\u5b57\u540e\u4e5f\u53ef\u4ee5\u662f\u533f\u540d\u51fd\u6570\u6216\u95ed\u5305\u3002 package main import ( \"fmt\" \"time\" ) func main() { go func(){ var times int for { times ++ fmt.Println(\"tick>>> \",times) time.Sleep(time.Second) } }() // \u5f53\u7528\u6237\u6709\u8f93\u5165\u540e \u7a0b\u5e8f\u505c\u6b62\uff01 var input string fmt.Scanln(&input) }","title":"\u533f\u540d\u51fd\u6570\u521b\u5efaGoroutine"},{"location":"%E5%9F%BA%E7%A1%80/7/#5-goroutine","text":"package main import ( \"fmt\" \"time\" ) func main() { go printNum() go printLetter() time.Sleep(6 *time.Second) fmt.Println() fmt.Println(\"main...function...\") } func printNum() { for i := 1; i < 3; i++ { time.Sleep(time.Second) fmt.Printf(\"%d\", i) } } func printLetter() { for i := 'a'; i < 'c'; i++ { time.Sleep(time.Second) fmt.Printf(\"%c\", i) } } // \u7ed3\u679c // a12b // \u56db\u4e2a\u5b57\u6bcd\u7684\u987a\u5e8f\u6bcf\u6b21\u4e0d\u4e00\u6837 // main...function...","title":"5 \u542f\u52a8\u591a\u4e2aGoroutine"},{"location":"%E5%9F%BA%E7%A1%80/7/#6-channel","text":"channel\u5373Go\u7684\u901a\u9053\uff0c\u662f\u534f\u7a0b\u4e4b\u95f4\u7684\u901a\u4fe1\u673a\u5236\u3002\u4e00\u4e2achannel\u662f\u4e00\u6761\u901a\u4fe1\u7ba1\u9053\uff0c \u5b83\u53ef\u4ee5\u8ba9\u4e00\u4e2a\u534f\u7a0b\u901a\u8fc7\u5b83\u7ed9\u53e6\u4e00\u4e2a\u534f\u7a0b\u53d1\u9001\u6570\u636e \u3002 \u6bcf\u4e2achannel\u90fd\u9700\u8981\u6307\u5b9a\u6570\u636e\u7c7b\u578b\uff0c\u5373channel\u53ef\u53d1\u9001\u6570\u636e\u7684\u7c7b\u578b\u3002\u5982\u679c\u4f7f\u7528channel\u53d1\u9001int\u7c7b\u578b\u6570\u636e\uff0c\u53ef\u4ee5\u5199\u6210chanint\u3002\u6570\u636e\u53d1\u9001\u7684\u65b9\u5f0f\u5982\u540c\u6c34\u5728\u7ba1\u9053\u4e2d\u7684\u6d41\u52a8\u3002 \u4f20\u7edf\u7684\u7ebf\u7a0b\u4e4b\u95f4\u53ef\u4ee5\u901a\u8fc7\u5171\u4eab\u5185\u5b58\u8fdb\u884c\u6570\u636e\u4ea4\u4e92\uff0c\u4e0d\u540c\u7684\u7ebf\u7a0b\u5171\u4eab\u5185\u5b58\u7684\u540c\u6b65\u95ee\u9898\u9700\u8981\u4f7f\u7528\u9501\u6765\u89e3\u51b3\uff0c\u8fd9\u6837\u4f1a\u5bfc\u81f4\u6027\u80fd\u4f4e\u4e0b\u3002 Go\u8bed\u8a00\u4e2d\u63d0\u5021\u4f7f\u7528channel\u7684\u65b9\u5f0f\u4ee3\u66ff\u5171\u4eab\u5185\u5b58\u3002\u6362\u8a00\u4e4b\uff0cGo\u8bed\u8a00\u4e3b\u5f20 \u901a\u8fc7\u6570\u636e\u4f20\u9012\u6765\u5b9e\u73b0\u5171\u4eab\u5185\u5b58\uff0c\u800c\u4e0d\u662f\u901a\u8fc7\u5171\u4eab\u5185\u5b58\u6765\u5b9e\u73b0\u6570\u636e\u4f20\u9012\u3002","title":"6 channel ***"},{"location":"%E5%9F%BA%E7%A1%80/7/#channel","text":"var ca(channel\u53d8\u91cf) chan int(channel\u7c7b\u578b) chan\u7c7b\u578b\u7684\u7a7a\u503c\u662fnil\uff0c\u58f0\u660e\u540e\u9700\u8981\u914d\u5408make()\u624d\u80fd\u4f7f\u7528\uff01 channel\u662f\u5f15\u7528\u7c7b\u578b\uff0c\u9700\u8981\u4f7f\u7528make()\u8fdb\u884c\u521b\u5efa\uff0c\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u6240\u793a\u3002 ca := make(chan int) \u5b9e\u4f8b\u5982\u4e0b\uff1a c++ // \u521b\u5efa\u4e00\u4e2a\u6574\u578b\u7c7b\u578b\u7684channel ch1 := make(chan int) // \u521b\u5efa\u4e00\u4e2a\u7a7a\u63a5\u53e3\u7c7b\u578b\u7684channel\uff0c\u53ef\u4ee5\u5b58\u653e\u4efb\u610f\u7c7b\u578b ch2 := make(chan interface{}) // \u521b\u5efa\u4e00\u4e2a\u7ed3\u6784\u4f53\u6307\u9488\u7c7b\u578b\u7684channel\uff0c\u53ef\u4ee5\u5b58\u653e\u5bf9\u5e94\u7684\u7ed3\u6784\u4f53\u6307\u9488 type Student struct{ name string } ch3 := make(chan *Student) #### \u4f7f\u7528channel\u53d1\u9001\u6570\u636e \u901a\u8fc7channel\u53d1\u9001\u6570\u636e\u9700\u8981\u4f7f\u7528\u7279\u6b8a\u7684\u64cd\u4f5c\u7b26\u201c\uff1c-\u201d\u3002\u5c06\u6570\u636e\u901a\u8fc7channel\u53d1\u9001\u7684\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u6240\u793a\u3002 ```c++ channel\u53d8\u91cf <- \u503c channel\u53d1\u9001\u7684\u503c\u7684\u7c7b\u578b\u5fc5\u987b\u4e0echannel\u7684\u5143\u7d20\u7c7b\u578b\u4e00\u81f4\u3002\u5982\u679c\u63a5\u6536\u65b9\u4e00\u76f4\u6ca1\u6709\u63a5\u6536\uff0c\u90a3\u4e48\u53d1\u9001\u64cd\u4f5c\u5c06\u6301\u7eed\u963b\u585e\u3002\u6b64\u65f6\u6240\u6709\u7684Goroutine\uff0c\u5305\u62ecmain()\u7684Goroutine\u90fd\u5904\u4e8e\u7b49\u5f85\u72b6\u6001\u3002 \u8fd0\u884c\u4f1a\u63d0\u793a\u62a5\u9519\uff1afatal error: all goroutines are asleep - deadlock! \u4f7f\u7528channel\u65f6\u8981\u8003\u8651\u53d1\u751f\u6b7b\u9501\uff08deadlock\uff09\u7684\u53ef\u80fd\u3002\u5982\u679cGoroutine\u5728\u4e00\u4e2achannel\u4e0a\u53d1\u9001\u6570\u636e\uff0c\u5176\u4ed6\u7684Goroutine\u5e94\u8be5\u63a5\u6536\u5f97\u5230\u6570\u636e\uff1b\u5982\u679c\u6ca1\u6709\u63a5\u6536\uff0c\u90a3\u4e48\u7a0b\u5e8f\u5c06\u5728\u8fd0\u884c\u65f6\u51fa\u73b0\u6b7b\u9501\u3002\u5982\u679cGoroutine\u6b63\u5728\u7b49\u5f85\u4ecechannel\u63a5\u6536\u6570\u636e\uff0c\u5176\u4ed6\u4e00\u4e9bGoroutine\u5c06\u4f1a\u5728\u8be5channel\u4e0a\u5199\u5165\u6570\u636e\uff1b\u5982\u679c\u6ca1\u6709\u5199\u5165\uff0c\u7a0b\u5e8f\u5c06\u4f1a\u6b7b\u9501\u3002","title":"\u521b\u5efachannel\u7c7b\u578b"},{"location":"%E5%9F%BA%E7%A1%80/7/#channel_1","text":"channel\u6536\u53d1\u64cd\u4f5c\u5728\u4e0d\u540c\u7684\u4e24\u4e2aGoroutine\u95f4\u8fdb\u884c\u3002","title":"\u901a\u8fc7channel\u63a5\u53d7\u6570\u636e"},{"location":"%E5%9F%BA%E7%A1%80/7/#1_1","text":"channel\u63a5\u6536\u540c\u6837\u4f7f\u7528\u7279\u6b8a\u7684\u64cd\u4f5c\u7b26\u201c\uff1c-\u201d\u3002\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u6240\u793a\u3002 data, ok := <-ch1 \u6267\u884c\u8be5\u8bed\u53e5\u65f6channel\u5c06\u4f1a\u963b\u585e\uff0c\u76f4\u5230\u63a5\u6536\u5230\u6570\u636e\u5e76\u8d4b\u503c\u7ed9data\u53d8\u91cf\u3002 data \u8868\u793a\u63a5\u6536\u5230\u7684\u6570\u636e\u3002\u672a\u63a5\u6536\u5230\u6570\u636e\u65f6\uff0cdata\u4e3achannel\u7c7b\u578b\u7684\u96f6\u503c\u3002ok\uff08\u5e03\u5c14\u7c7b\u578b\uff09\u8868\u793a\u662f\u5426\u63a5\u6536\u5230\u6570\u636e\u3002\u901a\u8fc7ok\u503c\u53ef\u4ee5\u5224\u65ad\u5f53\u524dchannel\u662f\u5426\u88ab\u5173\u95ed\u3002","title":"1. \u963b\u585e\u63a5\u53d7\u6570\u636e"},{"location":"%E5%9F%BA%E7%A1%80/7/#2_1","text":"\u63a5\u6536\u4efb\u610f\u6570\u636e\uff0c\u5ffd\u7565\u63a5\u6536\u7684\u6570\u636e\uff0c\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\u6240\u793a\u3002 <-ch1 \u6267\u884c\u8be5\u8bed\u53e5\u65f6channel\u5c06\u4f1a\u963b\u585e\u3002 \u5176\u76ee\u7684\u4e0d\u5728\u4e8e\u63a5\u6536channel\u4e2d\u6570\u636e\uff0c\u800c\u662f\u4e3a\u4e86\u963b\u585eGoroutine\u3002","title":"2. \u5ffd\u7565\u63a5\u53d7\u6570\u636e"},{"location":"%E5%9F%BA%E7%A1%80/7/#3","text":"\u5faa\u73af\u63a5\u6536\u6570\u636e\uff0c\u9700\u8981\u914d\u5408\u4f7f\u7528\u5173\u95edchannel\uff0c\u501f\u52a9\u666e\u901afor\u5faa\u73af\u548cfor ... range\u8bed\u53e5\u5faa\u73af\u63a5\u6536\u591a\u4e2a\u5143\u7d20\u3002 \u904d\u5386channel\uff0c\u904d\u5386\u7684\u7ed3\u679c\u5c31\u662f\u63a5\u6536\u5230\u7684\u6570\u636e\uff0c\u6570\u636e\u7c7b\u578b\u5c31\u662fchannel\u7684\u6570\u636e\u7c7b\u578b\u3002\u666e\u901afor\u5faa\u73af\u63a5\u6536channel\u6570\u636e\uff0c\u9700\u8981\u6709break\u5faa\u73af\u7684\u6761\u4ef6\uff1bfor \u2026 range\u4f1a\u81ea\u52a8\u5224\u65ad\u51fachannel\u5df2\u5173\u95ed\uff0c\u800c\u65e0\u987b\u901a\u8fc7\u5224\u65ad\u6765\u7ec8\u6b62\u5faa\u73af\u3002\u5faa\u73af\u63a5\u6536\u6570\u636e\u7684\u4e09\u79cd\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\uff1a package main import ( \"fmt\" ) func main() { ch1 := make(chan string) go sendData(ch1) // \u5faa\u73af\u63a5\u53d7\u6570\u636e\u7684\u65b9\u5f0f1 /* for{ data := <-ch1 // \u5982\u679c\u901a\u9053\u5173\u95ed\uff0c\u901a\u9053\u4e2d\u4f20\u8f93\u7684\u6570\u636e\u5219\u4e3a\u5404\u6570\u636e\u7c7b\u578b\u7684\u96f6\u503c if data == \"\"{ break } fmt.Println(\"\u4ecechannel\u4e2d\u83b7\u53d6\u6570\u636e\u7684\u65b9\u5f0f1>>>:\",data) } */ // \u5faa\u73af\u63a5\u53d7\u6570\u636e\u65b9\u5f0f2 /* for{ data, ok := <-ch1 fmt.Println(\"ok>>> \",ok) // \u5982\u679c\u901a\u9053\u5173\u95ed\u4e86 ok\u4e3a false if !ok{ break } fmt.Println(\"\u4ecechannel\u4e2d\u83b7\u53d6\u6570\u636e\u7684\u65b9\u5f0f2>>>:\",data) } */ // \u5faa\u73af\u63a5\u53d7\u6570\u636e\u65b9\u5f0f3 // for ... range \u5faa\u73af\u4f1a\u81ea\u52a8\u5224\u65ad\u901a\u9053\u662f\u5426\u5173\u95ed\uff0c\u81ea\u52a8break for value := range ch1{ fmt.Println(\"\u4ecechannel\u4e2d\u83b7\u53d6\u6570\u636e\u7684\u65b9\u5f0f3>>>:\",value) } } // \u5f80channel\u4e2d\u53d1\u9001\u6570\u636e func sendData(ch1 chan string) { // \u53d1\u9001\u5b8c\u8bb0\u5f97\u5173\u95ed defer close(ch1) for i := 0; i < 3; i++ { ch1 <- fmt.Sprintf(\"\u53d1\u9001\u6570\u636e%d\\n\", i) } fmt.Println(\"\u53d1\u9001\u6570\u636e\u5b8c\u6bd5...\") }","title":"3. \u5faa\u73af\u63a5\u53d7\u6570\u636e"},{"location":"%E5%9F%BA%E7%A1%80/7/#channel_2","text":"channel\u9ed8\u8ba4\u662f\u963b\u585e\u7684\u3002\u5f53\u6570\u636e\u88ab\u53d1\u9001\u5230channel\u65f6\u4f1a\u53d1\u751f\u963b\u585e\uff0c\u76f4\u5230\u6709\u5176\u4ed6Goroutine\u4ece\u8be5channel\u4e2d\u8bfb\u53d6\u6570\u636e\u3002\u5f53\u4ecechannel\u8bfb\u53d6\u6570\u636e\u65f6\uff0c\u8bfb\u53d6\u4e5f\u4f1a\u88ab\u963b\u585e\uff0c\u76f4\u5230\u5176\u4ed6Goroutine\u5c06\u6570\u636e\u5199\u5165\u8be5channel\u3002\u8fd9\u4e9bchannel\u7684\u7279\u6027\u5e2e\u52a9Goroutine\u6709\u6548\u5730\u901a\u4fe1\uff0c\u800c\u4e0d\u9700\u8981\u4f7f\u7528\u5176\u4ed6\u8bed\u8a00\u4e2d\u7684\u663e\u5f0f\u9501\u6216\u6761\u4ef6\u53d8\u91cf\u3002 package main import \"fmt\" func main() { var ch1 chan int ch1 = make(chan int) fmt.Printf(\"%T\\n\",ch1)// chan int ch2 := make(chan bool) go func(){ data, ok := <-ch1 if ok{ fmt.Println(\"\u5b50Goroutine\u53d6\u5230\u6570\u503c: \",data) } ch2 <- true }() ch1 <- 10 <- ch2 // \u963b\u585e\uff1a\u4f5c\u7528\u662f\u963b\u585echannel\u7b49\u5f85\u533f\u540d\u51fd\u6570\u7684Goroutine\u8fd0\u884c\u7ed3\u675f\uff0c\u9632\u6b62\u4e3b\u51fd\u6570\u7684Goroutine\u9000\u51fa\u800c\u5bfc\u81f4\u533f\u540d\u51fd\u6570\u7684Goroutine\u63d0\u524d\u9000\u51fa\u3002 fmt.Println(\"main over...\") } /* chan int \u5b50Goroutine\u53d6\u5230\u6570\u503c: 10 main over... */ \u6ce8\u610f <- ch2 \u4f5c\u7528\u662f\u963b\u585echannel\u7b49\u5f85\u533f\u540d\u51fd\u6570\u7684Goroutine\u8fd0\u884c\u7ed3\u675f\uff0c\u9632\u6b62\u4e3b\u51fd\u6570\u7684Goroutine\u9000\u51fa\u800c\u5bfc\u81f4\u533f\u540d\u51fd\u6570\u7684Goroutine\u63d0\u524d\u9000\u51fa\u3002","title":"channel\u662f\u963b\u585e\u7684"},{"location":"%E5%9F%BA%E7%A1%80/7/#channel_3","text":"\u53d1\u9001\u65b9\u5982\u679c\u6570\u636e\u5199\u5165\u5b8c\u6bd5\uff0c\u9700\u8981\u5173\u95edchannel\uff0c\u7528\u4e8e\u901a\u77e5\u63a5\u6536\u65b9\u6570\u636e\u4f20\u9012\u5b8c\u6bd5\u3002 \u901a\u5e38\u60c5\u51b5\u662f\u53d1\u9001\u65b9\u4e3b\u52a8\u5173\u95edchannel\u3002\u63a5\u6536\u65b9\u901a\u8fc7\u591a\u91cd\u8fd4\u56de\u503c\u5224\u65adchannel\u662f\u5426\u5173\u95ed\uff0c\u5982\u679c\u8fd4\u56de\u503c\u662ffalse\uff0c\u5219\u8868\u793achannel\u5df2\u7ecf\u88ab\u5173\u95ed\u3002 \u5f80\u5173\u95ed\u7684channel\u4e2d\u5199\u5165\u6570\u636e\u4f1a\u62a5\u9519\uff1apanic: send on closed channel\u3002 \u4f46\u662f\u53ef\u4ee5\u4ece\u5173\u95ed\u540e\u7684channel\u4e2d\u8bfb\u53d6\u6570\u636e\uff0c\u8fd4\u56de\u6570\u636e\u7684\u9ed8\u8ba4\u503c\u548cfalse\u3002 \u4e0b\u9762\u901a\u8fc7\u4e00\u4e2a\u6848\u4f8b\u6765\u89c2\u5bdf\u5173\u95edchannel\u4ee5\u540e\u662f\u5426\u53ef\u4ee5\u5199\u5165\u6570\u636e\uff1a package main import \"fmt\" func main() { // channel1 \u5173\u95ed\u540e\u4e0d\u53ef\u4ee5\u518d\u5199\u5165\u6570\u636e ch1 := make(chan int) go func(){ ch1 <- 100 ch1 <- 200 close(ch1) ch1 <- 222 }() data, ok := <- ch1 fmt.Println(\"main\u8bfb\u53d6\u6570\u636e:\",data, ok) data, ok = <- ch1 fmt.Println(\"main\u8bfb\u53d6\u6570\u636e:\",data, ok) // \u8fd0\u884c\u5230\u8fd9\u91cc\u7684\u65f6\u5019\u7a0b\u5e8f\u4f1a\u62a5\u9519\uff01\uff01\uff01 data, ok = <- ch1 fmt.Println(\"main\u8bfb\u53d6\u6570\u636e:\",data, ok) }","title":"\u5173\u95edchannel"},{"location":"%E5%9F%BA%E7%A1%80/7/#channel_4","text":"\u9ed8\u8ba4\u521b\u5efa\u7684\u90fd\u662f\u975e\u7f13\u51b2channel\uff0c\u8bfb\u5199\u90fd\u662f\u5373\u65f6\u963b\u585e\u3002 \u7f13\u51b2channel\u81ea\u5e26\u4e00\u5757\u7f13\u51b2\u533a\uff0c\u53ef\u4ee5\u6682\u65f6\u5b58\u50a8\u6570\u636e\uff0c\u5982\u679c\u7f13\u51b2\u533a\u6ee1\u4e86\uff0c\u5c31\u4f1a\u53d1\u751f\u963b\u585e\u3002 \u4e0b\u9762\u901a\u8fc7\u6848\u4f8b\u5bf9\u6bd4\u7f13\u51b2channel\u4e0e\u975e\u7f13\u51b2channel\uff1a package main import ( \"fmt\" \"time\" ) func main() { // 1. \u975e\u7f13\u51b2channel ch1 := make(chan int) fmt.Println(\"\u975e\u7f13\u51b2channel>> \",len(ch1), cap(ch1)) go func(){ data := <- ch1 fmt.Println(\"\u83b7\u5f97\u6570\u636e:\",data) }() // ch1 <- 100 time.Sleep(time.Second) fmt.Println(\"\u8d4b\u503cOK\",\"main over...\") // 2. \u975e\u7f13\u51b2channel ch2 := make(chan string) go sendData(ch2) for data := range ch2{ fmt.Println(\"\\t \u4ecech2\u4e2d\u8bfb\u53d6\u6570\u636e\",data) } fmt.Println(\"main over ......\") // 3. \u7f13\u51b2\u901a\u9053\uff0c\u7f13\u51b2\u533a\u6ee1\u4e86\u624d\u4f1a\u963b\u585e ch3 := make(chan string, 6) go sendData(ch3) for data := range ch3{ fmt.Println(\"\\t \u4ecech3\u4e2d\u8bfb\u53d6\u6570\u636e\",data) } fmt.Println(\"main over...>>>\") } func sendData(ch chan string){ for i := 1; i <= 3; i++{ // \u5f80\u901a\u9053\u4e2d\u653e\u5165\u6570\u636e ch <- fmt.Sprintf(\"data:%d\",i) fmt.Printf(\"\u5f80\u901a\u9053\u4e2d\u653e\u5165\u6570\u636e data:%d\\n\",i) } defer close(ch) } /* \u975e\u7f13\u51b2channel>> 0 0 \u83b7\u5f97\u6570\u636e: 100 \u8d4b\u503cOK main over... \u5f80\u901a\u9053\u4e2d\u653e\u5165\u6570\u636e data:1 \u4ecech2\u4e2d\u8bfb\u53d6\u6570\u636e data:1 \u4ecech2\u4e2d\u8bfb\u53d6\u6570\u636e data:2 \u5f80\u901a\u9053\u4e2d\u653e\u5165\u6570\u636e data:2 \u5f80\u901a\u9053\u4e2d\u653e\u5165\u6570\u636e data:3 \u4ecech2\u4e2d\u8bfb\u53d6\u6570\u636e data:3 main over ...... \u5f80\u901a\u9053\u4e2d\u653e\u5165\u6570\u636e data:1 \u5f80\u901a\u9053\u4e2d\u653e\u5165\u6570\u636e data:2 \u5f80\u901a\u9053\u4e2d\u653e\u5165\u6570\u636e data:3 \u4ecech3\u4e2d\u8bfb\u53d6\u6570\u636e data:1 \u4ecech3\u4e2d\u8bfb\u53d6\u6570\u636e data:2 \u4ecech3\u4e2d\u8bfb\u53d6\u6570\u636e data:3 main over...>>> */ \u8fd0\u884c\u7ed3\u679c\u6765\u770b\uff0c\u975e\u7f13\u51b2channel\u90e8\u5206\u7684\u6253\u5370\u7ed3\u679c\u662f\u8f93\u5165\u6570\u636e\u548c\u63a5\u6536\u6570\u636e\u4ea4\u66ff\u7684\uff0c\u8fd9\u8bf4\u660e\u8bfb\u5199\u90fd\u662f\u5373\u65f6\u963b\u585e\u3002\u7f13\u51b2channel\u90e8\u5206\u7684\u8f93\u5165\u6570\u636e\u6253\u5370\u5b8c\u6bd5\u4ee5\u540e\u624d\u6253\u5370\u63a5\u6536\u6570\u636e\uff0c\u8fd9\u610f\u5473\u7740\u7f13\u51b2\u533a\u6ca1\u6709\u6ee1\u7684\u60c5\u51b5\u4e0b\u662f\u975e\u963b\u585e\u7684\u3002","title":"\u7f13\u51b2channel"},{"location":"%E5%9F%BA%E7%A1%80/7/#channel_5","text":"package main import ( \"fmt\" \"math/rand\" \"strings\" \"time\" ) func main() { // \u7528channel\u6765\u4f20\u9012\u6570\u636e\uff0c\u4e0d\u518d\u9700\u8981\u81ea\u5df1\u53bb\u52a0\u9501\u7ef4\u62a4\u4e00\u4e2a\u5168\u5c40\u7684\u963b\u585e\u961f\u5217 ch1 := make(chan int) ch_bool1 := make(chan bool)// \u5224\u65ad\u7ed3\u675f\u7684 ch_bool2 := make(chan bool)// \u5224\u65ad\u7ed3\u675f\u7684 ch_bool3 := make(chan bool)// \u5224\u65ad\u7ed3\u675f\u7684 rand.Seed(time.Now().UnixNano()) // \u751f\u4ea7\u8005 go producer(ch1) // \u6d88\u8d39\u8005 3\u4e2a go consumer(1, ch1, ch_bool1) go consumer(2, ch1, ch_bool2) go consumer(3, ch1, ch_bool3) // \u963b\u585e\u4e3b\u7ebf\u7a0b <-ch_bool1 <-ch_bool2 <-ch_bool3 defer fmt.Println(\"\u4e3b\u7ebf\u7a0b\u7ed3\u675f......\") } // \u751f\u4ea7\u8005 func producer(ch1 chan int){ for i := 1; i <=10; i++{ ch1 <- i fmt.Println(\"\u751f\u4ea7\u8005\u751f\u4ea7,\u7f16\u53f7\u4e3a:\",i) time.Sleep(time.Duration(rand.Intn(500)) * time.Millisecond) } // \u5173\u95ed defer close(ch1) } // \u6d88\u8d39\u8005 func consumer(num int, ch1 chan int,ch chan bool){ for data := range ch1{ per := strings.Repeat(\"*\",num) fmt.Printf(\"%s %d\u6d88\u8d39\u4e86\u6570\u636e%d \\n\",per,num,data) time.Sleep(time.Duration(rand.Intn(500)) * time.Millisecond) } ch <- true // \u5173\u95ed defer close(ch) } /* \u751f\u4ea7\u8005\u751f\u4ea7,\u7f16\u53f7\u4e3a: 1 *** 3\u6d88\u8d39\u4e86\u6570\u636e1 \u751f\u4ea7\u8005\u751f\u4ea7,\u7f16\u53f7\u4e3a: 2 * 1\u6d88\u8d39\u4e86\u6570\u636e2 ** 2\u6d88\u8d39\u4e86\u6570\u636e3 \u751f\u4ea7\u8005\u751f\u4ea7,\u7f16\u53f7\u4e3a: 3 \u751f\u4ea7\u8005\u751f\u4ea7,\u7f16\u53f7\u4e3a: 4 *** 3\u6d88\u8d39\u4e86\u6570\u636e4 \u751f\u4ea7\u8005\u751f\u4ea7,\u7f16\u53f7\u4e3a: 5 * 1\u6d88\u8d39\u4e86\u6570\u636e5 \u751f\u4ea7\u8005\u751f\u4ea7,\u7f16\u53f7\u4e3a: 6 ** 2\u6d88\u8d39\u4e86\u6570\u636e6 \u751f\u4ea7\u8005\u751f\u4ea7,\u7f16\u53f7\u4e3a: 7 *** 3\u6d88\u8d39\u4e86\u6570\u636e7 \u751f\u4ea7\u8005\u751f\u4ea7,\u7f16\u53f7\u4e3a: 8 * 1\u6d88\u8d39\u4e86\u6570\u636e8 ** 2\u6d88\u8d39\u4e86\u6570\u636e9 \u751f\u4ea7\u8005\u751f\u4ea7,\u7f16\u53f7\u4e3a: 9 \u751f\u4ea7\u8005\u751f\u4ea7,\u7f16\u53f7\u4e3a: 10 *** 3\u6d88\u8d39\u4e86\u6570\u636e10 \u4e3b\u7ebf\u7a0b\u7ed3\u675f...... */","title":"\u4f7f\u7528channel\u6a21\u62df\u751f\u4ea7\u8005\u6d88\u8d39\u8005\u6a21\u578b"},{"location":"%E5%9F%BA%E7%A1%80/7/#channel_6","text":"channel\u9ed8\u8ba4\u90fd\u662f\u53cc\u5411\u7684\uff0c\u5373\u53ef\u8bfb\u53ef\u5199\u3002\u5b9a\u5411channel\u4e5f\u53eb\u5355\u5411channel\uff0c\u53ea\u8bfb\uff0c\u6216\u53ea\u5199\u3002 \u53ea\u8bfb\u65b9\u5f0fchannel\u4f7f\u7528\u65b9\u5f0f\u5982\u4e0b\uff1a make(<- chan Type) <- chan \u53ea\u5199channel\u4f7f\u7528\u65b9\u5f0f\u5982\u4e0b\uff1a make(chan <- Type) chan <- data \u76f4\u63a5\u521b\u5efa\u5355\u5411channel\u6ca1\u6709\u4efb\u4f55\u610f\u4e49\u3002\u901a\u5e38\u7684\u505a\u6cd5\u662f\u521b\u5efa\u53cc\u5411channel\uff0c\u7136\u540e\u4ee5\u5355\u5411channel\u7684\u65b9\u5f0f\u8fdb\u884c\u51fd\u6570\u4f20\u9012\u3002 package main import ( \"fmt\" \"time\" ) func main() { // \u53cc\u5411\u901a\u9053 ch1 := make(chan string) go func1(ch1) data := <- ch1 fmt.Println(\"main\u63a5\u53d7\u6570\u636e:\",data)// i'm whw ch1 <- \"i am Naruto!\" ch1 <- \"i am Sasuke!\" // \u53ea\u5199 go writeOnly(ch1) // \u53ea\u8bfb go readOnly(ch1) time.Sleep(time.Second) fmt.Println(\"main over...\") } // func1 func func1(ch1 chan string){ ch1 <- \"i'm whw\" data := <-ch1 data2 := <-ch1 fmt.Println(\"\u56de\u5e94:\",data,data2) } // \u53ea\u5199\u5165\u6570\u636e func writeOnly(ch1 chan<- string){ ch1 <- \"How are you?\" } // \u53ea\u8bfb\u53d6\u6570\u636e func readOnly(ch1 <- chan string){ data := <- ch1 fmt.Println(\"\u53ea\u8bfb:\",data) } /* main\u63a5\u53d7\u6570\u636e: i'm whw \u56de\u5e94: i am Naruto! i am Sasuke! \u53ea\u8bfb: How are you? main over... */","title":"\u5355\u5411channel"},{"location":"%E5%9F%BA%E7%A1%80/7/#7-timechannel","text":"","title":"7 time\u5305\u4e0echannel\u5305\u76f8\u5173\u7684\u51fd\u6570"},{"location":"%E5%9F%BA%E7%A1%80/7/#timer","text":"\u8ba1\u65f6\u5668\u7c7b\u578b\u8868\u793a\u5355\u4e2a\u4e8b\u4ef6\u3002 \u5f53\u8ba1\u65f6\u5668\u8fc7\u671f\u65f6\uff0c\u5f53\u524d\u65f6\u95f4\u5c06\u88ab\u53d1\u9001\u5230c\u4e0a\uff08c\u662f\u4e00\u4e2a\u53ea\u8bfbchannel \uff1c-chan time.Time\uff0c\u8be5channel\u4e2d\u653e\u5165\u7684\u662fTimer\u7ed3\u6784\u4f53\uff09\uff0c\u9664\u975e\u8ba1\u65f6\u5668\u662fAfter()\u521b\u5efa\u7684\u3002 \u8ba1\u65f6\u5668\u5fc5\u987b\u4f7f\u7528NewTimer()\u6216After()\u521b\u5efa\u3002 time.Timer\u7ed3\u6784\u4f53\uff1a // The Timer type represents a single event. // When the Timer expires, the current time will be sent on C, // unless the Timer was created by AfterFunc. // A Timer must be created with NewTimer or AfterFunc. type Timer struct { C <-chan Time r runtimeTimer }","title":"Timer\u7ed3\u6784\u4f53"},{"location":"%E5%9F%BA%E7%A1%80/7/#newtimer","text":"NewTimer()\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u8ba1\u65f6\u5668\uff0c\u5b83\u4f1a\u5728\u81f3\u5c11\u6301\u7eed\u65f6\u95f4d\u4e4b\u540e\u5c06\u5f53\u524d\u65f6\u95f4\u53d1\u9001\u5230\u5176channel\u4e0a\u3002 package main import ( \"fmt\" \"time\" ) func main() { // \u521b\u5efa\u8ba1\u65f6\u5668 timer1 := time.NewTimer(5 * time.Second) fmt.Printf(\"%T \\n\",timer1)// *time.Timer fmt.Println(time.Now())//2020-11-27 18:55:52.927053 +0800 CST m=+0.000120294 data := <-timer1.C fmt.Printf(\"%T \\n\",timer1.C)//<-chan time.Time fmt.Printf(\"%T \\n\",data)//time.Time fmt.Println(data)//2020-11-27 18:55:57.931412 +0800 CST m=+5.004453139 }","title":"NewTimer()\u51fd\u6570"},{"location":"%E5%9F%BA%E7%A1%80/7/#after","text":"After()\u51fd\u6570\u76f8\u5f53\u4e8eNewTimer(d). C\u3002 package main import ( \"fmt\" \"time\" ) func main() { // \u4f7f\u7528After \u8fd4\u56de\u503c <- chan Time \u540c Timer.C ch1 := time.After(5 * time.Second) fmt.Println(time.Now())//2020-11-27 18:59:01.895778 +0800 CST m=+0.000086840 data := <- ch1 fmt.Printf(\"%T \\n\",data)//time.Time fmt.Println(data)//2020-11-27 18:59:06.895843 +0800 CST m=+5.000126362 }","title":"After()\u51fd\u6570"},{"location":"%E5%9F%BA%E7%A1%80/7/#8-select","text":"select\u8bed\u53e5\u7684\u673a\u5236\u6709\u70b9\u50cfswitch\u8bed\u53e5\uff0c\u4e0d\u540c\u7684\u662f\uff0cselect\u4f1a\u968f\u673a\u6311\u9009\u4e00\u4e2a\u53ef\u901a\u4fe1\u7684case\u6765\u6267\u884c\uff0c\u5982\u679c\u6240\u6709case\u90fd\u6ca1\u6709\u6570\u636e\u5230\u8fbe\uff0c\u5219\u6267\u884cdefault\uff0c\u5982\u679c\u6ca1\u6709default\u8bed\u53e5\uff0cselect\u5c31\u4f1a\u963b\u585e\uff0c\u76f4\u5230\u6709case\u63a5\u6536\u5230\u6570\u636e\u3002 \uff08\u5b9e\u4f8b\u7565\uff09","title":"8 Select\u5206\u652f\u8bed\u53e5"},{"location":"%E5%9F%BA%E7%A1%80/7/#9-sync","text":"sync\u5305\u63d0\u4f9b\u4e86\u4e92\u65a5\u9501\u3002\u9664\u4e86Once\u548cWaitGroup\u7c7b\u578b\uff0c\u5176\u4f59\u591a\u6570\u9002\u7528\u4e8e\u4f4e\u6c34\u5e73\u7684\u7a0b\u5e8f\uff0c\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u9ad8\u6c34\u5e73\u7684\u540c\u6b65\u4f7f\u7528channel\u901a\u4fe1\u6027\u80fd\u4f1a\u66f4\u4f18\u4e00\u4e9b\u3002sync\u5305\u7c7b\u578b\u7684\u503c\u4e0d\u5e94\u88ab\u590d\u5236\u3002 \u524d\u9762\u7684\u6848\u4f8b\u4e2d\uff0c\u4e00\u822c\u4f7f\u7528time.Sleep()\u51fd\u6570\uff0c\u901a\u8fc7\u7761\u7720\u5c06\u4e3bGoroutine\u963b\u585e\u81f3\u6240\u6709Goroutine\u7ed3\u675f\u3002\u800c\u66f4\u597d\u7684\u505a\u6cd5\u662f\u4f7f\u7528WaitGroup\u6765\u5b9e\u73b0\u3002","title":"9 sync\u5305 ***"},{"location":"%E5%9F%BA%E7%A1%80/7/#_4","text":"\u81ea\u5df1\u7684\u535a\u5ba2\u6709\u76f8\u5173\u7684\u603b\u7ed3\uff1a[ \u4f7f\u7528waitgroup\u5728\u5faa\u73af\u4e2d\u5f00Goroutine\u5904\u7406\u5e76\u53d1\u4efb\u52a1 ] package main import ( \"fmt\" \"sync\" \"time\" ) func main() { // \u5f02\u6b65\u4ee3\u7801 lst := []int8{1,2,3} start := time.Now() // \u5b9a\u4e49\u4e00\u4e2awaitgroup wait := sync.WaitGroup{} for _,i := range lst{ // tag +1 wait.Add(1) // go\u4e00\u4e2a\u533f\u540d\u51fd\u6570 go func(delta int8){ // tag -1 defer wait.Done() DeltaTask(delta) }(i) } // \u4e3b\u7ebf\u7a0b\u7b49\u5f85 \"\u8ba1\u65f6\u5668\" \u4e3a0\u624d\u5f80\u4e0b\u8d70\u76f4\u5230\u505c\u6b62 wait.Wait() end := time.Now() ret := end.Sub(start) fmt.Printf(\"\u8017\u65f6\uff1a%v\",ret) } // \u6a21\u4eff\u8017\u65f6\u7684\u4efb\u52a1 func DeltaTask(i int8){ time.Sleep(time.Duration(i)*time.Second) } // \u8017\u65f6\uff1a3.005254124s","title":"\u540c\u6b65\u7b49\u5f85\u7ec4"},{"location":"%E5%9F%BA%E7%A1%80/7/#_5","text":"Mutex\u662f\u4e00\u4e2a\u4e92\u65a5\u9501\uff0c\u53ef\u4ee5\u521b\u5efa\u4e3a\u5176\u4ed6\u7ed3\u6784\u4f53\u7684\u5b57\u6bb5\uff1b\u96f6\u503c\u4e3a\u89e3\u9501\u72b6\u6001\u3002Mutex\u7c7b\u578b\u7684\u9501\u548c Goroutine\u65e0\u5173\uff0c\u53ef\u4ee5\u7531\u4e0d\u540c\u7684Goroutine\u52a0\u9501\u548c\u89e3\u9501\u3002 \u4e00\u4e2a\u552e\u7968\u5b9e\u4f8b\uff1a package main import ( \"fmt\" \"strconv\" \"strings\" \"sync\" \"time\" ) var tickets = 20 var wg sync.WaitGroup var mutex sync.Mutex func main() { wg.Add(4) go saleTickets(\"1\u53f7\u7a97\u53e3\",&wg) go saleTickets(\"2\u53f7\u7a97\u53e3\",&wg) go saleTickets(\"3\u53f7\u7a97\u53e3\",&wg) go saleTickets(\"4\u53f7\u7a97\u53e3\",&wg) // \u4e3b\u7ebf\u7a0b\u7b49\u5f85\u534f\u88ce\u7ed3\u675f wg.Wait() defer fmt.Println(\"\u6240\u6709\u8f66\u7968\u552e\u7f44\uff01\") } func saleTickets(name string, wg *sync.WaitGroup){ defer wg.Done() for{ // \u4e70\u7968\u65f6\u52a0\u9501 mutex.Lock() if tickets > 0{ // \u6a21\u62df\u5ef6\u8fdf time.Sleep(time.Second) // \u83b7\u53d6\u7a97\u53e3\u7f16\u53f7 num, _ := strconv.Atoi(name[:1]) pre := strings.Repeat(\"*\",num) fmt.Println(pre, name, tickets) tickets -- }else{ fmt.Printf(\"%s \u7ed3\u675f\u552e\u7968 \\n\",name) // \u89e3\u9501 mutex.Unlock() break } // \u5224\u65ad\u5b8c\u4e00\u6b21\u540e\u89e3\u9501\uff0c\u8fdb\u5165\u4e0b\u4e00\u6b21\u5224\u65ad mutex.Unlock() } }","title":"\u4e92\u65a5\u9501"},{"location":"%E5%9F%BA%E7%A1%80/7/#_6","text":"RWMutex\u662f\u8bfb\u5199\u4e92\u65a5\u9501\uff0c\u7b80\u79f0\u8bfb\u5199\u9501\u3002\u8be5\u9501\u53ef\u4ee5\u540c\u65f6\u88ab\u591a\u4e2a\u8bfb\u53d6\u8005\u6301\u6709\u6216\u88ab\u552f\u4e00\u4e2a\u5199\u5165\u8005\u6301\u6709\u3002RWMutex\u53ef\u4ee5\u521b\u5efa\u4e3a\u5176\u4ed6\u7ed3\u6784\u4f53\u7684\u5b57\u6bb5\uff1b\u96f6\u503c\u4e3a\u89e3\u9501\u72b6\u6001\u3002RWMutex\u7c7b\u578b\u7684\u9501\u4e5f\u548cGoroutine\u65e0\u5173\uff0c\u53ef\u4ee5\u7531\u4e0d\u540c\u7684Goroutine\u52a0\u8bfb\u53d6\u9501/\u5199\u5165\u9501\u548c\u89e3\u8bfb\u53d6\u9501/\u5199\u5165\u9501\u3002 \u8bfb\u5199\u9501\u7684\u4f7f\u7528\u4e2d\uff0c\u5199\u64cd\u4f5c\u90fd\u662f\u4e92\u65a5\u7684\uff0c\u8bfb\u548c\u5199\u662f\u4e92\u65a5\u7684\uff0c \u8bfb\u548c\u8bfb\u4e0d\u4e92\u65a5 \u3002 \u8be5\u89c4\u5219\u53ef\u4ee5\u7406\u89e3\u4e3a\uff0c\u53ef\u4ee5\u591a\u4e2aGoroutine\u540c\u65f6\u8bfb\u53d6\u6570\u636e\uff0c\u4f46\u662f\u53ea\u5141\u8bb8\u4e00\u4e2aGoroutine\u5199\u5165\u6570\u636e\u3002 c++ 1. Lock()\u65b9\u6cd5\u5c06rw\u9501\u5b9a\u4e3a\u5199\u5165\u72b6\u6001\uff0c\u7981\u6b62\u5176\u4ed6Goroutine\u8bfb\u53d6\u6216\u8005\u5199\u5165\u3002 2. Unlock()\u65b9\u6cd5\u89e3\u9664rw\u7684\u5199\u5165\u9501\uff0c\u5982\u679crw\u672a\u52a0\u5199\u5165\u9501\u4f1a\u5bfc\u81f4\u8fd0\u884c\u65f6\u9519\u8bef\u3002 3. RLock()\u65b9\u6cd5\u5c06rw\u9501\u5b9a\u4e3a\u8bfb\u53d6\u72b6\u6001\uff0c\u7981\u6b62\u5176\u4ed6Goroutine\u5199\u5165\uff0c\u4f46\u4e0d\u7981\u6b62\u8bfb\u53d6\u3002 4. RUnlock()\u65b9\u6cd5\u89e3\u9664rw\u7684\u8bfb\u53d6\u9501\uff0c\u5982\u679crw\u672a\u52a0\u8bfb\u53d6\u9501\u4f1a\u5bfc\u81f4\u8fd0\u884c\u65f6\u9519\u8bef\u3002 Rlocker()\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u8bfb\u5199\u9501\uff0c\u901a\u8fc7\u8c03\u7528rw.Rlock()\u548crw.RUnlock()\u5b9e\u73b0\u4e86Locker\u63a5\u53e3\u3002","title":"\u8bfb\u5199\u4e92\u65a5\u9501"},{"location":"%E5%9F%BA%E7%A1%80/7/#_7","text":"Cond \u5b9e\u73b0\u4e86\u4e00\u4e2a\u6761\u4ef6\u53d8\u91cf\uff0c\u4e00\u4e2aGoroutine\u96c6\u5408\u5730\uff0c\u4f9bGoroutine\u7b49\u5f85\u6216\u8005\u5ba3\u5e03\u67d0\u4e8b\u4ef6\u7684\u53d1\u751f\u3002 \u6bcf\u4e2aCond\u5b9e\u4f8b\u90fd\u6709\u4e00\u4e2a\u76f8\u5173\u7684\u9501\uff08\u4e00\u822c\u662f Mutex\u6216 RWMutex\u7c7b\u578b\u7684\u503c\uff09\uff0c\u5b83\u987b\u5728\u6539\u53d8\u6761\u4ef6\u65f6\u6216\u8005\u8c03\u7528Wait()\u65b9\u6cd5\u65f6\u4fdd\u6301\u9501\u5b9a\u3002Cond\u53ef\u4ee5\u521b\u5efa\u4e3a\u5176\u4ed6\u7ed3\u6784\u4f53\u7684\u5b57\u6bb5\uff0cCond\u5728\u5f00\u59cb\u4f7f\u7528\u540e\u4e0d\u80fd\u88ab\u590d\u5236\u3002\u6761\u4ef6\u53d8\u91cfsync.Cond\u662f\u591a\u4e2aGoroutine\u7b49\u5f85\u6216\u63a5\u53d7\u901a\u77e5\u7684\u96c6\u5408\u5730\u3002 \u56e0\u4e3aGoroutine\u4e2dWait()\u65b9\u6cd5\u662f\u7b2c\u4e00\u4e2a\u6062\u590d\u6267\u884c\u7684\uff0c\u800c\u6b64\u65f6c.L\u672a\u52a0\u9501\uff0c\u8c03\u7528\u8005\u4e0d\u5e94\u5047\u8bbeWait()\u6062\u590d\u65f6\u6761\u4ef6\u5df2\u6ee1\u8db3\uff0c\u76f8\u53cd\uff0c\u8c03\u7528\u8005\u5e94\u5728\u5faa\u73af\u4e2d\u7b49\u5f85\u3002\u5177\u4f53\u4f7f\u7528\u65b9\u5f0f\u5982\u4f8b12-19\u6240\u793a","title":"\u6761\u4ef6\u53d8\u91cf"},{"location":"%E5%9F%BA%E7%A1%80/7/#13-go","text":"\uff08\u7565\uff09","title":"13 Go\u8bed\u8a00\u5bc6\u7801\u5b66\u7b97\u6cd5"},{"location":"%E5%9F%BA%E7%A1%80/7/#14-beego","text":"\uff08\u7565\uff09","title":"14 Beego\u6846\u67b6\u9879\u76ee\u5b9e\u6218"},{"location":"%E5%9F%BA%E7%A1%80/%E4%B8%AA%E4%BA%BA%E5%AE%9E%E8%B7%B5/","text":"\u4e2a\u4ebagolang\u535a\u5ba2\u6c47\u603b \u7b14\u8005\u5728\u5de5\u4f5c\u4e0e\u5b66\u4e60\u7684\u8fc7\u7a0b\u4e2d\u4f1a\u5c06\u81ea\u5df1\u9047\u5230\u7684\u95ee\u9898\u4ee5\u53ca\u89e3\u51b3\u7684\u601d\u8def\u4e0e\u65b9\u6848\u505a\u6210demo\u603b\u7ed3\u4e00\u4e0b\uff0c\u65b9\u4fbf\u4ee5\u540e\u9047\u5230\u76f8\u540c\u7684\u95ee\u9898\u6216\u8005\u5bf9\u8fd9\u90e8\u5206\u77e5\u8bc6\u70b9\u53c8\u4e86\u66f4\u6df1\u523b\u7684\u8ba4\u8bc6\u540e\u505a\u4e00\u4e0b\u53c2\u8003\u5e76\u4e14\u5feb\u901f\u89e3\u51b3\u95ee\u9898\u3002 \u4e0b\u9762\u662f\u7b14\u8005\u535a\u5ba2\u56ed\u7684\u94fe\u63a5\uff0c\u6b22\u8fce\u53c2\u8003\uff1a Golang/Docker\u5f52\u7ed3","title":"01 \u4e2a\u4eba\u535a\u5ba2\u603b\u7ed3"},{"location":"%E5%9F%BA%E7%A1%80/%E4%B8%AA%E4%BA%BA%E5%AE%9E%E8%B7%B5/#golang","text":"\u7b14\u8005\u5728\u5de5\u4f5c\u4e0e\u5b66\u4e60\u7684\u8fc7\u7a0b\u4e2d\u4f1a\u5c06\u81ea\u5df1\u9047\u5230\u7684\u95ee\u9898\u4ee5\u53ca\u89e3\u51b3\u7684\u601d\u8def\u4e0e\u65b9\u6848\u505a\u6210demo\u603b\u7ed3\u4e00\u4e0b\uff0c\u65b9\u4fbf\u4ee5\u540e\u9047\u5230\u76f8\u540c\u7684\u95ee\u9898\u6216\u8005\u5bf9\u8fd9\u90e8\u5206\u77e5\u8bc6\u70b9\u53c8\u4e86\u66f4\u6df1\u523b\u7684\u8ba4\u8bc6\u540e\u505a\u4e00\u4e0b\u53c2\u8003\u5e76\u4e14\u5feb\u901f\u89e3\u51b3\u95ee\u9898\u3002 \u4e0b\u9762\u662f\u7b14\u8005\u535a\u5ba2\u56ed\u7684\u94fe\u63a5\uff0c\u6b22\u8fce\u53c2\u8003\uff1a Golang/Docker\u5f52\u7ed3","title":"\u4e2a\u4ebagolang\u535a\u5ba2\u6c47\u603b"}]}